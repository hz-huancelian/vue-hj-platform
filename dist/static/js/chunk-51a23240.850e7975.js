(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51a23240"],{"47bc":function(t,e,n){"use strict";n.d(e,"k",(function(){return i})),n.d(e,"p",(function(){return r})),n.d(e,"x",(function(){return o})),n.d(e,"r",(function(){return d})),n.d(e,"n",(function(){return l})),n.d(e,"g",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return m})),n.d(e,"u",(function(){return p})),n.d(e,"j",(function(){return f})),n.d(e,"m",(function(){return h})),n.d(e,"v",(function(){return g})),n.d(e,"i",(function(){return y})),n.d(e,"l",(function(){return b})),n.d(e,"s",(function(){return v})),n.d(e,"t",(function(){return S})),n.d(e,"q",(function(){return _})),n.d(e,"o",(function(){return x})),n.d(e,"D",(function(){return T})),n.d(e,"B",(function(){return w})),n.d(e,"w",(function(){return F})),n.d(e,"z",(function(){return C})),n.d(e,"G",(function(){return k})),n.d(e,"f",(function(){return I})),n.d(e,"e",(function(){return L})),n.d(e,"a",(function(){return O})),n.d(e,"A",(function(){return j})),n.d(e,"F",(function(){return A})),n.d(e,"y",(function(){return B}));var a=n("b775");function i(t){return Object(a["a"])({url:"/sampTask/findByCondition",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/sampTask/findHistoryByCondition",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/sampTask/getOfferFactorsByTaskId/".concat(t),method:"get"})}function d(t){return Object(a["a"])({url:"/sampItem/findByCondition",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/sampItem/findHistoryByCondition",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/sampItem/doAuditSampItemForLeader",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/sampItem/batchDoAuditSampItemForLeader",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/sampItem/doAuditSampItemForManager",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/sampItem/batchDoAuditSampItemForManager",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/sampItem/findSampTaskForManagerByCondition",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/sampItem/findAuditSampItemForManageByCondition",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/sampItem/findHisAuditSampItemForManageByCondition",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/sampItem/findSampleTaskForLeaderByCondition",method:"get",params:t})}function y(t){return Object(a["a"])({url:"/sampItem/findAuditSampItemForLeaderByCondition",method:"get",params:t})}function b(t){return Object(a["a"])({url:"/sampItem/findHisAuditSampItemForLeaderByCondition",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/sampTask/findSampTaskByCondition",method:"get",params:t})}function S(t){return Object(a["a"])({url:"/sampTask/findSampTaskDetailByCondition",method:"get",params:t})}function _(t){return Object(a["a"])({url:"/sampTask/findByCondition",method:"get",params:t})}function x(t){return Object(a["a"])({url:"/sampTask/findHistoryByCondition",method:"get",params:t})}function T(t){return Object(a["a"])({url:"/sampTask/getZjJobFactorsByJobId",method:"get",params:t})}function w(t){return Object(a["a"])({url:"/sampTask/getWbJobFactorsByJobId",method:"get",params:t})}function F(t){return Object(a["a"])({url:"/sampTask/getJobFactorsByJobId/".concat(t),method:"get"})}function C(t){return Object(a["a"])({url:"/sampTask/getSampleListByCondition",method:"get",params:t})}function k(t){return Object(a["a"])({url:"/sampTask/saveSampleList",headers:{"Content-Type":"application/json"},method:"post",data:t})}function I(t){return Object(a["a"])({url:"/sampTask/deleteSampleListById/".concat(t),method:"delete"})}function L(t){return Object(a["a"])({url:"/sampTask/confirmSampleList",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/sampTask/assignFactorPoint",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/sampTask/getSampleTaskPointBySampTaskId/".concat(t),method:"get"})}function A(t){return Object(a["a"])({url:"/sampTask/saveCombinedRemark",method:"post",data:t})}function B(t){return Object(a["a"])({url:"/sampTask/getSampleItemBySampTaskId",method:"get",params:t})}},"5c4e":function(t,e,n){},b5d4:function(t,e,n){"use strict";n("5c4e")},e7bb:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail-continer"},[n("el-card",{staticClass:"card-continer",staticStyle:{height:"550px"},attrs:{shadow:"never"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-row",[n("el-col",{attrs:{span:8}},[n("span",[t._v("样品列表"),n("i",{staticClass:"el-input__icon"})])]),n("el-col",{attrs:{span:8}},[t.showTitle?[n("el-row",{staticStyle:{"text-align":"center","font-size":"14px"}},[n("el-col",{attrs:{span:24}},[t._v("Web打印服务CLodop未安装启动，"),n("a",{staticStyle:{color:"red"},attrs:{href:"#"},on:{click:t.fileDownLoad}},[t._v("点击这里下载执行安装")])])],1),n("el-row",{staticStyle:{"text-align":"center","font-size":"14px","padding-top":"3px"}},[n("el-col",{attrs:{span:24}},[t._v("(若此前已安装过，"),n("a",{staticStyle:{color:"red"},attrs:{href:"#"},on:{click:t.tabPrint}},[t._v("可点这里直接再次启动")]),t._v("），成功后请刷新本页面。")])],1)]:[n("div",{staticStyle:{visibility:"hidden"}},[t._v("信息提示")])]],2),n("el-col",{staticStyle:{padding:"5px","text-align":"right"},attrs:{span:8}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.pageBack}},[t._v(" 返回")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.tabPrint}},[t._v(" 标签打印")])],1)],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.sampleData,"highlight-current-row":"","header-cell-style":{background:"#ECF3FC"},"max-height":"420px"},on:{"selection-change":t.handleSelectionChange}},[n("template",{slot:"empty"},[n("div",{staticClass:"table_empty"},[n("div",{staticClass:"empty_tips"},[n("span",[t._v("\n              暂无样品\n            ")])])])]),n("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),n("el-table-column",{attrs:{prop:"sampleNo",label:"样品编号",width:"150",align:"center"}}),n("el-table-column",{attrs:{prop:"secdClassName",label:"检测类别",align:"center"}}),n("el-table-column",{attrs:{prop:"factorName",label:"检测因子","min-width":"170px",align:"center"}}),n("el-table-column",{attrs:{prop:"factorPoint",label:"检测位置",align:"center"}}),n("el-table-column",{attrs:{prop:"dayAndCount",label:"频次(天/次)",width:"130px",align:"center"}}),n("el-table-column",{attrs:{prop:"smapStatus",label:"样品状态",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-tag",{attrs:{effect:"dark",type:t._f("statusQualityFilter")(a.smapStatus)}},[t._v("\n            "+t._s(t.SAMPLE_STATUS[a.smapStatus])+"\n          ")])]}}])}),n("el-table-column",{attrs:{prop:"sampleType",label:"是否分包",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-tag",{attrs:{effect:"dark",type:"1"===a.sampleType?"danger":"success"}},[t._v("\n            "+t._s("1"===a.sampleType?"分包":"自检")+"\n          ")])]}}])})],2),n("div",{staticStyle:{float:"right"}},[n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{"padding-top":"10px"},attrs:{total:t.total,page:t.searchForm.pageNumber,limit:t.searchForm.pageSize},on:{"update:page":function(e){return t.$set(t.searchForm,"pageNumber",e)},"update:limit":function(e){return t.$set(t.searchForm,"pageSize",e)},pagination:t.handleSearch}})],1)],1),n("div",{staticClass:"footer"},[n("el-row",{staticStyle:{color:"red"}},[n("el-col",{attrs:{span:24}},[t._v("\n        提示：\n      ")])],1),n("el-row",{staticStyle:{color:"red"}},[n("el-col",{attrs:{span:24}},[t._v("\n        1. 打印样品标签需要用到【热敏打印机】以及【三防热敏标签纸】；\n      ")])],1),n("el-row",{staticStyle:{color:"red"}},[n("el-col",{attrs:{span:24}},[t._v("\n        2. 由于一般电脑不带蓝牙，打印机建议使用USB版，而不是蓝牙版，推荐使用得力DL-888D型号；\n      ")])],1),n("el-row",{staticStyle:{color:"red"}},[n("el-col",{attrs:{span:24}},[t._v("\n        3. 三防热敏标签纸的尺寸为60*40mm，推荐得力品牌。\n      ")])],1)],1),n("div",{staticStyle:{overflow:"auto",opacity:"0"}},[n("div",{ref:"labelPrint",staticStyle:{margin:"0",padding:"5px"},attrs:{id:"labelPrint"}},t._l(t.printList,(function(e){return n("div",{key:e.sampItemId,staticStyle:{width:"60mm",height:"40mm",margin:"0",padding:"0px","font-size":"12px"}},[n("div",{staticStyle:{"padding-left":"10px","padding-top":"6px",display:"flex"}},[n("div",{staticStyle:{padding:"0px","line-height":"4mm"}},[t._v("受检单位:")]),n("div",{staticStyle:{"padding-left":"10px","line-height":"4mm"}},[t._v(t._s(t._f("ellipsis")(e.inspectionName)))])]),n("div",{staticStyle:{"padding-left":"10px",display:"flex"}},[n("div",{staticStyle:{padding:"0px","line-height":"4mm"}},[t._v("样品类别:")]),n("div",{staticStyle:{"padding-left":"10px","line-height":"4mm"}},[t._v(t._s(e.secdClassName))])]),n("div",{staticStyle:{"padding-left":"10px",display:"flex"}},[n("div",{staticStyle:{padding:"0px","line-height":"4mm"}},[t._v("检测因子:")]),n("div",{staticStyle:{"padding-left":"10px","line-height":"4mm"}},[t._v(t._s(t._f("ellipsis")(e.factorName)))])]),n("div",{staticStyle:{"text-align":"center","font-size":"12px"}},[n("barcode",{attrs:{value:e.sampleNo,options:t.barcode_option,tag:"svg"}})],1),n("div",{staticStyle:{"padding-left":"10px",display:"flex"}},[n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"8mm"}},[t._v("点位:")]),n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"29mm","text-align":"center"}},[t._v(t._s(e.factorPoint))]),n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"11mm"}},[t._v("次/天:")]),n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"8mm","text-align":"center"}},[t._v(t._s(e.frequency?e.frequency:"")+"/"+t._s(e.day?e.day:""))])]),t._m(0,!0),t._m(1,!0)])})),0)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-left":"10px",display:"flex"}},[n("div",{staticStyle:{padding:"0px","line-height":"3mm"}},[t._v("状态:")]),n("div",{staticStyle:{"padding-left":"10px","line-height":"4mm"}},[t._v("□未检 □在检 □已检")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-left":"10px",display:"flex"}},[n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"14mm"}},[t._v("日期:")]),n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"14mm"}},[t._v(" ")]),n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"14mm"}},[t._v("采样人:")]),n("div",{staticStyle:{padding:"0px","line-height":"3mm",width:"14mm"}},[t._v(" ")])])}],r=n("47bc"),o=(n("4917"),null);function d(){try{var t=navigator.userAgent;if(null!=t.match(/Windows\sPhone/i))return!0;if(null!=t.match(/iPhone|iPod/i))return!0;if(null!=t.match(/Android/i))return!0;if(null!=t.match(/Edge\D?\d+/i))return!0;var e=t.match(/Trident\D?\d+/i),n=t.match(/MSIE\D?\d+/i),a=t.match(/OPR\D?\d+/i),i=t.match(/Firefox\D?\d+/i),r=t.match(/x64/i);if(null==e&&null==n&&null!==r)return!0;if(null!==i){if(i=i[0].match(/\d+/),i[0]>=41||null!==r)return!0}else if(null!==a){if(a=a[0].match(/\d+/),a[0]>=32)return!0}else if(null==e&&null==n){var o=t.match(/Chrome\D?\d+/i);if(null!==o&&(o=o[0].match(/\d+/),o[0]>=41))return!0}return!1}catch(d){return!0}}if(d()){var l=document.head||document.getElementsByTagName("head")[0]||document.documentElement,s=document.createElement("script");s.src="http://localhost:8000/CLodopfuncs.js?priority=1",l.insertBefore(s,l.firstChild),s=document.createElement("script"),s.src="http://localhost:18000/CLodopfuncs.js?priority=0",l.insertBefore(s,l.firstChild)}function c(t,e){var n,a="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop32.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",i="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop32.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>",r="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop64.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",l="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop64.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>",s="<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>",c="<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>",u="<br><font color='#FF00FF'>CLodop云打印服务(localhost本地)未安装启动!点击这里<a href='http://www.lodop.net/download/CLodop_Setup_for_Win32NT_https_3.046Extend.zip' download target='_self'>执行安装</a>,安装后请刷新页面。</font>",m="<br><font color='#FF00FF'>CLodop云打印服务需升级!点击这里<a href='http://www.lodop.net/download/CLodop_Setup_for_Win32NT_https_3.046Extend.zip' download target='_self'>执行升级</a>,升级后请刷新页面。</font>";try{var p=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0;if(d()){try{n=getCLodop()}catch(h){}if(!n&&"complete"!==document.readyState)return void alert("C-Lodop没准备好，请稍后再试！");if(void 0===n)return;if(!n){try{p?document.write(u):document.body.innerHTML=u+document.body.innerHTML}catch(h){}return}CLODOP.CVERSION<"3.0.4.3"&&(p?document.write(m):document.body.innerHTML=m+document.body.innerHTML),e&&e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)}else{var f=p&&navigator.userAgent.indexOf("x64")>=0;if(void 0!=t||void 0!=e?n=p?t:e:null==o?(n=document.createElement("object"),n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),p?n.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):n.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(n),o=n):n=o,null==n||"undefined"===typeof n.VERSION)return navigator.userAgent.indexOf("Chrome")>=0&&(document.body.innerHTML=c+document.body.innerHTML),navigator.userAgent.indexOf("Firefox")>=0&&(document.body.innerHTML=s+document.body.innerHTML),f?document.write(r):p?document.write(a):document.body.innerHTML=a+document.body.innerHTML,n}return n.VERSION<"6.2.2.3"?(d()||(f?document.write(l):p?document.write(i):document.body.innerHTML=i+document.body.innerHTML),n):n}catch(h){alert("getLodop出错:"+h)}}var u=n("333d"),m={0:"待采样",1:"已采样",2:"待组长审核",3:"待负责人审核",4:"审核通过",5:"审核失败",6:"已入库",7:"部分出库",8:"已出库",9:"入库中",10:"待复核"},p={components:{Pagination:u["a"]},filters:{statusQualityFilter:function(t){return"0"===t||"1"===t?"":"2"===t||"3"===t?"info":"4"===t||t>5?"success":"danger"}},data:function(){return{SAMPLE_STATUS:m,sampleData:[],searchForm:{sampTaskId:"",pageNumber:1,pageSize:50},total:0,multipleSelection:[],barcode_option:{format:"CODE128",displayValue:!0,background:"rgba(255,255,255,.0)",width:"1.3px",fontOptions:"bold",height:"30mm",fontSize:"12px",textMargin:0,font:'12px/1.5 arial,"黑体"',textAlign:"center",margin:5},printList:[],showTitle:!1}},created:function(){this.$route.params.sampTaskId&&(this.searchForm.sampTaskId=this.$route.params.sampTaskId,this.handleSearch())},methods:{handleSearch:function(){var t=this;r["y"](this.searchForm).then((function(e){200===e.code&&e.result&&(t.sampleData=e.result.records||[],t.total=e.result.total)}))},handleSelectionChange:function(t){this.multipleSelection=t},tabPrint:function(){var t=this;this.multipleSelection&&this.multipleSelection.length>0?(this.printList=this.multipleSelection,this.$nextTick((function(){t.tagPrint()}))):this.$message.info("最少选择一条记录信息")},tagPrint:function(){var t=this,e=c();setTimeout((function(){t.$nextTick((function(){void 0!==e?(e.PRINT_INIT("标签"),e.ADD_PRINT_HTM(0,0,"60mm","40mm",document.getElementById("labelPrint").innerHTML),e.SET_PRINT_MODE("TRYLINKPRINTER_NOALERT",!0),e.PREVIEW()):t.showTitle=!0,t.showPrint=!1}))}),1e3)},pageBack:function(){this.$router.back()},fileDownLoad:function(){var t=this.$store.getters.sysBaseUrl+"/downLoad/CLodop_Setup_for_Win32NT.exe";window.open(t)}}},f=p,h=(n("b5d4"),n("2877")),g=Object(h["a"])(f,a,i,!1,null,"2db5cd3d",null);e["default"]=g.exports}}]);