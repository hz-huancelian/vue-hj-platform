{"remainingRequest":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjects\\vue-hj-platform\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\webstormProjects\\vue-hj-platform\\src\\directive\\permission\\hasPermi.js","dependencies":[{"path":"F:\\webstormProjects\\vue-hj-platform\\src\\directive\\permission\\hasPermi.js","mtime":1638241408000},{"path":"F:\\webstormProjects\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"F:\\\\webstormProjects\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\n/**\n * v-hasPermi 操作权限处理\n * Copyright (c) 2019 ruoyi\n */\nvar _default = {\n  inserted: function inserted(el, binding, vnode) {\n    var value = binding.value;\n    var all_permission = '*:*:*';\n    var permissions = _store.default.getters && _store.default.getters.permissions;\n\n    if (value && value instanceof Array && value.length > 0) {\n      var permissionFlag = value;\n      var hasPermissions = true;\n\n      if (permissions) {\n        hasPermissions = permissions.some(function (permission) {\n          return all_permission === permission || permissionFlag.includes(permission);\n        });\n      }\n\n      if (!hasPermissions) {\n        el.parentNode && el.parentNode.removeChild(el);\n      }\n    } else {\n      throw new Error(\"\\u8BF7\\u8BBE\\u7F6E\\u64CD\\u4F5C\\u6743\\u9650\\u6807\\u7B7E\\u503C\");\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["F:/webstormProjects/vue-hj-platform/src/directive/permission/hasPermi.js"],"names":["inserted","el","binding","vnode","value","all_permission","permissions","store","getters","Array","length","permissionFlag","hasPermissions","some","permission","includes","parentNode","removeChild","Error"],"mappings":";;;;;;;;;;;;;AAKA;;AALA;AACA;AACA;AACA;eAIe;AACbA,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAC3B,QAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;AACA,QAAMC,cAAc,GAAG,OAAvB;AACA,QAAMC,WAAW,GAAGC,eAAMC,OAAN,IAAiBD,eAAMC,OAAN,CAAcF,WAAnD;;AAEA,QAAIF,KAAK,IAAIA,KAAK,YAAYK,KAA1B,IAAmCL,KAAK,CAACM,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,cAAc,GAAGP,KAAvB;AACA,UAAIQ,cAAc,GAAG,IAArB;;AACA,UAAIN,WAAJ,EAAiB;AACfM,QAAAA,cAAc,GAAGN,WAAW,CAACO,IAAZ,CAAiB,UAAAC,UAAU,EAAI;AAC9C,iBAAOT,cAAc,KAAKS,UAAnB,IAAiCH,cAAc,CAACI,QAAf,CAAwBD,UAAxB,CAAxC;AACD,SAFgB,CAAjB;AAGD;;AAED,UAAI,CAACF,cAAL,EAAqB;AACnBX,QAAAA,EAAE,CAACe,UAAH,IAAiBf,EAAE,CAACe,UAAH,CAAcC,WAAd,CAA0BhB,EAA1B,CAAjB;AACD;AACF,KAZD,MAYO;AACL,YAAM,IAAIiB,KAAJ,gEAAN;AACD;AACF;AArBY,C","sourcesContent":["/**\n * v-hasPermi 操作权限处理\n * Copyright (c) 2019 ruoyi\n */\n\nimport store from '@/store'\n\nexport default {\n  inserted(el, binding, vnode) {\n    const { value } = binding\n    const all_permission = '*:*:*'\n    const permissions = store.getters && store.getters.permissions\n\n    if (value && value instanceof Array && value.length > 0) {\n      const permissionFlag = value\n      let hasPermissions = true\n      if (permissions) {\n        hasPermissions = permissions.some(permission => {\n          return all_permission === permission || permissionFlag.includes(permission)\n        })\n      }\n\n      if (!hasPermissions) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    } else {\n      throw new Error(`请设置操作权限标签值`)\n    }\n  }\n}\n"]}]}