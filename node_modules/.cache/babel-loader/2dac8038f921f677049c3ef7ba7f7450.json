{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\profile\\userInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\profile\\userInfo.vue","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = require(\"@/api/system/user\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  props: {\n    user: {\n      type: Object\n    },\n    oldPhone: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      // 表单校验\n      rules: {\n        empName: [{\n          required: true,\n          message: '用户姓名不能为空',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '邮箱地址不能为空',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: \"'请输入正确的邮箱地址\",\n          trigger: ['blur', 'change']\n        }],\n        phonenumber: [{\n          required: true,\n          message: '手机号码不能为空',\n          trigger: 'blur'\n        }, {\n          pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\n          message: '请输入正确的手机号码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submit: function submit() {\n      var _this = this;\n\n      if (this.user.oldPhone !== this.user.phonenumber) {\n        this.$refs['form'].validate(function (valid) {\n          if (valid) {\n            var data = {\n              userId: _this.user.userId,\n              empName: _this.user.empName,\n              phone: _this.user.phonenumber\n            };\n            debugger;\n            (0, _user.editUserById)(data).then(function (request) {\n              _this.msgSuccess('修改成功');\n            });\n          }\n        });\n      } else {\n        this.msgSuccess('信息没有改变!');\n      }\n    },\n    close: function close() {\n      // this.$store.dispatch('tagsView/delView', this.$route)\n      this.$router.push({\n        path: '/'\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["userInfo.vue"],"names":[],"mappings":";;;;;;;AAyBA;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAJA,GADA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,KAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,OAAA,EAAA,aAFA;AAGA,UAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAHA,SAFA,CAJA;AAYA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AACA,UAAA,OAAA,EAAA,8BADA;AAEA,UAAA,OAAA,EAAA,YAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAFA;AAZA;AAFA,KAAA;AAwBA,GAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,KAAA,IAAA,CAAA,QAAA,KAAA,KAAA,IAAA,CAAA,WAAA,EAAA;AACA,aAAA,KAAA,CAAA,MAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,EAAA;AACA,gBAAA,IAAA,GAAA;AACA,cAAA,MAAA,EAAA,KAAA,CAAA,IAAA,CAAA,MADA;AAEA,cAAA,OAAA,EAAA,KAAA,CAAA,IAAA,CAAA,OAFA;AAGA,cAAA,KAAA,EAAA,KAAA,CAAA,IAAA,CAAA;AAHA,aAAA;AAKA;AACA,oCAAA,IAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,cAAA,KAAA,CAAA,UAAA,CAAA,MAAA;AACA,aAFA;AAGA;AACA,SAZA;AAaA,OAdA,MAcA;AACA,aAAA,UAAA,CAAA,SAAA;AACA;AACA,KAnBA;AAoBA,IAAA,KApBA,mBAoBA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AAvBA;AApCA,C","sourcesContent":["<template>\n  <el-form ref=\"form\" :model=\"user\" :rules=\"rules\" label-width=\"80px\">\n    <el-form-item label=\"员工姓名\" prop=\"nickName\">\n      <el-input v-model=\"user.empName\" maxlength=\"30\" disabled />\n    </el-form-item>\n    <el-form-item label=\"手机号码\" prop=\"phonenumber\">\n      <el-input v-model=\"user.phonenumber\" maxlength=\"11\" />\n    </el-form-item>\n    <!-- <el-form-item label=\"邮箱\" prop=\"email\">\n      <el-input v-model=\"user.email\" maxlength=\"50\" />\n    </el-form-item>\n    <el-form-item label=\"性别\">\n      <el-radio-group v-model=\"user.sex\">\n        <el-radio label=\"0\">男</el-radio>\n        <el-radio label=\"1\">女</el-radio>\n      </el-radio-group>\n    </el-form-item> -->\n    <el-form-item>\n      <el-button type=\"primary\" size=\"small\" @click=\"submit\">保存</el-button>\n      <el-button type=\"danger\" size=\"small\" @click=\"close\">关闭</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { editUserById } from '@/api/system/user'\n\nexport default {\n  props: {\n    user: {\n      type: Object\n    },\n    oldPhone: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      // 表单校验\n      rules: {\n        empName: [\n          { required: true, message: '用户姓名不能为空', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '邮箱地址不能为空', trigger: 'blur' },\n          {\n            type: 'email',\n            message: \"'请输入正确的邮箱地址\",\n            trigger: ['blur', 'change']\n          }\n        ],\n        phonenumber: [\n          { required: true, message: '手机号码不能为空', trigger: 'blur' },\n          {\n            pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\n            message: '请输入正确的手机号码',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    submit() {\n      if (this.user.oldPhone !== this.user.phonenumber) {\n        this.$refs['form'].validate(valid => {\n          if (valid) {\n            const data = {\n              userId: this.user.userId,\n              empName: this.user.empName,\n              phone: this.user.phonenumber\n            }\n            debugger\n            editUserById(data).then(request => {\n              this.msgSuccess('修改成功')\n            })\n          }\n        })\n      } else {\n        this.msgSuccess('信息没有改变!')\n      }\n    },\n    close() {\n      // this.$store.dispatch('tagsView/delView', this.$route)\n      this.$router.push({ path: '/' })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/profile"}]}