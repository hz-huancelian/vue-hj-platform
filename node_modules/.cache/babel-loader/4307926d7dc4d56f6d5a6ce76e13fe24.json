{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderReportTaskList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderReportTaskList.vue","mtime":1647952239000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireDefault.js\");\n\nvar _interopRequireWildcard = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireWildcard.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nvar taskServer = _interopRequireWildcard(require(\"@/api/task\"));\n\nvar _Pagination = _interopRequireDefault(require(\"@/components/Pagination\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// Secondary package based on el-pagination\nvar _default = {\n  components: {\n    Pagination: _Pagination.default\n  },\n  data: function data() {\n    return {\n      taskData: [],\n      searchForm: {\n        taskId: '',\n        jobId: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      activitieModel: [],\n      taskInfosVisible: false,\n      factorData: [],\n      factorVisible: false\n    };\n  },\n  created: function created() {\n    if (this.$route.params.taskId) {\n      this.searchForm.taskId = this.$route.params.taskId;\n      this.handleSearch();\n    }\n  },\n  methods: {\n    handleSearch: function handleSearch() {\n      var _this = this;\n\n      taskServer.findJobForTask(this.searchForm).then(function (res) {\n        if (res.code === 200) {\n          _this.taskData = res.result.records.map(function (i) {\n            if (i.reportStatus !== '' && i.reportStatus === '6') {\n              _this.$set(i, 'taskStatus', '1');\n            } else {\n              _this.$set(i, 'taskStatus', '0');\n            }\n\n            _this.doProcessList(i);\n\n            return i;\n          }) || [];\n          _this.total = res.result.total;\n        }\n      });\n    },\n    doProcessList: function doProcessList(item) {\n      var activities = [{\n        name: '任务单',\n        content: '任务单',\n        timestamp: '',\n        size: 'normal',\n        type: 'success'\n      }, {\n        name: '采样',\n        content: '采样',\n        timestamp: '',\n        size: 'normal',\n        type: 'info'\n      }, {\n        name: '检测',\n        content: '检测',\n        timestamp: '',\n        size: 'normal',\n        type: 'info'\n      }, {\n        name: '报告生成',\n        content: '报告生成',\n        timestamp: '',\n        size: 'normal',\n        type: 'info'\n      }, {\n        attr: '报告审核',\n        content: '报告审核',\n        timestamp: '',\n        size: 'normal',\n        type: 'info'\n      }, {\n        attr: '报告签发',\n        content: '报告签发',\n        timestamp: '',\n        size: 'normal',\n        type: 'info'\n      }];\n      var startNum = 1;\n\n      if (item.isSampled === '1') {\n        activities[1].type = 'success';\n        startNum++;\n      }\n\n      if (item.isChecked === '1') {\n        activities[2].type = 'success';\n        startNum++;\n      }\n\n      if (item.reportStatus >= 1 && item.reportStatus !== 7) {\n        activities[3].type = 'success';\n        startNum++;\n      }\n\n      if (item.reportStatus >= 4 && item.reportStatus !== 7) {\n        activities[4].type = 'success';\n        startNum++;\n      }\n\n      if (item.reportStatus >= 5 && item.reportStatus !== 7) {\n        activities[5].type = 'success';\n        startNum++;\n      }\n\n      if (startNum >= 1 && startNum < 3) {\n        activities[1].type = 'warning';\n        activities[2].type = 'warning';\n      }\n\n      if (startNum >= 3) {\n        activities[1].type = 'success';\n        activities[2].type = 'success';\n        activities[3].type = 'warning';\n\n        if (startNum === 4) {\n          activities[3].type = 'success';\n          activities[4].type = 'warning';\n        } else if (startNum === 5) {\n          activities[3].type = 'success';\n          activities[4].type = 'success';\n          activities[5].type = 'warning';\n        } else if (startNum === 6) {\n          activities[3].type = 'success';\n          activities[4].type = 'success';\n          activities[5].type = 'success';\n        }\n      }\n\n      this.$set(item, 'infoList', activities);\n      this.$set(item, 'process', parseInt(Number(startNum / 6 * 100).toFixed(0)));\n    },\n    showInfos: function showInfos(row) {\n      this.activitieModel = [];\n      this.activitieModel = row.infoList;\n      this.taskInfosVisible = true;\n    },\n    handleDetail: function handleDetail(row) {\n      var _this2 = this;\n\n      taskServer.findJobFactorsById(row.jobId).then(function (res) {\n        _this2.factorData = res.result.map(function (i) {\n          if (i.dynamicParam !== '{}' && i.dynamicParam.indexOf('meanName') > -1) {\n            var dynParam = JSON.parse(i.dynamicParam);\n\n            _this2.$set(i, 'meanName', dynParam.meanName);\n          }\n\n          return i;\n        });\n        _this2.factorVisible = true;\n      });\n    },\n    goBack: function goBack() {\n      this.$router.back();\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["orderReportTaskList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"searchForm\" :inline=\"true\">\n      <el-row>\n        <el-col :span=\"20\">\n          <el-form-item label=\"任务单号:\">\n            <el-input v-model=\"searchForm.jobId\" style=\"width:165px\" placeholder=\"任务单号\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n            <el-button type=\"\" class=\"iconfont icon-fanhui\" @click=\"goBack\"> 返回</el-button>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"4\" class=\"search-right\">\n          <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div>\n      <el-table\n        stripe\n        border\n        :data=\"taskData\"\n        highlight-current-row\n        :header-cell-style=\"{background:'#ECF3FC'}\"\n        style=\"width: 100%\"\n      >\n        <template slot=\"empty\">\n          <div class=\"table_empty\">\n            <div class=\"empty_tips\">\n              <span>\n                暂无任务信息\n              </span>\n            </div>\n          </div>\n        </template>\n        <el-table-column prop=\"jobId\" label=\"任务单号\" width=\"140px\" align=\"center\" />\n        <el-table-column prop=\"projectName\" label=\"项目名称\" width=\"180px\" show-overflow-tooltip align=\"center\" />\n        <el-table-column prop=\"consignorName\" label=\"委托单位\" width=\"140px\" show-overflow-tooltip align=\"center\" />\n        <el-table-column prop=\"inspectionName\" label=\"受检单位\" width=\"140px\" show-overflow-tooltip align=\"center\" />\n\n        <el-table-column label=\"要求完成时间\" width=\"190px\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.startDate }} ~ {{ row.endDate }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"进度\" align=\"center\" width=\"140px\">\n          <template slot-scope=\"{row}\">\n            <div @mousedown=\"showInfos(row)\">\n              <el-progress :text-inside=\"true\" :stroke-width=\"14\" :percentage=\"row.process\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"taskStatus\" label=\"状态\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            <el-tag :type=\"row.taskStatus==='1'?'success':'primary'\">{{ row.taskStatus==='1'?'已完成':'未完成' }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" width=\"155px\" label=\"创建时间\" align=\"center\" />\n\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            <el-button type=\"text\" @click=\"handleDetail(row)\">详情</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div style=\"float: right\">\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"searchForm.pageNumber\"\n        :limit.sync=\"searchForm.pageSize\"\n        @pagination=\"handleSearch\"\n      />\n    </div>\n    <el-dialog title=\"任务进度表\" :visible.sync=\"taskInfosVisible\">\n      <div class=\"block\">\n        <el-timeline>\n          <el-timeline-item\n            v-for=\"(activity, index) in activitieModel\"\n            :key=\"index\"\n            :type=\"activity.type\"\n            :color=\"activity.color\"\n            :size=\"activity.size\"\n            :timestamp=\"activity.timestamp\"\n          >\n            {{ activity.content }}\n          </el-timeline-item>\n        </el-timeline>\n      </div>\n    </el-dialog>\n    <el-dialog title=\"因子调度详情\" :visible.sync=\"factorVisible\" width=\"80%\">\n      <el-table :data=\"factorData\" border stripe>\n        <el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\" />\n        <el-table-column prop=\"secdClassName\" label=\"检测类别\" min-width=\"110px\" align=\"center\" />\n        <el-table-column prop=\"factorName\" label=\"检测因子\" min-width=\"200\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.factorName }}<span style=\"color: red;\">{{ row.meanName&&row.meanName.length > 0?'('+ row.meanName +')':'' }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n        <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n        <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n        <el-table-column label=\"次数\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ Number(row.dayCount * row.frequency) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否合样\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.hyFlag==='1'?\"Y\":\"N\" }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否分包\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.fbFlag==='1'?\"Y\":\"N\" }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"factorRemark\" label=\"备注\" min-width=\"110\" align=\"center\" />\n      </el-table>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport * as taskServer from '@/api/task'\nimport Pagination from '@/components/Pagination' // Secondary package based on el-pagination\n\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      taskData: [],\n      searchForm: {\n        taskId: '',\n        jobId: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      activitieModel: [],\n      taskInfosVisible: false,\n      factorData: [],\n      factorVisible: false\n\n    }\n  },\n  created() {\n    if (this.$route.params.taskId) {\n      this.searchForm.taskId = this.$route.params.taskId\n      this.handleSearch()\n    }\n  },\n  methods: {\n    handleSearch() {\n      taskServer.findJobForTask(this.searchForm).then(res => {\n        if (res.code === 200) {\n          this.taskData = res.result.records.map(i => {\n            if (i.reportStatus !== '' && i.reportStatus === '6') {\n              this.$set(i, 'taskStatus', '1')\n            } else {\n              this.$set(i, 'taskStatus', '0')\n            }\n            this.doProcessList(i)\n            return i\n          }) || []\n          this.total = res.result.total\n        }\n      })\n    },\n    doProcessList(item) {\n      var activities = [\n        {\n          name: '任务单',\n          content: '任务单',\n          timestamp: '',\n          size: 'normal',\n          type: 'success'\n        },\n        {\n          name: '采样',\n          content: '采样',\n          timestamp: '',\n          size: 'normal',\n          type: 'info'\n        },\n        {\n          name: '检测',\n          content: '检测',\n          timestamp: '',\n          size: 'normal',\n          type: 'info'\n        },\n        {\n          name: '报告生成',\n          content: '报告生成',\n          timestamp: '',\n          size: 'normal',\n          type: 'info'\n        },\n        {\n          attr: '报告审核',\n          content: '报告审核',\n          timestamp: '',\n          size: 'normal',\n          type: 'info'\n        },\n        {\n          attr: '报告签发',\n          content: '报告签发',\n          timestamp: '',\n          size: 'normal',\n          type: 'info'\n        }\n      ]\n      var startNum = 1\n      if (item.isSampled === '1') {\n        activities[1].type = 'success'\n        startNum++\n      }\n      if (item.isChecked === '1') {\n        activities[2].type = 'success'\n        startNum++\n      }\n      if (item.reportStatus >= 1 && item.reportStatus !== 7) {\n        activities[3].type = 'success'\n        startNum++\n      }\n      if (item.reportStatus >= 4 && item.reportStatus !== 7) {\n        activities[4].type = 'success'\n        startNum++\n      }\n      if (item.reportStatus >= 5 && item.reportStatus !== 7) {\n        activities[5].type = 'success'\n        startNum++\n      }\n\n      if (startNum >= 1 && startNum < 3) {\n        activities[1].type = 'warning'\n        activities[2].type = 'warning'\n      }\n      if (startNum >= 3) {\n        activities[1].type = 'success'\n        activities[2].type = 'success'\n        activities[3].type = 'warning'\n        if (startNum === 4) {\n          activities[3].type = 'success'\n          activities[4].type = 'warning'\n        } else if (startNum === 5) {\n          activities[3].type = 'success'\n          activities[4].type = 'success'\n          activities[5].type = 'warning'\n        } else if (startNum === 6) {\n          activities[3].type = 'success'\n          activities[4].type = 'success'\n          activities[5].type = 'success'\n        }\n      }\n\n      this.$set(item, 'infoList', activities)\n      this.$set(item, 'process', parseInt(Number((startNum / 6) * 100).toFixed(0)))\n    },\n    showInfos(row) {\n      this.activitieModel = []\n      this.activitieModel = row.infoList\n      this.taskInfosVisible = true\n    },\n    handleDetail(row) {\n      taskServer.findJobFactorsById(row.jobId).then(res => {\n        this.factorData = res.result.map(i => {\n          if (i.dynamicParam !== '{}' && i.dynamicParam.indexOf('meanName') > -1) {\n            const dynParam = JSON.parse(i.dynamicParam)\n            this.$set(i, 'meanName', dynParam.meanName)\n          }\n          return i\n        })\n        this.factorVisible = true\n      })\n    },\n    goBack() {\n      this.$router.back()\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" type=\"text/scss\">\n  .search_div {\n    >div {\n      &:nth-child(1){\n        margin-right: 10px;\n      }\n      display: inline-block;\n    }\n  }\n\n  .search_input {\n    width: 200px;\n    margin-bottom: 5px;\n  }\n  .search-right {\n    text-align: right;\n    padding-right: 25px;\n  }\n  .item {\n    font-size: 16px;\n  }\n  ::v-deep .el-card .el-card__header {\n    padding: 5px 20px;\n    background: #D3D3D3;\n  }\n  .block-flex {\n    position: relative;\n    display: flex;\n    &>div{\n      border: 1px solid #B7B7B7;\n      width: 100px;\n      margin: 0;\n      line-height: 30px;\n      text-align: center;\n    }\n    &>div:first-child {\n      background: #B7B7B7;\n    }\n  }\n  .card-left {\n    width: 100%;\n    min-height: 200px;\n    max-height: 400px;\n  }\n  .card-right {\n    width: 100%;\n    min-height: 200px;\n    max-height: 400px;\n  }\n  .el-card {\n    overflow: auto;\n  }\n  .el-dropdown-link {\n    cursor: pointer;\n    color: #409EFF;\n  }\n  .el-icon-arrow-down {\n    font-size: 12px;\n  }\n  /deep/.el-table__header-wrapper  .el-checkbox{\n    display:none\n  }\n  .info-table-new {\n    font-size: 14px;\n    width: 100%;\n    text-align: center;\n    margin-top: 10px;\n    border-top: 1px solid #ececec;\n    border-left: 1px solid #ececec;\n    line-height: 35px;\n    td {\n      border-bottom: 1px solid #ececec;\n      border-right: 1px solid #ececec;\n      width: 25%;\n      height: 35px;\n      // &:nth-child(2n + 1) {\n      //   width: 25%;\n      //   background: #f5f5f5;\n      // }\n    }\n  }\n</style>\n\n<style scoped>\n\ntable {\n    background-color: transparent\n}\n\ncaption {\n    padding-top: 8px;\n    padding-bottom: 8px;\n    color: #777;\n    text-align: left\n}\n\nth {\n    text-align: left\n}\n\n.table {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 20px\n}\n\n.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th {\n    padding: 8px;\n    line-height: 1.42857143;\n    vertical-align: middle;\n    border-top: 1px solid #ddd\n}\n\n.table>thead>tr>th {\n    vertical-align: bottom;\n    border-bottom: 2px solid #ddd\n}\n\n.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th {\n    border-left: 1px solid #F1F2F4\n}\n\n.table>tbody+tbody {\n    border-top: 2px solid #ddd\n}\n\n.table .table {\n    background-color: #fff\n}\n\n.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th {\n    padding: 5px\n}\n\n.table-bordered {\n    border: 1px solid #ddd\n}\n\n.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th {\n    border: 1px solid #ddd\n}\n\n.table-bordered>thead>tr>td,.table-bordered>thead>tr>th {\n    border-bottom-width: 2px\n}\n\n.table-striped>tbody>tr:nth-of-type(odd) {\n    background-color: #f9f9f9\n}\n\n.table-hover>tbody>tr:hover {\n    background-color: #f5f5f5\n}\n\ntable col[class*=col-] {\n    position: static;\n    display: table-column;\n    float: none\n}\n\ntable td[class*=col-],table th[class*=col-] {\n    position: static;\n    display: table-cell;\n    float: none\n}\n\n.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active {\n    background-color: #f5f5f5\n}\n\n.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover {\n    background-color: #e8e8e8\n}\n\n.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success {\n    background-color: #dff0d8\n}\n\n.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover {\n    background-color: #d0e9c6\n}\n\n.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info {\n    background-color: #d9edf7\n}\n\n.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover {\n    background-color: #c4e3f3\n}\n\n.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning {\n    background-color: #fcf8e3\n}\n\n.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover {\n    background-color: #faf2cc\n}\n\n.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger {\n    background-color: #f2dede\n}\n\n.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover {\n    background-color: #ebcccc\n}\n\n.table-responsive {\n  min-height: 3.01%;\n  overflow-x: auto;\n}\n\n.table-bordered, .table-bordered > tbody > tr > td, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > td, .table-bordered > tfoot > tr > th, .table-bordered > thead > tr > td, .table-bordered > thead > tr > th {\n    border: 1px solid #e9ecef;\n    text-align: center;\n}\n\n.table-bordered, td, th {\n    border-radius: 0 !important;\n}\n\n.table-bordered > tbody > tr:last-child > td {\n    border-bottom: 1px solid #e9ecef;\n}\n\n.bootstrap-table .fixed-table-container .fixed-table-header {\n    overflow: hidden;\n    background: rgba(0, 0, 0, .05);\n}\n\n.fixed-table-header .table > thead > tr {\n    background: none !important;\n}\n\n.table > thead > tr {\n    color: #636363;\n    font-weight: 400;\n    background: rgba(0, 0, 0, .05);\n    /*   background: repeat-x #fafafa;\n  background-image: -webkit-linear-gradient(top,#F8F8F8 0,#fafafa 100%);\n  background-image: -o-linear-gradient(top,#F8F8F8 0,#fafafa 100%);\n  background-image: linear-gradient(to bottom,#F8F8F8 0,#fafafa 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff8f8f8', endColorstr='#ffececec', GradientType=0); */\n}\n\n.table > thead > tr > th {\n    border-color: #e9ecef;\n    font-weight: 700;\n    border-right-color: transparent;\n}\n\n.table > thead > tr > th .ace-icon:first-child {\n    margin-right: 2px;\n}\n\n.table > thead > tr > th:first-child {\n    border-left-color: #F1F1F1;\n}\n\n.table > thead > tr > th:last-child {\n    border-right-color: #F1F1F1;\n}\n\n.table.table-bordered > thead > tr > th {\n    vertical-align: middle;\n}\n\ntd.center, th.center {\n    text-align: center;\n}\n\ntd .lbl, th .lbl {\n    margin-bottom: 0;\n}\n\ntd .lbl:only-child, th .lbl:only-child {\n    vertical-align: top;\n}\n\n.table-header {\n    background-color: #307ECC;\n    color: #FFF;\n    font-size: 14px;\n    line-height: 38px;\n    padding-left: 12px;\n    margin-bottom: 1px;\n}\n\n.table-header .close {\n    margin-right: 8px;\n    margin-top: 0;\n    opacity: .45;\n    filter: alpha(opacity=45);\n}\n\n.table-header .close:hover {\n    opacity: .75;\n    filter: alpha(opacity=75);\n}\n\nth.detail-col {\n    width: 48px;\n    text-align: center;\n}\n\ntr.detail-row {\n    display: none;\n}\n\ntr.detail-row.open {\n    display: block;\n    display: table-row;\n}\n\ntr.detail-row > td {\n    background-color: #f1f6f8;\n    border-top: 3px solid #d1e1ea !important;\n}\n\n.table-detail {\n    background-color: #fff;\n    border: 1px solid #dcebf7;\n    width: 100%;\n    padding: 12px;\n}\n\n.table-detail td > .profile-user-info {\n    width: 100%;\n}\n\n</style>\n"],"sourceRoot":"src/views/task"}]}