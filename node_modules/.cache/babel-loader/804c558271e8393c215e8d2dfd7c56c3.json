{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\system\\control\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\system\\control\\index.vue","mtime":1654758772911},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireWildcard.js\");\n\nvar _interopRequireDefault = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Pagination = _interopRequireDefault(require(\"@/components/Pagination\"));\n\nvar fileServer = _interopRequireWildcard(require(\"@/api/fileResource\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar DEV_STATUS = {\n  '0': '采样',\n  '1': '检测'\n};\nvar USE_STATUS = {\n  '0': '闲置中',\n  '1': '使用中',\n  '2': '维修中'\n};\nvar CHECK_STATUS = {\n  '0': '月',\n  '1': '季度',\n  '2': '半年',\n  '3': '年',\n  '4': '两年',\n  '5': '三年'\n};\nvar _default = {\n  components: {\n    Pagination: _Pagination.default\n  },\n  data: function data() {\n    return {\n      CHECK_STATUS: CHECK_STATUS,\n      DEV_STATUS: DEV_STATUS,\n      USE_STATUS: USE_STATUS,\n      searchForm: {\n        fileType: '',\n        fileName: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      fileData: [],\n      fileDialogVisible: false,\n      fileForm: {\n        id: '',\n        fileType: '',\n        fileName: '',\n        fileNo: ''\n      },\n      fileRules: {\n        fileNo: [{\n          required: true,\n          message: '请录入控制编号',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.handleSearch();\n  },\n  methods: {\n    handleSearch: function handleSearch() {\n      var _this = this;\n\n      fileServer.findByCondition(this.searchForm).then(function (res) {\n        if (res.code === 200) {\n          _this.fileData = res.result.records || [];\n          _this.total = res.result.total;\n        }\n      });\n    },\n    handleUpdate: function handleUpdate(row) {\n      this.clearForm();\n      this.fileForm.id = row.id;\n      this.fileForm.fileType = row.fileType;\n      this.fileForm.fileName = row.fileName;\n      this.fileForm.fileNo = row.fileNo;\n      this.fileDialogVisible = true;\n    },\n    handleDownload: function handleDownload(row) {\n      var downUrl = this.$store.getters.sysBaseUrl + '/download/' + row.fileType + '-' + row.fileName + '.doc';\n      window.open(downUrl);\n    },\n    clearForm: function clearForm() {\n      this.fileForm = {\n        id: '',\n        fileType: '',\n        fileName: '',\n        fileNo: ''\n      };\n    },\n    confirmDialog: function confirmDialog() {\n      var _this2 = this;\n\n      this.$refs.fileForm.validate(function (valid) {\n        if (valid) {\n          var data = {\n            id: _this2.fileForm.id,\n            fileNo: _this2.fileForm.fileNo\n          };\n          fileServer.updateById(data).then(function (result) {\n            if (result.code === 200) {\n              _this2.$notify({\n                title: '成功',\n                message: result.message,\n                type: 'success'\n              });\n\n              _this2.handleSearch();\n\n              _this2.fileDialogVisible = false;\n            } else {\n              _this2.$notify({\n                title: '失败',\n                message: result.message,\n                type: 'error'\n              });\n            }\n          });\n        }\n      }).catch(function () {});\n    },\n    downLoadAll: function downLoadAll() {\n      var downUrl = this.$store.getters.sysBaseUrl + '/api/download/downloadControlFile';\n      window.open(downUrl);\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"searchForm\" :inline=\"true\">\n      <el-row>\n        <el-col :span=\"18\">\n          <el-form-item label=\"文件名称:\">\n            <el-input v-model=\"searchForm.fileName\" style=\"width:165px\" placeholder=\"文件名称\" />\n          </el-form-item>\n          <el-form-item label=\"文件类型:\">\n            <el-input v-model=\"searchForm.fileType\" style=\"width:165px\" placeholder=\"文件类型\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n            <el-button type=\"primary\" icon=\"el-icon-download\" @click=\"downLoadAll\"> 模板下载</el-button>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\" class=\"search-right\">\n          <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-table\n      stripe\n      :data=\"fileData\"\n      highlight-current-row\n      :header-cell-style=\"{background:'#ECF3FC'}\"\n      style=\"width: 100%\"\n    >\n      <template slot=\"empty\">\n        <div class=\"table_empty\">\n          <div class=\"empty_tips\">\n            <span>\n              暂无数据\n            </span>\n          </div>\n        </div>\n      </template>\n      <el-table-column type=\"index\" width=\"55\" label=\"序号\" align=\"center\" />\n      <el-table-column prop=\"fileType\" label=\"文件类型\" align=\"center\" />\n      <el-table-column prop=\"fileName\" label=\"文件名称\" align=\"center\" />\n      <el-table-column prop=\"fileNo\" label=\"文件控制编号\" align=\"center\" />\n\n      <el-table-column fixed=\"right\" align=\"center\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"handleUpdate(scope.row)\"> 编辑</el-button>\n          <el-button type=\"text\" @click=\"handleDownload(scope.row)\"> 模板下载</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div style=\"float: right\">\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"searchForm.pageNumber\"\n        :limit.sync=\"searchForm.pageSize\"\n        @pagination=\"handleSearch\"\n      />\n    </div>\n\n    <el-dialog title=\"控制编号修改\" :visible.sync=\"fileDialogVisible\" width=\"65%\" center>\n      <div style=\"width: 500px;margin:0 auto\">\n\n        <el-form ref=\"fileForm\" :model=\"fileForm\" :rules=\"fileRules\" label-width=\"120px\">\n          <el-row>\n            <el-col :span=\"24\">\n              <el-form-item label=\"文件类型:\">\n                <el-input v-model=\"fileForm.fileType\" placeholder=\"文件类型\" disabled style=\"width: 80%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\">\n              <el-form-item label=\"文件名称:\">\n                <el-input v-model=\"fileForm.fileName\" placeholder=\"文件名称\" disabled style=\"width: 80%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\">\n              <el-form-item label=\"文件控制编号:\">\n                <el-input v-model=\"fileForm.fileNo\" placeholder=\"文件控制编号\" style=\"width: 80%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"fileDialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nimport * as fileServer from '@/api/fileResource'\nconst DEV_STATUS = {\n  '0': '采样',\n  '1': '检测'\n}\nconst USE_STATUS = {\n  '0': '闲置中',\n  '1': '使用中',\n  '2': '维修中'\n}\nconst CHECK_STATUS = {\n  '0': '月',\n  '1': '季度',\n  '2': '半年',\n  '3': '年',\n  '4': '两年',\n  '5': '三年'\n}\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      CHECK_STATUS,\n      DEV_STATUS,\n      USE_STATUS,\n      searchForm: {\n        fileType: '',\n        fileName: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      fileData: [],\n      fileDialogVisible: false,\n      fileForm: {\n        id: '',\n        fileType: '',\n        fileName: '',\n        fileNo: ''\n      },\n      fileRules: {\n        fileNo: [{ required: true, message: '请录入控制编号', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.handleSearch()\n  },\n  methods: {\n    handleSearch() {\n      fileServer.findByCondition(this.searchForm).then(res => {\n        if (res.code === 200) {\n          this.fileData = res.result.records || []\n          this.total = res.result.total\n        }\n      })\n    },\n    handleUpdate(row) {\n      this.clearForm()\n      this.fileForm.id = row.id\n      this.fileForm.fileType = row.fileType\n      this.fileForm.fileName = row.fileName\n      this.fileForm.fileNo = row.fileNo\n      this.fileDialogVisible = true\n    },\n    handleDownload(row) {\n      const downUrl = this.$store.getters.sysBaseUrl + '/download/' + row.fileType + '-' + row.fileName + '.doc'\n      window.open(downUrl)\n    },\n    clearForm() {\n      this.fileForm = {\n        id: '',\n        fileType: '',\n        fileName: '',\n        fileNo: ''\n      }\n    },\n    confirmDialog() {\n      this.$refs.fileForm.validate(valid => {\n        if (valid) {\n          const data = {\n            id: this.fileForm.id,\n            fileNo: this.fileForm.fileNo\n          }\n          fileServer.updateById(data).then(result => {\n            if (result.code === 200) {\n              this.$notify({\n                title: '成功',\n                message: result.message,\n                type: 'success'\n              })\n              this.handleSearch()\n              this.fileDialogVisible = false\n            } else {\n              this.$notify({\n                title: '失败',\n                message: result.message,\n                type: 'error'\n              })\n            }\n          })\n        }\n      }).catch(() => {})\n    },\n    downLoadAll() {\n      const downUrl = this.$store.getters.sysBaseUrl + '/api/download/downloadControlFile'\n      window.open(downUrl)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" type=\"text/scss\">\n  .search_div {\n    >div {\n      &:nth-child(1){\n        margin-right: 10px;\n      }\n      display: inline-block;\n    }\n  }\n\n  .search_input {\n    width: 200px;\n    margin-bottom: 5px;\n  }\n  .search-right {\n    text-align: right;\n    padding-right: 25px;\n  }\n</style>\n"],"sourceRoot":"src/views/system/control"}]}