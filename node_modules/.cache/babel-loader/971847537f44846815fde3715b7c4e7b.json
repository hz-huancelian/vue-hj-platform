{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\system\\compone.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\system\\compone.vue","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireWildcard.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar ownerServer = _interopRequireWildcard(require(\"@/api/ownerContract\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      contractForm: {\n        id: '',\n        organName: '',\n        contControlId: 'HT001',\n        address: '',\n        postCode: '',\n        jurPerson: '',\n        agentPerson: '',\n        telFax: '',\n        bankName: '',\n        bankNo: '',\n        taxNumber: ''\n      },\n      isEdit: false,\n      contractRules: {\n        organName: [{\n          required: true,\n          message: '请录入机构名称',\n          trigger: 'blur'\n        }],\n        address: [{\n          required: true,\n          message: '请录入机构地址',\n          trigger: 'blur'\n        }],\n        postCode: [{\n          required: true,\n          message: '请录入邮政编号',\n          trigger: 'blur'\n        }],\n        jurPerson: [{\n          required: true,\n          message: '请录入法人',\n          trigger: 'blur'\n        }],\n        agentPerson: [{\n          required: true,\n          message: '请录入委托代理人',\n          trigger: 'blur'\n        }],\n        telFax: [{\n          required: true,\n          message: '请录入电话/传真',\n          trigger: 'blur'\n        }],\n        bankName: [{\n          required: true,\n          message: '请录入开户行',\n          trigger: 'blur'\n        }],\n        bankNo: [{\n          required: true,\n          message: '请录入银行卡号',\n          trigger: 'blur'\n        }],\n        taxNumber: [{\n          required: true,\n          message: '请录入企业税号',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.getOwnInfo();\n  },\n  methods: {\n    getOwnInfo: function getOwnInfo() {\n      var _this = this;\n\n      if (this.$store.getters.organId) {\n        ownerServer.findByOrganId(this.$store.getters.organId).then(function (res) {\n          if (res.code === 200 && res.result) {\n            _this.contractForm = res.result;\n            _this.isEdit = true;\n          }\n        });\n      }\n    },\n    confirm: function confirm() {\n      var _this2 = this;\n\n      this.$refs.contractForm.validate(function (valid) {\n        if (valid) {\n          _this2.contractForm.contControlId = 'HT001';\n\n          if (!_this2.isEdit) {\n            ownerServer.addOwnerContBase(_this2.contractForm).then(function (result) {\n              if (result.code === 200) {\n                _this2.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                });\n\n                _this2.getOwnInfo();\n              } else {\n                _this2.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                });\n              }\n            });\n          } else {\n            ownerServer.modifyOwnerContBaseById(_this2.contractForm).then(function (result) {\n              if (result.code === 200) {\n                _this2.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                });\n              } else {\n                _this2.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                });\n              }\n            });\n          }\n        } else {\n          _this2.$message.error('请录入完整信息');\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["compone.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card header=\"机构信息维护\" shadow=\"never\" style=\"min-height:600px\">\n      <div style=\"width: 98%;margin:0 auto\">\n        <el-form ref=\"contractForm\" :model=\"contractForm\" :rules=\"contractRules\" label-width=\"110px\">\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"organName\" label=\"机构名称:\">\n                <el-input v-model=\"contractForm.organName\" :disabled=\"isEdit\" maxlength=\"20\" style=\"width: 350pxpx\" placeholder=\"请录入机构名称\" />\n              </el-form-item>\n            </el-col>\n            <!-- <el-col :span=\"12\">\n              <el-form-item prop=\"contControlId\" label=\"文档控制编号\">\n                <el-input v-model=\"contractForm.contControlId\" style=\"width: 350pxpx\" maxlength=\"20\" placeholder=\"请录入文档控制编号\" />\n              </el-form-item>\n            </el-col> -->\n            <el-col :span=\"12\">\n              <el-form-item prop=\"jurPerson\" label=\"法定代表人:\">\n                <el-input v-model=\"contractForm.jurPerson\" style=\"width: 350pxpx\" maxlength=\"10\" placeholder=\"请录入法人\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"address\" label=\"通讯地址:\">\n                <el-input v-model=\"contractForm.address\" style=\"width: 350pxpx\" maxlength=\"35\" placeholder=\"请录入通讯地址\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"postCode\" label=\"邮政编码:\">\n                <el-input v-model=\"contractForm.postCode\" style=\"width: 350pxpx\" maxlength=\"6\" placeholder=\"请录入邮编\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"agentPerson\" label=\"委托代理人:\">\n                <el-input v-model=\"contractForm.agentPerson\" style=\"width: 350pxpx\" maxlength=\"12\" placeholder=\"请录入委托代理人\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"telFax\" label=\"电话/传真:\">\n                <el-input v-model=\"contractForm.telFax\" style=\"width: 350pxpx\" maxlength=\"15\" placeholder=\"请录入电话/传真\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"bankName\" label=\"开户行:\">\n                <el-input v-model=\"contractForm.bankName\" style=\"width: 350pxpx\" maxlength=\"30\" placeholder=\"请录入开户行\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"bankNo\" label=\"银行账号:\">\n                <el-input v-model=\"contractForm.bankNo\" style=\"width: 350pxpx\" maxlength=\"30\" placeholder=\"请录入银行卡号\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"taxNumber\" label=\"企业税号:\">\n                <el-input v-model=\"contractForm.taxNumber\" style=\"width: 350pxpx\" maxlength=\"20\" placeholder=\"请录入税号\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\" style=\"text-align:center;\">\n              <el-button type=\"primary\" @click=\"confirm\"> 保 存 </el-button>\n            </el-col>\n          </el-row>\n        </el-form>\n      </div>\n    </el-card>\n\n  </div>\n</template>\n\n<script>\nimport * as ownerServer from '@/api/ownerContract'\nexport default {\n  data() {\n    return {\n      contractForm: {\n        id: '',\n        organName: '',\n        contControlId: 'HT001',\n        address: '',\n        postCode: '',\n        jurPerson: '',\n        agentPerson: '',\n        telFax: '',\n        bankName: '',\n        bankNo: '',\n        taxNumber: ''\n      },\n      isEdit: false,\n      contractRules: {\n        organName: [{ required: true, message: '请录入机构名称', trigger: 'blur' }],\n        address: [{ required: true, message: '请录入机构地址', trigger: 'blur' }],\n        postCode: [{ required: true, message: '请录入邮政编号', trigger: 'blur' }],\n        jurPerson: [{ required: true, message: '请录入法人', trigger: 'blur' }],\n        agentPerson: [{ required: true, message: '请录入委托代理人', trigger: 'blur' }],\n        telFax: [{ required: true, message: '请录入电话/传真', trigger: 'blur' }],\n        bankName: [{ required: true, message: '请录入开户行', trigger: 'blur' }],\n        bankNo: [{ required: true, message: '请录入银行卡号', trigger: 'blur' }],\n        taxNumber: [{ required: true, message: '请录入企业税号', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.getOwnInfo()\n  },\n  methods: {\n    getOwnInfo() {\n      if (this.$store.getters.organId) {\n        ownerServer.findByOrganId(this.$store.getters.organId).then(res => {\n          if (res.code === 200 && res.result) {\n            this.contractForm = res.result\n            this.isEdit = true\n          }\n        })\n      }\n    },\n    confirm() {\n      this.$refs.contractForm.validate(valid => {\n        if (valid) {\n          this.contractForm.contControlId = 'HT001'\n          if (!this.isEdit) {\n            ownerServer.addOwnerContBase(this.contractForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n                this.getOwnInfo()\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          } else {\n            ownerServer.modifyOwnerContBaseById(this.contractForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          }\n        } else {\n          this.$message.error('请录入完整信息')\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n  ::v-deep .el-card .el-card__header {\n    padding: 15px 20px;\n    background: #F3F2F2;\n  }\n</style>\n"],"sourceRoot":"src/views/system"}]}