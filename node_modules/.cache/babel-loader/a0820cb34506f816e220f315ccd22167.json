{"remainingRequest":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjects\\vue-hj-platform\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\webstormProjects\\vue-hj-platform\\src\\utils\\ruoyi.js","dependencies":[{"path":"F:\\webstormProjects\\vue-hj-platform\\src\\utils\\ruoyi.js","mtime":1637214064000},{"path":"F:\\webstormProjects\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"F:\\\\webstormProjects\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addDateRange = addDateRange;\nexports.download = download;\nexports.handleTree = handleTree;\nexports.parseTime = parseTime;\nexports.praseStrEmpty = praseStrEmpty;\nexports.resetForm = resetForm;\nexports.selectDictLabel = selectDictLabel;\nexports.selectDictLabels = selectDictLabels;\nexports.sprintf = sprintf;\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"F:\\\\webstormProjects\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\createForOfIteratorHelper.js\"));\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar _typeof2 = _interopRequireDefault(require(\"F:\\\\webstormProjects\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\typeof.js\"));\n\nvar _chalk = require(\"chalk\");\n\n/**\n * 通用js方法封装处理\n * Copyright (c) 2019 ruoyi\n */\nvar baseURL = process.env.VUE_APP_BASE_API; // 日期格式化\n\nfunction parseTime(time, pattern) {\n  if (arguments.length === 0 || !time) {\n    return null;\n  }\n\n  var format = pattern || '{y}-{m}-{d} {h}:{i}:{s}';\n  var date;\n\n  if ((0, _typeof2.default)(time) === 'object') {\n    date = time;\n  } else {\n    if (typeof time === 'string' && /^[0-9]+$/.test(time)) {\n      time = parseInt(time);\n    } else if (typeof time === 'string') {\n      time = time.replace(new RegExp(/-/gm), '/');\n    }\n\n    if (typeof time === 'number' && time.toString().length === 10) {\n      time = time * 1000;\n    }\n\n    date = new Date(time);\n  }\n\n  var formatObj = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay()\n  };\n  var time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, function (result, key) {\n    var value = formatObj[key]; // Note: getDay() returns 0 on Sunday\n\n    if (key === 'a') {\n      return ['日', '一', '二', '三', '四', '五', '六'][value];\n    }\n\n    if (result.length > 0 && value < 10) {\n      value = '0' + value;\n    }\n\n    return value || 0;\n  });\n  return time_str;\n} // 表单重置\n\n\nfunction resetForm(refName) {\n  if (this.$refs[refName]) {\n    this.$refs[refName].resetFields();\n  }\n} // 添加日期范围\n\n\nfunction addDateRange(params, dateRange, propName) {\n  var search = params;\n  search.params = {};\n\n  if (dateRange != null && dateRange !== '') {\n    if (typeof propName === 'undefined') {\n      search.params['beginTime'] = dateRange[0];\n      search.params['endTime'] = dateRange[1];\n    } else {\n      search.params['begin' + propName] = dateRange[0];\n      search.params['end' + propName] = dateRange[1];\n    }\n  }\n\n  return search;\n} // 回显数据字典\n\n\nfunction selectDictLabel(datas, value) {\n  var actions = [];\n  Object.keys(datas).some(function (key) {\n    if (datas[key].dictValue === '' + value) {\n      actions.push(datas[key].dictLabel);\n      return true;\n    }\n  });\n  return actions.join('');\n} // 回显数据字典（字符串数组）\n\n\nfunction selectDictLabels(datas, value, separator) {\n  var actions = [];\n  var currentSeparator = undefined === separator ? ',' : separator;\n  var temp = value.split(currentSeparator);\n  Object.keys(value.split(currentSeparator)).some(function (val) {\n    Object.keys(datas).some(function (key) {\n      if (datas[key].dictValue === '' + temp[val]) {\n        actions.push(datas[key].dictLabel + currentSeparator);\n      }\n    });\n  });\n  return actions.join('').substring(0, actions.join('').length - 1);\n} // 通用下载方法\n\n\nfunction download(fileName) {\n  window.location.href = baseURL + '/common/download?fileName=' + encodeURI(fileName) + '&delete=' + true;\n} // 字符串格式化(%s )\n\n\nfunction sprintf(str) {\n  var args = arguments;\n  var flag = true;\n  var i = 1;\n  str = str.replace(/%s/g, function () {\n    var arg = args[i++];\n\n    if (typeof arg === 'undefined') {\n      flag = false;\n      return '';\n    }\n\n    return arg;\n  });\n  return flag ? str : '';\n} // 转换字符串，undefined,null等转化为\"\"\n\n\nfunction praseStrEmpty(str) {\n  if (!str || str === 'undefined' || str === 'null') {\n    return '';\n  }\n\n  return str;\n}\n/**\n * 构造树型结构数据\n * @param {*} data 数据源\n * @param {*} id id字段 默认 'id'\n * @param {*} parentId 父节点字段 默认 'parentId'\n * @param {*} children 孩子节点字段 默认 'children'\n */\n\n\nfunction handleTree(data, id, parentId, children) {\n  var config = {\n    id: id || 'id',\n    parentId: parentId || 'parentId',\n    childrenList: children || 'children'\n  };\n  var childrenListMap = {};\n  var nodeIds = {};\n  var tree = [];\n  debugger;\n\n  var _iterator = (0, _createForOfIteratorHelper2.default)(data),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var d = _step.value;\n      var usParentId = d[config.parentId];\n\n      if (childrenListMap[usParentId] === null || childrenListMap[usParentId] === undefined) {\n        childrenListMap[usParentId] = [];\n      }\n\n      nodeIds[d[config.id]] = d;\n      childrenListMap[usParentId].push(d);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = (0, _createForOfIteratorHelper2.default)(data),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _d = _step2.value;\n      var _usParentId = _d[config.parentId];\n\n      if (nodeIds[_usParentId] === null || nodeIds[_usParentId] === undefined) {\n        tree.push(_d);\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  for (var _i = 0, _tree = tree; _i < _tree.length; _i++) {\n    var t = _tree[_i];\n    adaptToChildrenList(t);\n  }\n\n  function adaptToChildrenList(o) {\n    if (childrenListMap[o[config.id]] !== null) {\n      o[config.childrenList] = childrenListMap[o[config.id]];\n    }\n\n    if (o[config.childrenList]) {\n      var _iterator3 = (0, _createForOfIteratorHelper2.default)(o[config.childrenList]),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var c = _step3.value;\n          adaptToChildrenList(c);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }\n\n  return tree;\n}",{"version":3,"sources":["F:/webstormProjects/vue-hj-platform/src/utils/ruoyi.js"],"names":["baseURL","process","env","VUE_APP_BASE_API","parseTime","time","pattern","arguments","length","format","date","test","parseInt","replace","RegExp","toString","Date","formatObj","y","getFullYear","m","getMonth","d","getDate","h","getHours","i","getMinutes","s","getSeconds","a","getDay","time_str","result","key","value","resetForm","refName","$refs","resetFields","addDateRange","params","dateRange","propName","search","selectDictLabel","datas","actions","Object","keys","some","dictValue","push","dictLabel","join","selectDictLabels","separator","currentSeparator","undefined","temp","split","val","substring","download","fileName","window","location","href","encodeURI","sprintf","str","args","flag","arg","praseStrEmpty","handleTree","data","id","parentId","children","config","childrenList","childrenListMap","nodeIds","tree","usParentId","t","adaptToChildrenList","o","c"],"mappings":"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","sourcesContent":["/**\n * 通用js方法封装处理\n * Copyright (c) 2019 ruoyi\n */\n\nimport { underline } from 'chalk'\n\nconst baseURL = process.env.VUE_APP_BASE_API\n\n// 日期格式化\nexport function parseTime(time, pattern) {\n  if (arguments.length === 0 || !time) {\n    return null\n  }\n  const format = pattern || '{y}-{m}-{d} {h}:{i}:{s}'\n  let date\n  if (typeof time === 'object') {\n    date = time\n  } else {\n    if ((typeof time === 'string') && (/^[0-9]+$/.test(time))) {\n      time = parseInt(time)\n    } else if (typeof time === 'string') {\n      time = time.replace(new RegExp(/-/gm), '/')\n    }\n    if ((typeof time === 'number') && (time.toString().length === 10)) {\n      time = time * 1000\n    }\n    date = new Date(time)\n  }\n  const formatObj = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay()\n  }\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n    let value = formatObj[key]\n    // Note: getDay() returns 0 on Sunday\n    if (key === 'a') { return ['日', '一', '二', '三', '四', '五', '六'][value] }\n    if (result.length > 0 && value < 10) {\n      value = '0' + value\n    }\n    return value || 0\n  })\n  return time_str\n}\n\n// 表单重置\nexport function resetForm(refName) {\n  if (this.$refs[refName]) {\n    this.$refs[refName].resetFields()\n  }\n}\n\n// 添加日期范围\nexport function addDateRange(params, dateRange, propName) {\n  var search = params\n  search.params = {}\n  if (dateRange != null && dateRange !== '') {\n    if (typeof (propName) === 'undefined') {\n      search.params['beginTime'] = dateRange[0]\n      search.params['endTime'] = dateRange[1]\n    } else {\n      search.params['begin' + propName] = dateRange[0]\n      search.params['end' + propName] = dateRange[1]\n    }\n  }\n  return search\n}\n\n// 回显数据字典\nexport function selectDictLabel(datas, value) {\n  var actions = []\n  Object.keys(datas).some((key) => {\n    if (datas[key].dictValue === ('' + value)) {\n      actions.push(datas[key].dictLabel)\n      return true\n    }\n  })\n  return actions.join('')\n}\n\n// 回显数据字典（字符串数组）\nexport function selectDictLabels(datas, value, separator) {\n  var actions = []\n  var currentSeparator = undefined === separator ? ',' : separator\n  var temp = value.split(currentSeparator)\n  Object.keys(value.split(currentSeparator)).some((val) => {\n    Object.keys(datas).some((key) => {\n      if (datas[key].dictValue === ('' + temp[val])) {\n        actions.push(datas[key].dictLabel + currentSeparator)\n      }\n    })\n  })\n  return actions.join('').substring(0, actions.join('').length - 1)\n}\n\n// 通用下载方法\nexport function download(fileName) {\n  window.location.href = baseURL + '/common/download?fileName=' + encodeURI(fileName) + '&delete=' + true\n}\n\n// 字符串格式化(%s )\nexport function sprintf(str) {\n  var args = arguments; var flag = true; var i = 1\n  str = str.replace(/%s/g, function() {\n    var arg = args[i++]\n    if (typeof arg === 'undefined') {\n      flag = false\n      return ''\n    }\n    return arg\n  })\n  return flag ? str : ''\n}\n\n// 转换字符串，undefined,null等转化为\"\"\nexport function praseStrEmpty(str) {\n  if (!str || str === 'undefined' || str === 'null') {\n    return ''\n  }\n  return str\n}\n\n/**\n * 构造树型结构数据\n * @param {*} data 数据源\n * @param {*} id id字段 默认 'id'\n * @param {*} parentId 父节点字段 默认 'parentId'\n * @param {*} children 孩子节点字段 默认 'children'\n */\nexport function handleTree(data, id, parentId, children) {\n  const config = {\n    id: id || 'id',\n    parentId: parentId || 'parentId',\n    childrenList: children || 'children'\n  }\n\n  var childrenListMap = {}\n  var nodeIds = {}\n  var tree = []\n  debugger\n  for (const d of data) {\n    const usParentId = d[config.parentId]\n    if (childrenListMap[usParentId] === null || childrenListMap[usParentId] === undefined) {\n      childrenListMap[usParentId] = []\n    }\n    nodeIds[d[config.id]] = d\n    childrenListMap[usParentId].push(d)\n  }\n\n  for (const d of data) {\n    const usParentId = d[config.parentId]\n    if (nodeIds[usParentId] === null || nodeIds[usParentId] === undefined) {\n      tree.push(d)\n    }\n  }\n\n  for (const t of tree) {\n    adaptToChildrenList(t)\n  }\n\n  function adaptToChildrenList(o) {\n    if (childrenListMap[o[config.id]] !== null) {\n      o[config.childrenList] = childrenListMap[o[config.id]]\n    }\n    if (o[config.childrenList]) {\n      for (const c of o[config.childrenList]) {\n        adaptToChildrenList(c)\n      }\n    }\n  }\n  return tree\n}\n"]}]}