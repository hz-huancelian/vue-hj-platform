{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderReportTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderReportTask.vue","mtime":1653355517000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\babel.config.js","mtime":1637214064000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireWildcard.js\");\n\nvar _interopRequireDefault = require(\"F:\\\\webstormProjectsJiu\\\\vue-hj-platform\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _Pagination = _interopRequireDefault(require(\"@/components/Pagination\"));\n\nvar _FactorChoseList = _interopRequireDefault(require(\"@/components/FactorChoseList\"));\n\nvar taskServer = _interopRequireWildcard(require(\"@/api/task\"));\n\nvar dictServer = _interopRequireWildcard(require(\"@/api/dict\"));\n\nvar _validate = require(\"@/utils/validate\");\n\nvar _vueUuid = require(\"vue-uuid\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// Secondary package based on el-pagination\nvar TASK_STATUS = {\n  '0': '待调度',\n  '1': '调度中',\n  '2': '调度完成'\n};\nvar _default = {\n  components: {\n    Pagination: _Pagination.default,\n    FactorChoseList: _FactorChoseList.default\n  },\n  filters: {\n    statusQualityFilter: function statusQualityFilter(status) {\n      var statusMap = {\n        '0': '',\n        '1': 'warning',\n        '2': 'success'\n      };\n      return statusMap[status];\n    }\n  },\n  data: function data() {\n    var validatePhone = function validatePhone(rule, value, callback) {\n      if (value && value.length > 0) {\n        if ((0, _validate.validPhone)(value)) {\n          callback();\n        } else {\n          callback(new Error('输入正确的电话号码'));\n        }\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      TASK_STATUS: TASK_STATUS,\n      searchForm: {\n        scheduCircle: '',\n        contCode: '',\n        projectName: '',\n        scheduStatus: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      taskData: [],\n      taskVisible: false,\n      taskForm: {\n        projectName: '',\n        offerId: '',\n        contCode: '',\n        consignorName: '',\n        consignorLinker: '',\n        consignorLinkerPhone: ''\n      },\n      factorData: [],\n      factorTaskData: [],\n      planTaskData: [],\n      offerDisForm: {\n        taskId: '',\n        jobId: '',\n        projectName: '',\n        consignorName: '',\n        consignorLinker: '',\n        consignorLinkerPhone: '',\n        inspectionName: '',\n        inspectionLinker: '',\n        inspectionLinkerPhone: '',\n        startDate: '',\n        endDate: '',\n        projectAddress: '',\n        province: '',\n        city: '',\n        county: '',\n        checkGoal: '',\n        jobRemark: '',\n        factorTdos: []\n      },\n      OfferDisRules: {\n        consignorLinker: [{\n          required: true,\n          message: '请录入委托人',\n          trigger: 'blur'\n        }],\n        consignorLinkerPhone: [{\n          required: true,\n          message: '请录入委托人联系方式',\n          trigger: 'blur'\n        }],\n        inspectionName: [{\n          required: true,\n          message: '请录入受检单位',\n          trigger: 'blur'\n        }],\n        inspectionLinker: [{\n          required: true,\n          message: '请录入受检人',\n          trigger: 'blur'\n        }],\n        inspectionLinkerPhone: [{\n          required: true,\n          message: '请录入受检人联系方式',\n          trigger: 'blur'\n        }, {\n          required: true,\n          validator: validatePhone,\n          trigger: 'blur'\n        }],\n        startDate: [{\n          required: true,\n          message: '请选择开始时间',\n          trigger: 'blur'\n        }],\n        endDate: [{\n          required: true,\n          message: '请选择结束时间',\n          trigger: 'blur'\n        }],\n        projectAddress: [{\n          required: true,\n          message: '地址信息不能为空',\n          trigger: 'blur'\n        }]\n      },\n      provinceArray: [],\n      cityArray: [],\n      areaArray: [],\n      currentRow: {},\n      taskTitle: '',\n      taskSedVisible: false,\n      multipleSelection: [],\n      planFactorVisible: false,\n      planFactorDetails: [],\n      // 因子列表-详情查看\n      taskFacotyVisible: false,\n      // 添加因子\n      currentUUid: '',\n      cleanAttr: '',\n      choseFatcors: [],\n      factorVisible: false,\n      currentJobId: '',\n      clearData: false\n    };\n  },\n  created: function created() {\n    this.getProvince();\n    this.handleSearch();\n  },\n  methods: {\n    getProvince: function getProvince() {\n      var _this = this;\n\n      dictServer.getFirstLevel().then(function (res) {\n        _this.provinceArray = res.result;\n      });\n    },\n    getSubRegionByRegionCode: function getSubRegionByRegionCode(type, regionCode) {\n      if (regionCode === 'cityArray') {\n        this.offerDisForm.city = '';\n        this.offerDisForm.county = '';\n      } else {\n        this.offerDisForm.county = '';\n      }\n\n      this.getRegionCode(type, regionCode);\n    },\n    getRegionCode: function getRegionCode(type, regionCode) {\n      var _this2 = this;\n\n      dictServer.getSubRegionByRegionCode(regionCode).then(function (res) {\n        _this2[type] = res.result;\n      });\n    },\n    handleSearch: function handleSearch() {\n      var _this3 = this;\n\n      taskServer.findByCondition(this.searchForm).then(function (res) {\n        _this3.taskData = res.result.records || [];\n        _this3.total = res.result.total;\n      });\n    },\n    handleDetail: function handleDetail(row) {\n      this.$router.push(\"/other/orderReportTaskList/\".concat(row.taskId));\n    },\n    doProcessData: function doProcessData(data) {\n      var _this4 = this;\n\n      var parentArray = [];\n\n      if (data.length > 0) {\n        var factMap = new Map();\n        data.forEach(function (i) {\n          var o = parentArray.find(function (j) {\n            return j.secdClassName === i.secdClassName && j.fbFlag === i.fbFlag;\n          });\n\n          if (!o) {\n            parentArray.push({\n              secdClassName: i.secdClassName,\n              fbFlag: i.fbFlag,\n              factList: []\n            });\n          }\n\n          if (factMap.get(i.secdClassName + '-' + i.fbFlag)) {\n            var ls = factMap.get(i.secdClassName + '-' + i.fbFlag);\n            ls.push(i);\n          } else {\n            var li = [];\n            li.push(i);\n            factMap.set(i.secdClassName + '-' + i.fbFlag, li);\n          }\n        });\n\n        if (parentArray) {\n          parentArray.forEach(function (e) {\n            var flist = factMap.get(e.secdClassName + '-' + e.fbFlag);\n            var nList = [];\n\n            if (flist) {\n              flist.forEach(function (j) {\n                var n = nList.find(function (x) {\n                  if (x.factorPoint === j.factorPoint && x.frequency === j.frequency && x.dayCount === j.dayCount) {\n                    if (x.showFactName === '') {\n                      x.showFactName = j.factorName;\n                    } else {\n                      x.showFactName = x.showFactName + ',' + j.factorName;\n                    }\n\n                    return x;\n                  } else {\n                    return null;\n                  }\n                });\n\n                if (!n) {\n                  _this4.$set(j, 'showFactName', j.factorName);\n\n                  _this4.$set(j, 'fbFlag', e.fbFlag);\n\n                  nList.push(j);\n                }\n              });\n              e.factList = nList.sort(function (a, b) {\n                return a.checkStandardId > b.checkStandardId ? -1 : a.checkStandardId < b.checkStandardId ? 1 : 0;\n              });\n            }\n          });\n        }\n      }\n\n      return parentArray;\n    },\n    handleScheduler: function handleScheduler(row) {\n      this.currentRow = row;\n      this.clearForm();\n      this.offerDisForm.taskId = row.taskId;\n      this.offerDisForm.consignorName = row.consignorName;\n      this.offerDisForm.consignorLinker = row.consignorLinker;\n      this.offerDisForm.consignorLinkerPhone = row.consignorLinkerPhone;\n      this.offerDisForm.inspectionName = row.consignorName;\n      this.offerDisForm.inspectionLinker = row.consignorLinker;\n      this.offerDisForm.inspectionLinkerPhone = row.consignorLinkerPhone;\n      this.offerDisForm.jobId = row.jobId;\n      this.offerDisForm.projectName = row.projectName;\n      this.findPlanInfos(row.taskId, 1);\n    },\n    handleUpdateScheduler: function handleUpdateScheduler(row) {\n      var _this5 = this;\n\n      this.currentRow = row;\n      this.clearForm(); // 获取任务对象\n\n      taskServer.findJobByTaskId(row.taskId).then(function (res) {\n        _this5.currentJobId = res.result.jobId || '';\n        _this5.offerDisForm = res.result || {};\n        _this5.offerDisForm.projectName = row.projectName;\n        _this5.offerDisForm.taskId = row.taskId;\n        _this5.offerDisForm.consignorName = row.consignorName; // 获取地区信息\n\n        if (_this5.offerDisForm.province) {\n          _this5.getRegionCode('cityArray', _this5.offerDisForm.province);\n        }\n\n        if (_this5.offerDisForm.city) {\n          _this5.getRegionCode('areaArray', _this5.offerDisForm.city);\n        }\n\n        debugger;\n\n        _this5.findPlanInfos(row.taskId, 2);\n      });\n    },\n    findPlanInfos: function findPlanInfos(taskId, type) {\n      var _this6 = this;\n\n      // 计划列表\n      taskServer.findOfferPlanByTaskId(taskId).then(function (result) {\n        if (result.code === 200) {\n          _this6.planTaskData = result.result || [];\n\n          if (_this6.offerDisForm.offerPlanIds && _this6.offerDisForm.offerPlanIds.length > 0) {\n            result.result.forEach(function (i) {\n              if (_this6.offerDisForm.offerPlanIds.includes(i.offerPlanId)) {\n                _this6.multipleSelection.push(i);\n              }\n            });\n\n            _this6.multipleSelection.forEach(function (j) {\n              _this6.$nextTick(function () {\n                _this6.$refs.multipleTable.toggleRowSelection(j);\n              });\n            });\n          }\n\n          _this6.taskSedVisible = true;\n        }\n      });\n    },\n    getTaskInfo: function getTaskInfo(dispatchTaskId) {\n      var _this7 = this;\n\n      taskServer.getLastScheduInfoByTaskId(dispatchTaskId).then(function (res) {\n        if (res.code === 200 && res.result) {\n          _this7.offerDisForm = res.result; // 获取 市区字典列表信息\n\n          _this7.getSubRegionByRegionCode('cityArray', res.result.province);\n\n          _this7.getSubRegionByRegionCode('areaArray', res.result.city);\n\n          _this7.taskSedVisible = true;\n        }\n      });\n      taskServer.getOfferFactorByTaskId(dispatchTaskId).then(function (result) {\n        if (result.code === 200) {\n          _this7.factorTaskData = result.result || [];\n          _this7.taskSedVisible = true;\n        }\n      });\n    },\n    confirmDialog: function confirmDialog() {\n      var _this8 = this;\n\n      if (this.offerDisForm.province && this.offerDisForm.city && this.offerDisForm.county) {\n        this.$refs.offerDisForm.validate(function (valid) {\n          if (valid) {\n            taskServer.doScheduTask(_this8.offerDisForm).then(function (result) {\n              if (result.code === 200) {\n                _this8.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                });\n\n                _this8.handleSearch();\n\n                _this8.taskSedVisible = false;\n              } else {\n                _this8.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                });\n              }\n            });\n          } else {\n            _this8.$message.warning('请完善信息后在提交');\n          }\n        });\n      } else {\n        this.$message.warning('省、市、区信息不能为空');\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.clearData = true;\n      this.multipleSelection = val;\n    },\n    handleNavStep: function handleNavStep() {\n      this.clearData = false;\n      this.taskFacotyVisible = false;\n    },\n    handlePreStep: function handlePreStep() {\n      var _this9 = this;\n\n      // 处于编辑状态\n      if (this.clearData) {\n        if (this.currentJobId !== '') {\n          taskServer.findJobFactorsById(this.currentJobId).then(function (res) {\n            _this9.offerDisForm.factorTdos = res.result || [];\n            _this9.taskFacotyVisible = true;\n          });\n        } else {\n          if (this.multipleSelection.length >= 1) {\n            var planIds = this.multipleSelection.map(function (i) {\n              return i.offerPlanId;\n            });\n            taskServer.findFactorsByOfferPlanIds({\n              offerPlanId: planIds.toString()\n            }).then(function (res) {\n              _this9.offerDisForm.factorTdos = res.result.map(function (i) {\n                _this9.$set(i, 'factorRemark', i.remark);\n\n                return i;\n              }) || [];\n              _this9.taskFacotyVisible = true;\n            });\n          } else {\n            this.$message.warning('至少选择一个计划信息!');\n          }\n        }\n      } else {\n        this.taskFacotyVisible = true;\n      }\n    },\n    checkPlanDetail: function checkPlanDetail(row) {\n      var _this10 = this;\n\n      taskServer.findFactorsByPlanId(row.offerPlanId).then(function (res) {\n        _this10.planFactorDetails = res.result || [];\n      });\n      this.planFactorVisible = true;\n    },\n    delFactor: function delFactor(index) {\n      this.offerDisForm.factorTdos.splice(index, 1);\n    },\n    handlePlanSave: function handlePlanSave() {\n      var _this11 = this;\n\n      // 任务分配保存\n      taskServer.saveScheduleJob(this.offerDisForm).then(function (result) {\n        if (result.code === 200) {\n          _this11.$notify({\n            title: '成功',\n            message: result.message,\n            type: 'success'\n          });\n\n          _this11.handleSearch();\n\n          _this11.taskSedVisible = false;\n          _this11.taskFacotyVisible = false;\n        } else {\n          _this11.$notify({\n            title: '失败',\n            message: result.message,\n            type: 'error'\n          });\n        }\n      }); // if (this.offerDisForm.province &&\n      //    this.offerDisForm.city &&\n      //    this.offerDisForm.county) {\n      //   this.$refs.offerDisForm.validate(valid => {\n      //     if (valid) {\n      //       taskServer.saveScheduleJob(this.offerDisForm).then(result => {\n      //         if (result.code === 200) {\n      //           this.$notify({\n      //             title: '成功',\n      //             message: result.message,\n      //             type: 'success'\n      //           })\n      //           this.handleSearch()\n      //           this.taskSedVisible = false\n      //           this.taskFacotyVisible = false\n      //         } else {\n      //           this.$notify({\n      //             title: '失败',\n      //             message: result.message,\n      //             type: 'error'\n      //           })\n      //         }\n      //       })\n      //     } else {\n      //       this.$message.warning('请完善信息后在提交')\n      //     }\n      //   })\n      // } else {\n      //   this.$message.warning('省、市、区信息不能为空')\n      // }\n    },\n    handlePlanConfirm: function handlePlanConfirm() {\n      var _this12 = this;\n\n      if (this.offerDisForm.province && this.offerDisForm.city && this.offerDisForm.county) {\n        this.$refs.offerDisForm.validate(function (valid) {\n          if (valid) {\n            taskServer.confirmScheduleJob(_this12.offerDisForm).then(function (result) {\n              if (result.code === 200) {\n                _this12.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                });\n\n                _this12.handleSearch();\n\n                _this12.taskSedVisible = false;\n                _this12.taskFacotyVisible = false;\n              } else {\n                _this12.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                });\n              }\n            });\n          } else {\n            _this12.$message.warning('请完善信息后在提交');\n          }\n        });\n      } else {\n        this.$message.warning('省、市、区信息不能为空');\n      }\n    },\n    addFactor: function addFactor() {\n      // 获取UUID\n      this.cleanAttr = _vueUuid.uuid.v4().replaceAll('-', '');\n      this.factorVisible = true;\n    },\n    getTabStatus: function getTabStatus(val) {\n      if (!val) {\n        this.factorVisible = false;\n      }\n    },\n    getResultForAdd: function getResultForAdd(val) {\n      this.offerDisForm.factorTdos = this.offerDisForm.factorTdos.concat(val);\n      this.factorVisible = false;\n    },\n    confirmChoseFactor: function confirmChoseFactor() {},\n    clearForm: function clearForm() {\n      this.currentJobId = '';\n      this.offerDisForm = {\n        taskId: '',\n        jobId: '',\n        projectName: '',\n        consignorName: '',\n        consignorLinker: '',\n        consignorLinkerPhone: '',\n        inspectionName: '',\n        inspectionLinker: '',\n        inspectionLinkerPhone: '',\n        startDate: '',\n        endDate: '',\n        projectAddress: '',\n        province: '',\n        city: '',\n        county: '',\n        checkGoal: '',\n        jobRemark: '',\n        factorTdos: []\n      };\n    },\n    checkSelectable: function checkSelectable(item) {\n      if (item.scheduledTimes >= item.scheduleTimes) {\n        return false;\n      }\n\n      return true;\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["orderReportTask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-col :span=\"20\">\n        <el-form :model=\"searchForm\" inline>\n          <el-form-item label=\"合同编号:\">\n            <el-input v-model=\"searchForm.contCode\" style=\"width:180px\" placeholder=\"合同编号\" />\n          </el-form-item>\n          <el-form-item label=\"项目名称:\">\n            <el-input v-model=\"searchForm.projectName\" style=\"width:180px\" placeholder=\"项目名称\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n          </el-form-item>\n        </el-form>\n      </el-col>\n      <el-col :span=\"4\" class=\"search-right\">\n        <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table\n      :data=\"taskData\"\n      stripe\n      border\n      highlight-current-row\n      :header-cell-style=\"{background:'#ECF3FC'}\"\n    >\n      <template slot=\"empty\">\n        <div class=\"table_empty\">\n          <div class=\"empty_tips\">\n            <span>\n              暂无任务信息\n            </span>\n          </div>\n        </div>\n      </template>\n      <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n      <el-table-column prop=\"contCode\" label=\"合同编号\" width=\"185px\" align=\"center\" />\n      <el-table-column prop=\"projectName\" label=\"项目名称\" min-width=\"120px\" align=\"center\" />\n      <el-table-column prop=\"consignorName\" label=\"委托单位\" align=\"center\" />\n      <el-table-column prop=\"latestScheduleDate\" label=\"上次调度日期\" align=\"center\" />\n      <el-table-column prop=\"finishProgress\" label=\"计划调度完成进度\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.scheduledPlanNum }}/{{ row.planNum }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"160px\">\n        <template slot-scope=\"{row}\">\n          <el-button type=\"text\" @click=\"handleDetail(row)\"> 查看任务</el-button>\n          <div class=\"erc-divider-vertical\" />\n          <el-button v-if=\"row.scheduleFlag==='0'\" type=\"text\" @click=\"handleScheduler(row)\"> 调度新增</el-button>\n          <el-button v-if=\"row.scheduleFlag==='1'\" type=\"text\" @click=\"handleUpdateScheduler(row)\"> 调度编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div style=\"float: right\">\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"searchForm.pageNumber\"\n        :limit.sync=\"searchForm.pageSize\"\n        @pagination=\"handleSearch\"\n      />\n    </div>\n\n    <!-- <el-dialog :title=\"taskTitle + ' 任务详情'\" :visible.sync=\"taskVisible\" center width=\"70%\">\n      <el-row>\n        <el-col :span=\"12\">\n          <span>合同编号: {{ taskForm.contCode }}</span>\n        </el-col>\n        <el-col :span=\"12\">\n          <span>报价单号: {{ taskForm.offerId }}</span>\n        </el-col>\n      </el-row>\n      <table class=\"info-table-new\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n        <tr>\n          <td style=\"background: #f5f5f5;\">项目名称:</td>\n          <td>{{ taskForm.projectName }}</td>\n          <td style=\"background: #f5f5f5;\">委托单位:</td>\n          <td>{{ taskForm.consignorName }}</td>\n        </tr>\n        <tr>\n          <td style=\"background: #f5f5f5;\">委托联系人:</td>\n          <td>{{ taskForm.consignorLinker }} </td>\n          <td style=\"background: #f5f5f5;\">委托联系人方式:</td>\n          <td>{{ taskForm.consignorLinkerPhone }}</td>\n        </tr>\n        <tr>\n          <td colspan=\"4\" style=\"text-align: left;padding-left:15px;\">\n            检测内容:\n          </td>\n        </tr>\n        <tr>\n          <td colspan=\"4\" style=\"text-align: left;padding-left:15px;\">\n            <el-row v-for=\"(item, index) in factorData\" :key=\"index\">\n              <el-col :span=\"24\" style=\"font-weight: bolder\">{{ item.secdClassName + ':' }}</el-col>\n              <el-col v-for=\"el in item.factList\" :key=\"el.id\" :span=\"24\">\n                {{ el.factorPoint + '（'+ el.dayCount +'*'+ el.frequency+'）: ' }}{{ el.showFactName }} <span v-if=\"el.fbFlag==='1'\" style=\"color: red;\"> (分包)</span>\n              </el-col>\n            </el-row>\n          </td>\n        </tr>\n      </table>\n\n    </el-dialog> -->\n\n    <el-dialog title=\"任务分配\" :visible.sync=\"taskSedVisible\" width=\"80%\" center top=\"5vh\">\n      <el-form ref=\"offerDisForm\" :model=\"offerDisForm\" :rules=\"OfferDisRules\" label-width=\"130px\">\n        <el-card shadow=\"never\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span slot=\"label\">\n              任务基础信息<i class=\"el-input__icon \" />\n            </span>\n          </div>\n          <el-row :gutter=\"10\">\n            <el-col :span=\"8\">\n              <el-form-item label=\"合同编号:\">\n                <el-input v-model=\"currentRow.contCode\" disabled />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"16\">\n              <el-form-item label=\"项目名称:\">\n                <el-input v-model=\"currentRow.projectName\" disabled />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"10\">\n            <el-col :span=\"8\">\n              <el-form-item label=\"委托单位:\">\n                <el-input v-model=\"offerDisForm.consignorName\" disabled />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item prop=\"consignorLinker\" label=\"委托联系人:\">\n                <el-input v-model=\"offerDisForm.consignorLinker\" placeholder=\"委托联系人\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item prop=\"consignorLinkerPhone\" label=\"委托联系人电话:\">\n                <el-input v-model=\"offerDisForm.consignorLinkerPhone\" placeholder=\"委托联系人电话\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"10\">\n            <el-col :span=\"8\">\n              <el-form-item prop=\"inspectionName\" label=\"受检单位:\">\n                <el-input v-model=\"offerDisForm.inspectionName\" placeholder=\"受检单位\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item prop=\"inspectionLinker\" label=\"受检联系人:\">\n                <el-input v-model=\"offerDisForm.inspectionLinker\" placeholder=\"受检联系人\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item prop=\"inspectionLinkerPhone\" label=\"受检联系人电话:\">\n                <el-input v-model=\"offerDisForm.inspectionLinkerPhone\" placeholder=\"受检联系人电话\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"14\">\n              <el-form-item prop=\"projectAddress\" label=\"项目地址:\">\n                <div style=\"width: 100%;\">\n\n                  <el-select v-model=\"offerDisForm.province\" placeholder=\"请选择省\" style=\"width: 33%;\" @change=\"getSubRegionByRegionCode('cityArray',$event)\">\n                    <el-option\n                      v-for=\"item in provinceArray\"\n                      :key=\"item.regionCode\"\n                      :label=\"item.regionName\"\n                      :value=\"item.regionCode\"\n                    />\n                  </el-select>\n                  <el-select v-model=\"offerDisForm.city\" placeholder=\"请选择市\" style=\"width: 33%;\" @change=\"getSubRegionByRegionCode('areaArray',$event)\">\n                    <el-option\n                      v-for=\"item in cityArray\"\n                      :key=\"item.regionCode\"\n                      :label=\"item.regionName\"\n                      :value=\"item.regionCode\"\n                    />\n                  </el-select>\n                  <el-select v-model=\"offerDisForm.county\" style=\"width: 33%;\" placeholder=\"请选择区\">\n                    <el-option\n                      v-for=\"item in areaArray\"\n                      :key=\"item.regionCode\"\n                      :label=\"item.regionName\"\n                      :value=\"item.regionCode\"\n                    />\n                  </el-select>\n                </div>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-input v-model=\"offerDisForm.projectAddress\" placeholder=\"请录入详细地址\" style=\"width: 100%;\" />\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"10\">\n            <el-col :span=\"8\">\n              <el-form-item prop=\"startDate\">\n                <span slot=\"label\">\n                  开始日期\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"300\"\n                    trigger=\"hover\"\n                    content=\"以预估的采样开始日期计，系统不做强制日期限制，仅做任务进度提示\"\n                  >\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n                  :\n                </span>\n                <el-date-picker\n                  v-model=\"offerDisForm.startDate\"\n                  type=\"date\"\n                  value-format=\"yyyy-MM-dd\"\n                  placeholder=\"开始日期\"\n                  style=\"width: 100%;\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item prop=\"endDate\">\n                <span slot=\"label\">\n                  结束日期\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"300\"\n                    trigger=\"hover\"\n                    content=\"以预估的检测报告签发日期计，系统不做强制日期限制，仅做任务进度提示\"\n                  >\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n                  :\n                </span>\n                <el-date-picker\n                  v-model=\"offerDisForm.endDate\"\n                  type=\"date\"\n                  value-format=\"yyyy-MM-dd\"\n                  placeholder=\"结束日期\"\n                  style=\"width: 100%;\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item prop=\"checkGoal\">\n                <span slot=\"label\">\n                  检测目的\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"300\"\n                    trigger=\"hover\"\n                    content=\"检测目的的内容会在最终的检测报告中展示\"\n                  >\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n                  :\n                </span>\n                <el-input v-model=\"offerDisForm.checkGoal\" placeholder=\"检测目的\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\">\n              <el-form-item label=\"备注:\">\n                <el-input v-model=\"offerDisForm.jobRemark\" placeholder=\"备注\" style=\"width: 100%;\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-card>\n        <el-card title=\"\" shadow=\"never\" style=\"margin-top:10px\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span slot=\"label\">\n              选择待调度计划<i class=\"el-input__icon \" />\n            </span>\n          </div>\n          <el-table\n            ref=\"multipleTable\"\n            :data=\"planTaskData\"\n            stripe\n            highlight-current-row\n            :header-cell-style=\"{background:'#ECF3FC'}\"\n            border\n            @selection-change=\"handleSelectionChange\"\n          >\n            <el-table-column type=\"selection\" width=\"50\" :selectable=\"checkSelectable\" align=\"center\" />\n            <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n            <el-table-column prop=\"planName\" label=\"计划名称\" align=\"center\" />\n            <el-table-column prop=\"checkFreq\" label=\"监测频次\" align=\"center\" />\n            <el-table-column prop=\"checkFactorCnt\" label=\"检测因子数\" align=\"center\" />\n            <el-table-column label=\"调度进度\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                {{ row.scheduledTimes }}/{{ row.scheduleTimes }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"lastScheduleDate\" label=\"上次调度日期\" align=\"center\" />\n            <el-table-column label=\"计划调度完成进度\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                {{ row.finishTimes }}/{{ row.scheduleTimes }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                <el-button type=\"text\" @click=\"checkPlanDetail(row)\">查看</el-button>\n              </template>\n            </el-table-column>\n\n          </el-table>\n        </el-card>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button style=\"width: 90px;\" @click=\"taskSedVisible=false\">取消</el-button>\n        <el-button type=\"primary\" style=\"width: 90px;\" :disabled=\"multipleSelection.length === 0\" @click=\"handlePreStep\">下一步</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog append-to-body title=\"检测因子\" :visible.sync=\"planFactorVisible\" width=\"70%\">\n      <el-table :data=\"planFactorDetails\" border stripe height=\"450\">\n        <el-table-column type=\"index\" width=\"50\" align=\"center\" />\n        <el-table-column prop=\"secdClassName\" label=\"检测类别\" width=\"100px\" align=\"center\" />\n        <el-table-column prop=\"factorName\" label=\"检测因子\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.factorName }}{{ row.meanName&&row.meanName.length > 0?'('+ row.meanName +')':'' }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n        <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n        <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n        <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n        <el-table-column label=\"次数\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ Number(row.dayCount * row.frequency) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否分包\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.fbFlag==='1'?\"Y\":\"N\" }}\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-dialog>\n\n    <el-dialog :visible.sync=\"taskFacotyVisible\" center append-to-body fullscreen>\n      <el-card shadow=\"never\">\n\n        <div slot=\"header\" class=\"clearfix\">\n          <span>任务检测因子<i class=\"el-input__icon\" /></span>\n          <el-button style=\"float: right; margin:4px 2px;\" type=\"primary\" plain size=\"mini\" @click=\"addFactor\">添加因子</el-button>\n        </div>\n        <el-table :data=\"offerDisForm.factorTdos\" border stripe>\n          <el-table-column type=\"index\" width=\"50\" align=\"center\" />\n          <el-table-column prop=\"secdClassName\" label=\"检测类别\" width=\"100px\" align=\"center\" />\n          <el-table-column prop=\"factorName\" label=\"检测因子\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ row.factorName }}{{ row.meanName&&row.meanName.length > 0?'('+ row.meanName +')':'' }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"standardNo\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n          <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n          <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n          <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n          <el-table-column label=\"次数\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ Number(row.dayCount * row.frequency) }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"是否分包\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ row.fbFlag==='1'?\"Y\":\"N\" }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"factorRemark\" label=\"因子备注\" :show-overflow-tooltip=\"true\" align=\"center\" />\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"{$index}\">\n              <el-button type=\"text\" @click=\"delFactor($index)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-card>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"warning\" style=\"width: 90px;\" @click=\"handleNavStep\">上一步</el-button>\n        <el-button type=\"\" style=\"width: 90px;\" @click=\"taskFacotyVisible = false\">取 消</el-button>\n        <el-button type=\"info\" style=\"width: 90px;\" @click=\"handlePlanSave\">保 存</el-button>\n        <el-button type=\"primary\" style=\"width: 90px;\" @click=\"handlePlanConfirm\">确 认</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog :visible.sync=\"factorVisible\" append-to-body width=\"85%\" :close-on-click-modal=\"false\" top=\"5vh\">\n      <factor-chose-list :clear-type=\"cleanAttr\" @handleCancel=\"getTabStatus\" @handleConfim=\"getResultForAdd\" />\n      <!-- <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"factorVisible=false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmChoseFactor\">确 认</el-button>\n      </div> -->\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination' // Secondary package based on el-pagination\nimport FactorChoseList from '@/components/FactorChoseList'\nimport * as taskServer from '@/api/task'\nimport * as dictServer from '@/api/dict'\nimport { validPhone } from '@/utils/validate'\nimport { uuid } from 'vue-uuid'\n\nconst TASK_STATUS = {\n  '0': '待调度',\n  '1': '调度中',\n  '2': '调度完成'\n}\nexport default {\n  components: { Pagination, FactorChoseList },\n  filters: {\n    statusQualityFilter(status) {\n      const statusMap = {\n        '0': '',\n        '1': 'warning',\n        '2': 'success'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    const validatePhone = (rule, value, callback) => {\n      if (value && value.length > 0) {\n        if (validPhone(value)) {\n          callback()\n        } else {\n          callback(new Error('输入正确的电话号码'))\n        }\n      } else {\n        callback()\n      }\n    }\n    return {\n      TASK_STATUS,\n      searchForm: {\n        scheduCircle: '',\n        contCode: '',\n        projectName: '',\n        scheduStatus: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      taskData: [],\n      taskVisible: false,\n      taskForm: {\n        projectName: '',\n        offerId: '',\n        contCode: '',\n        consignorName: '',\n        consignorLinker: '',\n        consignorLinkerPhone: ''\n      },\n      factorData: [],\n      factorTaskData: [],\n      planTaskData: [],\n      offerDisForm: {\n        taskId: '',\n        jobId: '',\n        projectName: '',\n        consignorName: '',\n        consignorLinker: '',\n        consignorLinkerPhone: '',\n        inspectionName: '',\n        inspectionLinker: '',\n        inspectionLinkerPhone: '',\n        startDate: '',\n        endDate: '',\n        projectAddress: '',\n        province: '',\n        city: '',\n        county: '',\n        checkGoal: '',\n        jobRemark: '',\n        factorTdos: []\n      },\n      OfferDisRules: {\n        consignorLinker: [{ required: true, message: '请录入委托人', trigger: 'blur' }],\n        consignorLinkerPhone: [{ required: true, message: '请录入委托人联系方式', trigger: 'blur' }],\n        inspectionName: [{ required: true, message: '请录入受检单位', trigger: 'blur' }],\n        inspectionLinker: [{ required: true, message: '请录入受检人', trigger: 'blur' }],\n        inspectionLinkerPhone: [{ required: true, message: '请录入受检人联系方式', trigger: 'blur' }, { required: true, validator: validatePhone, trigger: 'blur' }],\n        startDate: [{ required: true, message: '请选择开始时间', trigger: 'blur' }],\n        endDate: [{ required: true, message: '请选择结束时间', trigger: 'blur' }],\n        projectAddress: [{ required: true, message: '地址信息不能为空', trigger: 'blur' }]\n      },\n      provinceArray: [],\n      cityArray: [],\n      areaArray: [],\n      currentRow: {},\n      taskTitle: '',\n      taskSedVisible: false,\n      multipleSelection: [],\n      planFactorVisible: false,\n      planFactorDetails: [], // 因子列表-详情查看\n      taskFacotyVisible: false,\n      // 添加因子\n      currentUUid: '',\n      cleanAttr: '',\n      choseFatcors: [],\n      factorVisible: false,\n      currentJobId: '',\n      clearData: false\n\n    }\n  },\n  created() {\n    this.getProvince()\n    this.handleSearch()\n  },\n  methods: {\n    getProvince() {\n      dictServer.getFirstLevel().then(res => {\n        this.provinceArray = res.result\n      })\n    },\n    getSubRegionByRegionCode(type, regionCode) {\n      if (regionCode === 'cityArray') {\n        this.offerDisForm.city = ''\n        this.offerDisForm.county = ''\n      } else {\n        this.offerDisForm.county = ''\n      }\n      this.getRegionCode(type, regionCode)\n    },\n    getRegionCode(type, regionCode) {\n      dictServer.getSubRegionByRegionCode(regionCode).then(res => {\n        this[type] = res.result\n      })\n    },\n    handleSearch() {\n      taskServer.findByCondition(this.searchForm).then(res => {\n        this.taskData = res.result.records || []\n        this.total = res.result.total\n      })\n    },\n    handleDetail(row) {\n      this.$router.push(`/other/orderReportTaskList/${row.taskId}`)\n    },\n    doProcessData(data) {\n      const parentArray = []\n      if (data.length > 0) {\n        const factMap = new Map()\n        data.forEach(i => {\n          const o = parentArray.find(j => j.secdClassName === i.secdClassName && j.fbFlag === i.fbFlag)\n          if (!o) {\n            parentArray.push({\n              secdClassName: i.secdClassName,\n              fbFlag: i.fbFlag,\n              factList: []\n            })\n          }\n          if (factMap.get(i.secdClassName + '-' + i.fbFlag)) {\n            const ls = factMap.get(i.secdClassName + '-' + i.fbFlag)\n            ls.push(i)\n          } else {\n            const li = []\n            li.push(i)\n            factMap.set(i.secdClassName + '-' + i.fbFlag, li)\n          }\n        })\n        if (parentArray) {\n          parentArray.forEach(e => {\n            const flist = factMap.get(e.secdClassName + '-' + e.fbFlag)\n            const nList = []\n            if (flist) {\n              flist.forEach(j => {\n                const n = nList.find(x => {\n                  if (x.factorPoint === j.factorPoint && x.frequency === j.frequency && x.dayCount === j.dayCount) {\n                    if (x.showFactName === '') {\n                      x.showFactName = j.factorName\n                    } else {\n                      x.showFactName = x.showFactName + ',' + j.factorName\n                    }\n                    return x\n                  } else {\n                    return null\n                  }\n                })\n                if (!n) {\n                  this.$set(j, 'showFactName', j.factorName)\n                  this.$set(j, 'fbFlag', e.fbFlag)\n                  nList.push(j)\n                }\n              })\n\n              e.factList = nList.sort((a, b) => ((a.checkStandardId > b.checkStandardId) ? -1 : (a.checkStandardId < b.checkStandardId) ? 1 : 0))\n            }\n          })\n        }\n      }\n      return parentArray\n    },\n    handleScheduler(row) {\n      this.currentRow = row\n      this.clearForm()\n      this.offerDisForm.taskId = row.taskId\n      this.offerDisForm.consignorName = row.consignorName\n      this.offerDisForm.consignorLinker = row.consignorLinker\n      this.offerDisForm.consignorLinkerPhone = row.consignorLinkerPhone\n\n      this.offerDisForm.inspectionName = row.consignorName\n      this.offerDisForm.inspectionLinker = row.consignorLinker\n      this.offerDisForm.inspectionLinkerPhone = row.consignorLinkerPhone\n\n      this.offerDisForm.jobId = row.jobId\n      this.offerDisForm.projectName = row.projectName\n      this.findPlanInfos(row.taskId, 1)\n    },\n    handleUpdateScheduler(row) {\n      this.currentRow = row\n      this.clearForm()\n      // 获取任务对象\n      taskServer.findJobByTaskId(row.taskId).then(res => {\n        this.currentJobId = res.result.jobId || ''\n        this.offerDisForm = res.result || {}\n        this.offerDisForm.projectName = row.projectName\n        this.offerDisForm.taskId = row.taskId\n        this.offerDisForm.consignorName = row.consignorName\n        // 获取地区信息\n        if (this.offerDisForm.province) {\n          this.getRegionCode('cityArray', this.offerDisForm.province)\n        }\n        if (this.offerDisForm.city) {\n          this.getRegionCode('areaArray', this.offerDisForm.city)\n        }\n        debugger\n        this.findPlanInfos(row.taskId, 2)\n      })\n    },\n    findPlanInfos(taskId, type) {\n      // 计划列表\n      taskServer.findOfferPlanByTaskId(taskId).then(result => {\n        if (result.code === 200) {\n          this.planTaskData = result.result || []\n          if (this.offerDisForm.offerPlanIds && this.offerDisForm.offerPlanIds.length > 0) {\n            result.result.forEach(i => {\n              if (this.offerDisForm.offerPlanIds.includes(i.offerPlanId)) {\n                this.multipleSelection.push(i)\n              }\n            })\n            this.multipleSelection.forEach(j => {\n              this.$nextTick(() => {\n                this.$refs.multipleTable.toggleRowSelection(j)\n              })\n            })\n          }\n          this.taskSedVisible = true\n        }\n      })\n    },\n    getTaskInfo(dispatchTaskId) {\n      taskServer.getLastScheduInfoByTaskId(dispatchTaskId).then(res => {\n        if (res.code === 200 && res.result) {\n          this.offerDisForm = res.result\n          // 获取 市区字典列表信息\n          this.getSubRegionByRegionCode('cityArray', res.result.province)\n          this.getSubRegionByRegionCode('areaArray', res.result.city)\n          this.taskSedVisible = true\n        }\n      })\n      taskServer.getOfferFactorByTaskId(dispatchTaskId).then(result => {\n        if (result.code === 200) {\n          this.factorTaskData = result.result || []\n          this.taskSedVisible = true\n        }\n      })\n    },\n    confirmDialog() {\n      if (this.offerDisForm.province &&\n         this.offerDisForm.city &&\n         this.offerDisForm.county) {\n        this.$refs.offerDisForm.validate(valid => {\n          if (valid) {\n            taskServer.doScheduTask(this.offerDisForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n                this.handleSearch()\n                this.taskSedVisible = false\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          } else {\n            this.$message.warning('请完善信息后在提交')\n          }\n        })\n      } else {\n        this.$message.warning('省、市、区信息不能为空')\n      }\n    },\n    handleSelectionChange(val) {\n      this.clearData = true\n      this.multipleSelection = val\n    },\n    handleNavStep() {\n      this.clearData = false\n      this.taskFacotyVisible = false\n    },\n    handlePreStep() {\n      // 处于编辑状态\n      if (this.clearData) {\n        if (this.currentJobId !== '') {\n          taskServer.findJobFactorsById(this.currentJobId).then(res => {\n            this.offerDisForm.factorTdos = res.result || []\n            this.taskFacotyVisible = true\n          })\n        } else {\n          if (this.multipleSelection.length >= 1) {\n            const planIds = this.multipleSelection.map(i => i.offerPlanId)\n            taskServer.findFactorsByOfferPlanIds({ offerPlanId: planIds.toString() }).then(res => {\n              this.offerDisForm.factorTdos = res.result.map(i => {\n                this.$set(i, 'factorRemark', i.remark)\n                return i\n              }) || []\n              this.taskFacotyVisible = true\n            })\n          } else {\n            this.$message.warning('至少选择一个计划信息!')\n          }\n        }\n      } else {\n        this.taskFacotyVisible = true\n      }\n    },\n    checkPlanDetail(row) {\n      taskServer.findFactorsByPlanId(row.offerPlanId).then(res => {\n        this.planFactorDetails = res.result || []\n      })\n      this.planFactorVisible = true\n    },\n    delFactor(index) {\n      this.offerDisForm.factorTdos.splice(index, 1)\n    },\n    handlePlanSave() { // 任务分配保存\n      taskServer.saveScheduleJob(this.offerDisForm).then(result => {\n        if (result.code === 200) {\n          this.$notify({\n            title: '成功',\n            message: result.message,\n            type: 'success'\n          })\n          this.handleSearch()\n          this.taskSedVisible = false\n          this.taskFacotyVisible = false\n        } else {\n          this.$notify({\n            title: '失败',\n            message: result.message,\n            type: 'error'\n          })\n        }\n      })\n      // if (this.offerDisForm.province &&\n      //    this.offerDisForm.city &&\n      //    this.offerDisForm.county) {\n      //   this.$refs.offerDisForm.validate(valid => {\n      //     if (valid) {\n      //       taskServer.saveScheduleJob(this.offerDisForm).then(result => {\n      //         if (result.code === 200) {\n      //           this.$notify({\n      //             title: '成功',\n      //             message: result.message,\n      //             type: 'success'\n      //           })\n      //           this.handleSearch()\n      //           this.taskSedVisible = false\n      //           this.taskFacotyVisible = false\n      //         } else {\n      //           this.$notify({\n      //             title: '失败',\n      //             message: result.message,\n      //             type: 'error'\n      //           })\n      //         }\n      //       })\n      //     } else {\n      //       this.$message.warning('请完善信息后在提交')\n      //     }\n      //   })\n      // } else {\n      //   this.$message.warning('省、市、区信息不能为空')\n      // }\n    },\n    handlePlanConfirm() {\n      if (this.offerDisForm.province &&\n         this.offerDisForm.city &&\n         this.offerDisForm.county) {\n        this.$refs.offerDisForm.validate(valid => {\n          if (valid) {\n            taskServer.confirmScheduleJob(this.offerDisForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n                this.handleSearch()\n                this.taskSedVisible = false\n                this.taskFacotyVisible = false\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          } else {\n            this.$message.warning('请完善信息后在提交')\n          }\n        })\n      } else {\n        this.$message.warning('省、市、区信息不能为空')\n      }\n    },\n    addFactor() {\n      // 获取UUID\n      this.cleanAttr = uuid.v4().replaceAll('-', '')\n      this.factorVisible = true\n    },\n\n    getTabStatus(val) {\n      if (!val) {\n        this.factorVisible = false\n      }\n    },\n    getResultForAdd(val) {\n      this.offerDisForm.factorTdos = this.offerDisForm.factorTdos.concat(val)\n      this.factorVisible = false\n    },\n    confirmChoseFactor() {},\n    clearForm() {\n      this.currentJobId = ''\n      this.offerDisForm = {\n        taskId: '',\n        jobId: '',\n        projectName: '',\n        consignorName: '',\n        consignorLinker: '',\n        consignorLinkerPhone: '',\n        inspectionName: '',\n        inspectionLinker: '',\n        inspectionLinkerPhone: '',\n        startDate: '',\n        endDate: '',\n        projectAddress: '',\n        province: '',\n        city: '',\n        county: '',\n        checkGoal: '',\n        jobRemark: '',\n        factorTdos: []\n      }\n    },\n    checkSelectable(item) {\n      if (item.scheduledTimes >= item.scheduleTimes) {\n        return false\n      }\n      return true\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" type=\"text/scss\">\n  .search_div {\n    >div {\n      &:nth-child(1){\n        margin-right: 10px;\n      }\n      display: inline-block;\n    }\n  }\n\n  .search_input {\n    width: 200px;\n    margin-bottom: 5px;\n  }\n  .search-right {\n    text-align: right;\n    padding-right: 25px;\n  }\n  .item {\n    font-size: 16px;\n  }\n  ::v-deep .el-card .el-card__header {\n    padding: 5px 20px;\n    background: #F3F2F2;\n  }\n  .block-flex {\n    position: relative;\n    display: flex;\n    &>div{\n      border: 1px solid #B7B7B7;\n      width: 100px;\n      margin: 0;\n      line-height: 30px;\n      text-align: center;\n    }\n    &>div:first-child {\n      background: #B7B7B7;\n    }\n  }\n  .card-left {\n    width: 100%;\n    min-height: 200px;\n    max-height: 400px;\n  }\n  .card-right {\n    width: 100%;\n    min-height: 200px;\n    max-height: 400px;\n  }\n  .el-card {\n    overflow: auto;\n  }\n  .el-dropdown-link {\n    cursor: pointer;\n    color: #409EFF;\n  }\n  .el-icon-arrow-down {\n    font-size: 12px;\n  }\n  /deep/.el-table__header-wrapper  .el-checkbox{\n    display:none\n  }\n  .info-table-new {\n    font-size: 14px;\n    width: 100%;\n    text-align: center;\n    margin-top: 10px;\n    border-top: 1px solid #ececec;\n    border-left: 1px solid #ececec;\n    line-height: 35px;\n    td {\n      border-bottom: 1px solid #ececec;\n      border-right: 1px solid #ececec;\n      width: 25%;\n      height: 35px;\n      // &:nth-child(2n + 1) {\n      //   width: 25%;\n      //   background: #f5f5f5;\n      // }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/task"}]}