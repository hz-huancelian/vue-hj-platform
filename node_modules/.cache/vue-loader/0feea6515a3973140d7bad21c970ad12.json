{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\report\\components\\reportTaskList.vue?vue&type=template&id=9a03eca2&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\report\\components\\reportTaskList.vue","mtime":1653293404000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form :model=\"searchForm\" :inline=\"true\">\n    <el-row>\n      <el-col :span=\"19\">\n        <el-form-item label=\"任务单号:\">\n          <el-input v-model=\"searchForm.jobId\" style=\"width:165px\" placeholder=\"任务单号\" />\n        </el-form-item>\n        <el-form-item label=\"项目名称:\">\n          <el-input v-model=\"searchForm.projectName\" style=\"width:165px\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"报告状态:\">\n          <el-select v-model=\"searchForm.reportStatus\" clearable style=\"width:165px\" filterable placeholder=\"报告状态\">\n            <el-option\n              v-for=\"item in Object.keys(REPORT_STATUS)\"\n              :key=\"item\"\n              :label=\"REPORT_STATUS[item]\"\n              :value=\"item\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"5\" class=\"search-right\">\n        <el-button type=\"text\" icon=\"el-icon-plus\" @click=\"handleUphold\">报告基础信息</el-button>\n        <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n  </el-form>\n  <el-table\n    border\n    :data=\"reportData\"\n    stripe\n    highlight-current-row\n    :header-cell-style=\"{background:'#ECF3FC'}\"\n  >\n    <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n    <el-table-column prop=\"reportCode\" label=\"报告编号\" width=\"140px\" align=\"center\" />\n    <el-table-column prop=\"jobId\" label=\"任务单号\" width=\"140px\" align=\"center\" />\n    <el-table-column prop=\"projectName\" label=\"项目名称\" align=\"center\" />\n    <el-table-column prop=\"consignorName\" label=\"委托单位\" align=\"center\" />\n    <el-table-column prop=\"inspectionName\" label=\"受检单位\" align=\"center\" />\n    <el-table-column prop=\"reportStatus\" label=\"报告状态\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <el-tag :type=\"row.reportStatus|statusQualityFilter\">\n          {{ REPORT_STATUS[row.reportStatus] }}\n        </el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"reportMakeTime\" label=\"生成时间\" width=\"160px\" align=\"center\" />\n    <el-table-column label=\"操作\" align=\"center\" width=\"185px\">\n      <template slot-scope=\"{row}\">\n        <el-button v-if=\"row.reportStatus > 1\" type=\"text\" @click=\"handleDetail(row)\">查看</el-button>\n\n        <el-button v-if=\"row.reportStatus === '1'\" v-loading.fullscreen.lock=\"downloadLoading\" type=\"text\" @click=\"handleAddReport(row)\">报告生成</el-button>\n\n        <div v-if=\"row.reportStatus === '2' || row.reportStatus === '3' || row.reportStatus === '7'\" class=\"erc-divider-vertical\" />\n        <el-button v-if=\"row.reportStatus === '2' || row.reportStatus === '3' || row.reportStatus === '7'\" type=\"text\" @click=\"handleUpload(row)\">上传报告</el-button>\n\n        <div v-if=\"row.reportStatus === '3'\" class=\"erc-divider-vertical\" />\n        <el-button v-if=\"row.reportStatus === '3'\" type=\"text\" @click=\"handleSubApprove(row)\">提交审核</el-button>\n\n        <div v-if=\"row.reportStatus > 1\" class=\"erc-divider-vertical\" />\n        <el-dropdown v-if=\"row.reportStatus > 1\">\n          <span class=\"el-dropdown-link\">\n            更多<i class=\"el-icon-arrow-down el-icon--right\" />\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-link v-if=\"row.reportStatus>1\" :underline=\"false\" @click=\"handleDownload(row)\">\n              <el-dropdown-item>最新报告下载</el-dropdown-item>\n            </el-link>\n            <el-link v-if=\"row.reportStatus>1\" :underline=\"false\" @click=\"handleOldDownload(row)\">\n              <el-dropdown-item>原始报告下载</el-dropdown-item>\n            </el-link>\n          </el-dropdown-menu>\n        </el-dropdown>\n\n        <!-- <div v-if=\"row.reportStatus === '2'\" class=\"erc-divider-vertical\" />\n        <el-button v-if=\"row.reportStatus>1 && row.reportStatus<6\" type=\"text\" @click=\"handleUpload(row)\">上传报告</el-button> -->\n\n      </template>\n    </el-table-column>\n  </el-table>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <el-dialog title=\"报告审核信息确认\" :visible.sync=\"approveVisible\" center>\n    <div style=\"width: 400px;margin:0 auto\">\n      <el-form :model=\"approveForm\" label-width=\"100px\">\n        <el-form-item label=\"审核结果:\">\n          <el-radio-group v-model=\"approveForm.auditFlag\">\n            <el-radio label=\"1\">通过</el-radio>\n            <el-radio label=\"2\">驳回</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item v-if=\"approveForm.auditFlag === '2'\" label=\"审核意见:\">\n          <el-input v-model=\"approveForm.auditReason\" type=\"textarea\" :rows=\"3\" maxlength=\"50\" show-word-limit placeholder=\"审核意见\" />\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"approveVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"报告审核信息确认\" :visible.sync=\"issueVisible\" center>\n    <div style=\"width: 400px;margin:0 auto\">\n      <el-form :model=\"approveForm\" label-width=\"100px\">\n        <el-form-item label=\"审核结果:\">\n          <el-radio-group v-model=\"approveForm.auditFlag\">\n            <el-radio label=\"1\">通过</el-radio>\n            <el-radio label=\"2\">驳回</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item v-if=\"approveForm.auditFlag === '2'\" label=\"审核意见:\">\n          <el-input v-model=\"approveForm.auditReason\" type=\"textarea\" :rows=\"3\" maxlength=\"50\" show-word-limit placeholder=\"审核意见\" />\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"issueVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmIssueDialog\">确认</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"报告基础配置信息\" :visible.sync=\"basicVisible\" center top=\"5vh\" width=\"80%\">\n    <el-form ref=\"basicForm\" :model=\"basicForm\" :rules=\"basicRules\" label-width=\"110px\">\n      <el-row :gutter=\"8\">\n        <el-col :span=\"12\">\n          <el-form-item prop=\"cmaNumber\" label=\"CMA证书号:\">\n            <el-input v-model=\"basicForm.cmaNumber\" maxlength=\"20\" placeholder=\"请录入CMA证书号\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"CNAS证书号:\">\n            <el-input v-model=\"basicForm.cnasNumber\" maxlength=\"20\" placeholder=\"请录入CNAS证书号\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"8\">\n        <el-col :span=\"12\">\n          <el-form-item prop=\"tel\" label=\"电话:\">\n            <el-input v-model=\"basicForm.tel\" maxlength=\"13\" placeholder=\"请录入电话\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"fax\" label=\"传真:\">\n            <el-input v-model=\"basicForm.fax\" maxlength=\"13\" placeholder=\"请录入传真\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"8\">\n        <el-col :span=\"12\">\n          <el-form-item prop=\"postCode\" label=\"邮政编码:\">\n            <el-input v-model=\"basicForm.postCode\" maxlength=\"6\" placeholder=\"请录入邮政编码\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"website\" label=\"网址:\">\n            <el-input v-model=\"basicForm.website\" maxlength=\"20\" placeholder=\"请录入网址\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"8\">\n        <el-col :span=\"24\">\n          <el-form-item prop=\"address\" label=\"详细地址:\">\n            <el-input v-model=\"basicForm.address\" maxlength=\"30\" style=\"width: 100%;\" placeholder=\"请录入详细地址\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"8\">\n        <el-col :span=\"24\">\n          <el-form-item prop=\"explains\" label=\"说明内容:\">\n            <el-input v-model=\"basicForm.explains\" type=\"textarea\" maxlength=\"1000\" :rows=\"5\" style=\"width: 100%;\" placeholder=\"请录入报告说明信息\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"8\">\n        <el-col :span=\"12\">\n          <el-form-item prop=\"logoImageId\" label=\"企业Logo:\">\n            <el-upload\n              ref=\"logoImage\"\n              action=\"/api/reportBase/uploadReportImg\"\n              list-type=\"picture-card\"\n              :on-change=\"onUploadChange\"\n              accept=\".jpg,.jpeg,.png\"\n              :file-list=\"logoFileList\"\n              :before-upload=\"beforeAvatarUpload\"\n              :limit=\"1\"\n              :class=\"{hide:hideLogoUploadEdit}\"\n            >\n              <i slot=\"default\" class=\"el-icon-plus\" />\n              <div slot=\"file\" slot-scope=\"{file}\">\n                <img\n                  class=\"el-upload-list__item-thumbnail\"\n                  :src=\"file.url\"\n                  alt=\"\"\n                >\n                <span class=\"el-upload-list__item-actions\">\n                  <!-- <span\n                    class=\"el-upload-list__item-preview\"\n                    @click=\"handlePictureCardPreview(file)\"\n                  >\n                    <i class=\"el-icon-zoom-in\" />\n                  </span> -->\n                  <span\n                    class=\"el-upload-list__item-delete\"\n                    @click=\"handleRemove(file)\"\n                  >\n                    <i class=\"el-icon-delete\" />\n                  </span>\n                </span>\n              </div>\n              <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red\">注：您最多只能上传1张图片，图片尺寸为500px*160px，并且图片大小不能超过1M</div>\n            </el-upload>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"watermarkImageId\" label=\"报告水印:\">\n            <el-upload\n              ref=\"waterImage\"\n              action=\"/api/reportBase/uploadReportImg\"\n              list-type=\"picture-card\"\n              :on-change=\"onWaterUploadChange\"\n              accept=\".jpg,.jpeg,.png,.gif\"\n              :file-list=\"waterFileList\"\n              :before-upload=\"beforeAvatarUpload\"\n              :limit=\"1\"\n              :class=\"{hide:hideUploadEdit}\"\n            >\n              <i slot=\"default\" class=\"el-icon-plus\" />\n              <div slot=\"file\" slot-scope=\"{file}\">\n                <img\n                  class=\"el-upload-list__item-thumbnail\"\n                  :src=\"file.url\"\n                  alt=\"\"\n                >\n                <span class=\"el-upload-list__item-actions\">\n                  <!-- <span\n                    class=\"el-upload-list__item-preview\"\n                    @click=\"handlePictureCardPreview(file)\"\n                  >\n                    <i class=\"el-icon-zoom-in\" />\n                  </span> -->\n                  <span\n                    class=\"el-upload-list__item-delete\"\n                    @click=\"handleWaterRemove(file)\"\n                  >\n                    <i class=\"el-icon-delete\" />\n                  </span>\n                </span>\n              </div>\n              <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red\">注：您最多只能上传1张图片，图片尺寸为600px*300px，并且图片大小不能超过1M</div>\n            </el-upload>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"basicVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmBasicDialog\">确认</el-button>\n    </div>\n    <el-dialog append-to-body :visible.sync=\"dialogVisible\">\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n    </el-dialog>\n  </el-dialog>\n\n  <el-dialog title=\"报告上传\" :visible.sync=\"uploadVisible\" top=\"5vh\">\n    <div style=\"width: 500px;margin:0 auto\">\n\n      <el-form ref=\"uploadForm\" :model=\"uploadForm\" :rules=\"uploadRules\" label-width=\"110px\">\n        <el-form-item label=\"报告编号:\">\n          <el-input v-model=\"uploadForm.reportCode\" style=\"width: 300px;\" disabled />\n        </el-form-item>\n        <el-form-item prop=\"reportFile\" label=\"报告文档:\">\n          <el-upload\n            class=\"upload-demo\"\n            drag\n            :data=\"{'reportId': uploadForm.id}\"\n            action=\"/api/report/uploadReportFile\"\n            :on-change=\"onReportUploadChange\"\n            :file-list=\"fileList\"\n            accept=\".doc,.docx\"\n            :limit=\"1\"\n            style=\"width: 300px;\"\n          >\n            <i class=\"el-icon-upload\" />\n            <div class=\"el-upload__text\"><em>点击上传</em></div>\n            <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red;\">您只能上传.doc,.docx格式的文件</div>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"uploadVisible=false\">关 闭</el-button>\n      <!-- <el-button type=\"primary\" @click=\"confirmReportDialog\">确认</el-button> -->\n    </div>\n  </el-dialog>\n</div>\n",null]}