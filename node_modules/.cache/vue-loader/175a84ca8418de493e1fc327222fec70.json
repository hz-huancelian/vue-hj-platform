{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\approve\\techApprove.vue?vue&type=template&id=fa01312a&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\approve\\techApprove.vue","mtime":1651895210000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form :model=\"searchForm\" :inline=\"true\">\n    <el-row>\n      <el-col :span=\"20\">\n        <el-form-item label=\"项目名称:\">\n          <el-input v-model=\"searchForm.projectName\" style=\"width:165px\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"报价单号:\">\n          <el-input v-model=\"searchForm.offerId\" style=\"width:165px\" placeholder=\"报价单号\" />\n        </el-form-item>\n        <el-form-item label=\"评审状态:\">\n          <el-select v-model=\"searchForm.taskStatus\" clearable style=\"width:160px\" filterable placeholder=\"评审状态\">\n            <el-option\n              v-for=\"item in Object.keys(TASK_STATUS)\"\n              :key=\"item\"\n              :label=\"TASK_STATUS[item]\"\n              :value=\"item\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"4\" class=\"search-right\">\n        <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n  </el-form>\n  <div>\n    <el-table\n      stripe\n      border\n      :data=\"orderData\"\n      highlight-current-row\n      :header-cell-style=\"{background:'#ECF3FC'}\"\n      style=\"width: 100%\"\n    >\n      <template slot=\"empty\">\n        <div class=\"table_empty\">\n          <div class=\"empty_tips\">\n            <span>\n              暂无信息\n            </span>\n          </div>\n        </div>\n      </template>\n      <el-table-column type=\"index\" width=\"55\" label=\"序号\" fixed=\"left\" align=\"center\" />\n      <el-table-column prop=\"projectName\" label=\"项目名称\" fixed=\"left\" min-width=\"140px\" align=\"center\" />\n      <el-table-column prop=\"certificationType\" label=\"认证类型\" width=\"90px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.certificationType === '1'?\"CMA\":\"CNAS\" }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"consignorName\" label=\"客户名称\" min-width=\"120px\" align=\"center\" />\n      <el-table-column label=\"评审状态\" align=\"center\" width=\"130px\">\n        <template slot-scope=\"{row}\">\n          <el-tag effect=\"dark\" :type=\"row.judgeTaskStatus | statusQualityFilter\">\n            {{ TASK_STATUS[row.judgeTaskStatus] }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"finishDate\" label=\"完成时间\" width=\"120\" align=\"center\" />\n      <!-- <el-table-column prop=\"checkTaskCount\" label=\"检测任务数\" align=\"center\" /> -->\n      <!-- <el-table-column prop=\"reviewNum\" label=\"参与评审人数\" align=\"center\" />\n      <el-table-column prop=\"reviewedNum\" label=\"已评审人数\" align=\"center\" /> -->\n\n      <el-table-column fixed=\"right\" align=\"center\" label=\"操作\" width=\"210\">\n        <template slot-scope=\"{row}\">\n          <el-button type=\"text\" @click=\"handleDetail(row)\"> 查看</el-button>\n          <div v-if=\"row.judgeTaskStatus>=4\" class=\"erc-divider-vertical\" />\n          <el-button v-if=\"row.judgeTaskStatus>=4\" type=\"text\" @click=\"handleAppDetail(row)\"> 评审记录</el-button>\n          <div v-if=\"row.judgeTaskStatus==='0'\" class=\"erc-divider-vertical\" />\n          <el-button v-if=\"row.judgeTaskStatus==='0'\" type=\"text\" @click=\"handleApprove(row)\"> 评审判定</el-button>\n          <div v-if=\"row.judgeTaskStatus==='4' || row.judgeTaskStatus==='5'\" class=\"erc-divider-vertical\" />\n          <el-button v-if=\"row.judgeTaskStatus==='4' || row.judgeTaskStatus==='5'\" type=\"text\" @click=\"handleLastApprove(row)\"> 评审审批</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <el-dialog :title=\"'报价单(' +orderDetailForm.offerId+ ')'\" :visible.sync=\"detailVisible\" top=\"5vh\" width=\"70%\">\n    <el-form label-position=\"right\" label-width=\"135px\">\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"客户名称:\">{{ orderDetailForm.offerBaseVo.consignorName || '' }}</el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"联系人:\">{{ orderDetailForm.offerBaseVo.consignorLinker || '' }}</el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"联系电话:\">{{ orderDetailForm.offerBaseVo.consignorLinkerPhone || '' }}</el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"客户要求完成时间:\">{{ orderDetailForm.offerBaseVo.finishDate|Time2Format }}</el-form-item>\n        </el-col>\n        <el-col :span=\"16\">\n          <el-form-item label=\"备注:\">{{ orderDetailForm.offerBaseVo.remark || '' }}</el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div v-for=\"(item, index) in orderDetailPlans\" :key=\"index\">\n      <el-divider>计划{{ index+1 }}因子列表</el-divider>\n      <div class=\"table-responsive\">\n        <table class=\"table table-bordered table-hover\" cellspacing=\"1\" cellpadding=\"0\">\n          <thead>\n            <tr>\n              <th rowspan=\"2\">序号</th>\n              <th rowspan=\"2\">检测类别</th>\n              <th colspan=\"3\">检测项目</th>\n              <th rowspan=\"2\">频次(次/天)</th>\n              <th rowspan=\"2\">天数</th>\n              <th rowspan=\"2\">监测频次</th>\n              <th rowspan=\"2\">执行次数</th>\n              <th rowspan=\"2\">总数</th>\n              <th rowspan=\"2\">检测单价(元)</th>\n              <th rowspan=\"2\">检测费(元)</th>\n            </tr>\n            <tr>\n              <th>序号</th>\n              <th>检测位置</th>\n              <th>因子</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(sitem, sindex) in item.factorTdos\" :key=\"sindex\">\n              <template v-if=\"sitem.frIndex==0\">\n                <td :rowspan=\"sitem.detailLength\">{{ sitem.id }}</td>\n                <td :rowspan=\"sitem.detailLength\">{{ sitem.secName }}</td>\n              </template>\n              <td>{{ sitem.sid }}</td>\n              <td>{{ sitem.factorPoint }}</td>\n              <td>{{ sitem.factorName }}{{ sitem.meanName&&sitem.meanName.length > 0?'('+ sitem.meanName +')':'' }}</td>\n              <td>{{ sitem.frequency }}</td>\n              <td>{{ sitem.dayCount }}</td>\n              <template v-if=\"sindex==0\">\n                <td :rowspan=\"item.oldPlanFactors.length\">{{ item.checkFreq }}</td>\n                <td :rowspan=\"item.oldPlanFactors.length\">{{ item.execTimes }}</td>\n              </template>\n              <td>{{ Number(sitem.frequency * sitem.dayCount * item.execTimes ).toFixed(0) }}</td>\n              <td>{{ sitem.costPerTime }}</td>\n              <td>{{ parseFloat(sitem.costPerTime*sitem.frequency * sitem.dayCount * item.execTimes).toFixed(2) }}</td>\n\n            </tr>\n            <tr>\n              <td colspan=\"11\">检测费合计</td>\n              <td>{{ parseFloat(item.checkFee*item.execTimes).toFixed(2) }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div class=\"table-responsive\">\n      <table class=\"table table-bordered table-hover\" cellspacing=\"1\" cellpadding=\"0  \">\n        <tbody>\n          <tr><td colspan=\"2\" style=\"width: 80%\">检测费合计</td><td>{{ orderDetailForm.costVo.checkAmount|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">报告编制费</td><td>{{ orderDetailForm.costVo.reportAmount|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">报告加急费</td><td>{{ (orderDetailForm.costVo.expediteAmount)|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">采样费</td><td>{{ (orderDetailForm.costVo.laborAmount)|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">差旅费</td><td>{{ (orderDetailForm.costVo.tripAmount)|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">税额</td><td>{{ orderDetailForm.costVo.taxAmount|MoneyFormat }}</td></tr>\n          <template v-if=\"orderDetailForm.selfCostVos\">\n            <tr v-for=\"(item, index) in orderDetailForm.selfCostVos\" :key=\"index\">\n              <td colspan=\"2\" style=\"width: 80%\">{{ item.selfName }}</td>\n              <td>{{ item.amount|MoneyFormat }}</td>\n            </tr>\n          </template>\n          <tr><td colspan=\"2\" style=\"width: 80%\">总计</td><td>{{ orderDetailForm.costVo.sysAmount|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">优惠价</td><td>{{ orderDetailForm.costVo.draftAmount|MoneyFormat }}</td></tr>\n          <tr><td style=\"width: 20%\">大写：</td><td colspan=\"2\" style=\"width: 80%\">{{ orderDetailForm.costVo.draftAmount|Money2Chinese }}</td></tr>\n        </tbody>\n      </table>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"合同评审判定\" :visible.sync=\"approveVisible\" center top=\"5vh\">\n    <el-form :model=\"approveForm\">\n      <el-form-item label=\"评审判定:\">\n        <el-radio-group v-model=\"approveForm.auditFlag\">\n          <el-radio label=\"2\">直接评审通过</el-radio>\n          <el-radio label=\"1\">进入评审流程</el-radio>\n          <el-radio label=\"3\">评审不通过</el-radio>\n        </el-radio-group>\n      </el-form-item>\n    </el-form>\n    <div v-if=\"approveForm.auditFlag === '1'\">\n      <el-row>\n        <el-button type=\"primary\" size=\"small\" @click=\"handleChosePerson\">选择参与人员</el-button>\n      </el-row>\n      <el-table :data=\"judgeData\" stripe style=\"padding-top:10px\">\n        <el-table-column prop=\"empName\" label=\"姓名\" align=\"center\" />\n        <el-table-column prop=\"deptName\" label=\"部门\" align=\"center\" />\n        <el-table-column prop=\"postNames\" label=\"岗位\" align=\"center\" />\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"{$index}\">\n            <el-button type=\"text\" @click=\"delChoseRow($index)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"approveVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n    </div>\n    <el-dialog title=\"人员选择\" :visible.sync=\"innerChose\" append-to-body>\n      <el-form :model=\"innerForm\" inline>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"innerAdd\">添加</el-button>\n        </el-form-item>\n      </el-form>\n      <el-table :data=\"innerJudgeData\" stripe max-height=\"450px\" @selection-change=\"handleSelection\">\n        <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\n        <el-table-column prop=\"empName\" label=\"姓名\" align=\"center\" />\n        <el-table-column prop=\"deptName\" label=\"部门\" align=\"center\" />\n        <el-table-column prop=\"postNames\" label=\"岗位\" align=\"center\" />\n      </el-table>\n    </el-dialog>\n  </el-dialog>\n\n  <el-dialog title=\"评审详情\" :visible.sync=\"appDetailsVisible\" center top=\"5vh\">\n    <el-table\n      :data=\"appDetails\"\n      border\n      stripe\n      highlight-current-row\n      :header-cell-style=\"{background:'#ECF3FC'}\"\n    >\n      <el-table-column prop=\"judgeUser\" label=\"技术评审人\" align=\"center\" />\n      <el-table-column prop=\"judgeRecordStatus\" label=\"状态\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <el-tag effect=\"dark\" :type=\"row.judgeRecordStatus | judgeStatusQualityFilter\">\n            {{ APPROVE_STATUS[row.judgeRecordStatus] }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" />\n    </el-table>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"appDetailsVisible=false\">关 闭</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"评审判定\" :visible.sync=\"lastApproveVisible\" center top=\"5vh\">\n    <el-form :model=\"lastApproveForm\">\n      <el-form-item label=\"评审判定:\">\n        <el-radio-group v-model=\"lastApproveForm.auditFlag\">\n          <el-radio label=\"6\">通过</el-radio>\n          <el-radio label=\"3\">不通过</el-radio>\n        </el-radio-group>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"lastApproveVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmLastDialog\">确认</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}