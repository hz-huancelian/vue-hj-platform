{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\components\\RightToolbar\\index.vue?vue&type=style&index=0&id=38ed449c&lang=scss&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\components\\RightToolbar\\index.vue","mtime":1648544928000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.time-dot {\n  text-align: center;\n  justify-content: center;\n  padding-top: 4px;\n  position: relative;\n  border-radius: 50%;\n  background: #dfe4ed;\n  height: 25px;\n  width: 25px;\n  left: -7px;\n}\n::v-deep .el-transfer__button {\n  border-radius: 50%;\n  padding: 12px;\n  display: block;\n  margin-left: 0px;\n}\n::v-deep .el-transfer__button:first-child {\n  margin-bottom: 10px;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/RightToolbar","sourcesContent":["<template>\n  <div class=\"top-right-btn\">\n    <el-row>\n      <el-tooltip class=\"item\" effect=\"dark\" :content=\"showSearch ? '隐藏搜索' : '显示搜索'\" placement=\"top\">\n        <el-button size=\"mini\" circle icon=\"el-icon-search\" @click=\"toggleSearch()\" />\n      </el-tooltip>\n      <el-tooltip class=\"item\" effect=\"dark\" content=\"上传\" placement=\"top\">\n        <el-button size=\"mini\" circle icon=\"el-icon-upload2\" @click=\"upload()\" />\n      </el-tooltip>\n      <el-tooltip class=\"item\" effect=\"dark\" content=\"刷新\" placement=\"top\">\n        <el-button size=\"mini\" circle icon=\"el-icon-refresh\" @click=\"refresh()\" />\n      </el-tooltip>\n      <el-tooltip class=\"item\" effect=\"dark\" content=\"模板下载\" placement=\"top\">\n        <el-button size=\"mini\" circle icon=\"el-icon-download\" @click=\"downloadTem()\" />\n      </el-tooltip>\n      <!-- <el-tooltip v-if=\"columns\" class=\"item\" effect=\"dark\" content=\"显隐列\" placement=\"top\">\n        <el-button size=\"mini\" circle icon=\"el-icon-menu\" @click=\"showColumn()\" />\n      </el-tooltip> -->\n    </el-row>\n    <el-dialog :title=\"title\" :visible.sync=\"open\" append-to-body>\n      <el-transfer\n        v-model=\"value\"\n        :titles=\"['显示', '隐藏']\"\n        :data=\"columns\"\n        @change=\"dataChange\"\n      />\n    </el-dialog>\n\n    <el-dialog title=\"文件上传\" :visible.sync=\"uploadVisible\" append-to-body center>\n      <div class=\"block\">\n        <el-timeline>\n          <el-timeline-item size=\"large\">\n            <span slot=\"dot\" class=\"time-dot\">\n              1\n            </span>\n            <el-row>\n              <el-col :span=\"24\">\n                下载模板，批量填写客户信息\n              </el-col>\n            </el-row>\n            <el-row style=\"padding-top:10px;\">\n              <el-col :span=\"24\">\n                <el-button size=\"mini\" type=\"primary\" @click=\"downloadTem()\">模板下载</el-button>\n              </el-col>\n            </el-row>\n          </el-timeline-item>\n          <el-timeline-item size=\"large\">\n            <span slot=\"dot\" class=\"time-dot\">\n              2\n            </span>\n            <el-row>\n              <el-col :span=\"24\">\n                下载模板，批量填写客户信息\n              </el-col>\n            </el-row>\n            <el-row style=\"padding-top:10px;\">\n              <el-col :span=\"24\">\n                <el-upload\n                  class=\"upload-demo\"\n                  action=\"/api/dataImport/uploadEmployee\"\n                  :on-change=\"uploadChange\"\n                  :file-list=\"excelFileList\"\n                  accept=\".xlsx,.xls\"\n                  :limit=\"1\"\n                  style=\"width: 300px;\"\n                >\n                  <el-button size=\"mini\" type=\"primary\">点击上传</el-button>\n                  <!-- <div class=\"el-upload__text\"><em>点击上传</em></div> -->\n                  <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red;\">您只能上传.xlsx,.xls格式的文件</div>\n                </el-upload>\n              </el-col>\n            </el-row>\n          </el-timeline-item>\n        </el-timeline>\n        <el-row>\n          <el-col :span=\"24\" style=\"\">\n            <span style=\"color:red; font-size: 13px\">备注：批量导入员工功能，只会将上传的员工信息列表内的员工新增到系统内，不对原有员工信息做任何替换或修改</span>\n          </el-col>\n        </el-row>\n      </div>\n    </el-dialog>\n\n    <!-- <el-dialog title=\"文件上传\" :visible.sync=\"uploadVisible\" append-to-body center>\n      <el-form>\n        <el-form-item>\n          <el-upload\n            class=\"upload-demo\"\n            action=\"/api/dataImport/uploadEmployee\"\n            :on-change=\"customUploadChange\"\n            :file-list=\"excelFileList\"\n            accept=\".xlsx,.xls\"\n            :limit=\"1\"\n            style=\"width: 300px;\"\n          >\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red;\">您只能上传.xlsx,.xls格式的文件</div>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"uploadVisible=false\">关闭</el-button>\n      </div>\n    </el-dialog> -->\n  </div>\n</template>\n<script>\nexport default {\n  name: 'RightToolbar',\n  props: {\n    showSearch: {\n      type: Boolean,\n      default: true\n    },\n    columns: {\n      type: Array,\n      default() {\n        return []\n      }\n    }\n  },\n  data() {\n    return {\n      // 显隐数据\n      value: [],\n      // 弹出层标题\n      title: '显示/隐藏',\n      // 是否显示弹出层\n      open: false,\n      excelFileList: [],\n      uploadVisible: false\n    }\n  },\n  created() {\n    // 显隐列初始默认隐藏列\n    for (const item in this.columns) {\n      if (this.columns[item].visible === false) {\n        this.value.push(parseInt(item))\n      }\n    }\n  },\n  methods: {\n    // 搜索\n    toggleSearch() {\n      this.$emit('update:showSearch', !this.showSearch)\n    },\n    // 刷新\n    refresh() {\n      this.$emit('queryTable')\n    },\n    // 右侧列表元素变化\n    dataChange(data) {\n      for (var item in this.columns) {\n        const key = this.columns[item].key\n        this.columns[item].visible = !data.includes(key)\n      }\n    },\n    // 打开显隐列dialog\n    showColumn() {\n      this.open = true\n    },\n\n    downloadTem() {\n      const url = this.$store.getters.sysBaseUrl + '/api/dataImport/downloadEmployeeExcel'\n      window.open(url)\n    },\n    uploadChange(file) {\n      if (file.status === 'ready') return\n      if (file.status === 'success') {\n        const res = file.response || {}\n        if (res && res.code === 200) {\n          this.fileResult = file.response.result\n          this.$message({\n            type: 'success',\n            message: file.response.message\n          })\n          this.handleSearch()\n          this.uploadVisible = false\n        } else {\n          this.$message.error('上传失败!')\n          this.excelFileList = []\n        }\n      } else {\n        this.$message.error('上传失败!')\n        this.excelFileList = []\n      }\n    },\n    upload() {\n      this.uploadVisible = true\n      this.excelFileList = []\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.time-dot {\n  text-align: center;\n  justify-content: center;\n  padding-top: 4px;\n  position: relative;\n  border-radius: 50%;\n  background: #dfe4ed;\n  height: 25px;\n  width: 25px;\n  left: -7px;\n}\n::v-deep .el-transfer__button {\n  border-radius: 50%;\n  padding: 12px;\n  display: block;\n  margin-left: 0px;\n}\n::v-deep .el-transfer__button:first-child {\n  margin-bottom: 10px;\n}\n</style>\n"]}]}