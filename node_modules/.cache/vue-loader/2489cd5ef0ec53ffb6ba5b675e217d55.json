{"remainingRequest":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\vue-hj-platform\\src\\views\\system\\judge\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjects\\vue-hj-platform\\src\\views\\system\\judge\\index.vue","mtime":1652342328000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as judgeServer from '@/api/judge'\nimport Pagination from '@/components/Pagination' // Secondary package based on el-pagination\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      mechanData: [],\n      searchForm: {\n        judgeOrganName: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      titleMap: {\n        edit: '修改分包机构信息',\n        create: '新增分包机构信息'\n      },\n      total: 0,\n      judgeVisible: false,\n      judgeDialogStatus: 'create',\n      judgeForm: {\n        organId: '',\n        judgeOrganName: '',\n        judgeOrganLinker: '',\n        judgeOrganLinkerPhone: '',\n        email: '',\n        legalPerson: '',\n        bankName: '',\n        bankNumber: '',\n        remark: ''\n      },\n      judgeRules: {\n        judgeOrganName: [{ required: true, message: '请录入机构名称', trigger: 'blur' }],\n        judgeOrganLinker: [{ required: true, message: '请录入机构联系人', trigger: 'blur' }],\n        judgeOrganLinkerPhone: [{ required: true, message: '请录入联系方式', trigger: 'blur' }],\n        email: [{ required: true, message: '请录入邮箱地址', trigger: 'blur' }],\n        legalPerson: [{ required: true, message: '请录入法人', trigger: 'blur' }],\n        bankName: [{ required: true, message: '请录入开户行', trigger: 'blur' }],\n        bankNumber: [{ required: true, message: '请录入银行账号', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.handleSearch()\n  },\n  methods: {\n    handleSearch() {\n      judgeServer.getMachanListForPage(this.searchForm).then(res => {\n        if (res.code === 200) {\n          this.mechanData = res.result.records\n          this.total = res.result.total\n        }\n      })\n    },\n    handleCreate() {\n      this.clearForm()\n      this.judgeDialogStatus = 'create'\n      this.judgeVisible = true\n    },\n    handleUpdate(row) {\n      this.clearForm()\n      this.judgeDialogStatus = 'edit'\n      this.judgeForm = Object.assign({}, row)\n      this.judgeVisible = true\n    },\n    confirmDialog() {\n      this.$refs.judgeForm.validate(valid => {\n        if (valid) {\n          if (this.judgeDialogStatus === 'create') {\n            judgeServer.addJudgeOrgan(this.judgeForm).then(request => {\n              this.$notify({\n                title: '成功',\n                message: request.message,\n                type: 'success'\n              })\n              this.judgeVisible = false\n              this.handleSearch()\n              this.$refs.judgeForm.resetFields()\n            }).catch(() => {})\n          } else {\n            judgeServer.updateJudgeOrgan(this.judgeForm).then(request => {\n              this.$notify({\n                title: '成功',\n                message: request.message,\n                type: 'success'\n              })\n              this.judgeVisible = false\n              this.handleSearch()\n              this.$refs.judgeForm.resetFields()\n            }).catch(() => {})\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    handleDelete(id) {\n      this.$confirm('是否确定删除?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        judgeServer.delById(id).then(result => {\n          if (result.code === 200) {\n            this.$notify({\n              title: '成功',\n              message: result.message,\n              type: 'success'\n            })\n            this.handleSearch()\n          } else {\n            this.$notify({\n              title: '失败',\n              message: result.message,\n              type: 'error'\n            })\n          }\n        })\n      }).catch(() => {})\n    },\n    clearForm() {\n      this.judgeForm = {\n        organId: '',\n        judgeOrganName: '',\n        judgeOrganLinker: '',\n        judgeOrganLinkerPhone: '',\n        email: '',\n        legalPerson: '',\n        bankName: '',\n        bankNumber: '',\n        remark: ''\n      }\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/judge","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"searchForm\" :inline=\"true\">\n      <el-row>\n        <el-col :span=\"20\">\n          <el-form-item label=\"分包机构名称:\">\n            <el-input v-model=\"searchForm.judgeOrganName\" style=\"width:165px\" placeholder=\"分包机构名称\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"4\" class=\"search-right\">\n          <el-button type=\"text\" icon=\"el-icon-plus\" @click=\"handleCreate\">新增</el-button>\n          <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div>\n      <el-table\n        stripe\n        border\n        :data=\"mechanData\"\n        highlight-current-row\n        :header-cell-style=\"{background:'#ECF3FC'}\"\n        style=\"width: 100%\"\n      >\n        <template slot=\"empty\">\n          <div class=\"table_empty\">\n            <div class=\"empty_tips\">\n              <span>\n                暂无分包机构信息\n              </span>\n              <el-button type=\"text\" size=\"small\" style=\"font-size:14px;\" @click=\"handleCreate\">新建分包机构</el-button>\n            </div>\n          </div>\n        </template>\n        <el-table-column type=\"index\" width=\"55\" label=\"序号\" fixed=\"left\" align=\"center\" />\n        <el-table-column prop=\"judgeOrganName\" label=\"机构名称\" min-width=\"160px\" align=\"center\" />\n        <el-table-column prop=\"legalPerson\" label=\"企业法人\" width=\"120px\" align=\"center\" />\n        <el-table-column prop=\"judgeOrganLinker\" label=\"联系人\" width=\"120px\" align=\"center\" />\n        <el-table-column prop=\"judgeOrganLinkerPhone\" label=\"联系人电话\" width=\"120px\" align=\"center\" />\n        <el-table-column prop=\"email\" label=\"邮箱\" align=\"center\" />\n        <el-table-column prop=\"bankName\" label=\"开户行\" align=\"center\" />\n        <el-table-column prop=\"bankNumber\" label=\"银行账号\" min-width=\"120px\" align=\"center\" />\n        <el-table-column prop=\"remark\" label=\"备注\" show-overflow-tooltip=\"true\" align=\"center\" />\n\n        <el-table-column fixed=\"right\" align=\"center\" label=\"操作\" width=\"130\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"handleUpdate(scope.row)\"> 编辑</el-button>\n            <div class=\"erc-divider-vertical\" />\n            <el-button type=\"text\" @click=\"handleDelete(scope.row.id)\"> 删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div style=\"float: right\">\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"searchForm.pageNumber\"\n        :limit.sync=\"searchForm.pageSize\"\n        @pagination=\"handleSearch\"\n      />\n    </div>\n    <el-dialog :title=\"titleMap[judgeDialogStatus]\" :visible.sync=\"judgeVisible\" center width=\"65%\" top=\"5vh\" :close-on-click-modal=\"false\">\n\n      <div style=\"width: 500px;margin:0 auto\">\n        <el-form ref=\"judgeForm\" :model=\"judgeForm\" :rules=\"judgeRules\" label-width=\"100px\">\n          <el-form-item prop=\"judgeOrganName\" label=\"机构名称:\">\n            <el-input v-model=\"judgeForm.judgeOrganName\" placeholder=\"分包机构名称\" maxlength=\"30\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item prop=\"legalPerson\" label=\"企业法人:\">\n            <el-input v-model=\"judgeForm.legalPerson\" placeholder=\"企业法人\" maxlength=\"15\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item prop=\"judgeOrganLinker\" label=\"联系人:\">\n            <el-input v-model=\"judgeForm.judgeOrganLinker\" placeholder=\"联系人\" maxlength=\"15\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item prop=\"judgeOrganLinkerPhone\" label=\"联系人电话:\">\n            <el-input v-model=\"judgeForm.judgeOrganLinkerPhone\" placeholder=\"联系人电话\" maxlength=\"15\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item prop=\"email\" label=\"邮箱:\">\n            <el-input v-model=\"judgeForm.email\" pattern=\"[^@]*@[^@]*\" type=\"email\" maxlength=\"25\" placeholder=\"邮箱\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item prop=\"bankName\" label=\"开户行:\">\n            <el-input v-model=\"judgeForm.bankName\" placeholder=\"开户行\" maxlength=\"30\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item prop=\"bankNumber\" label=\"银行账号:\">\n            <el-input v-model=\"judgeForm.bankNumber\" placeholder=\"银行账号\" maxlength=\"30\" style=\"width:80%\" />\n          </el-form-item>\n          <el-form-item label=\"备注:\">\n            <el-input\n              v-model=\"judgeForm.remark\"\n              type=\"textarea\"\n              :rows=\"3\"\n              maxlength=\"50\"\n              show-word-limit\n              placeholder=\"备注\"\n              style=\"width:80%\"\n            />\n          </el-form-item>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"judgeVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport * as judgeServer from '@/api/judge'\nimport Pagination from '@/components/Pagination' // Secondary package based on el-pagination\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      mechanData: [],\n      searchForm: {\n        judgeOrganName: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      titleMap: {\n        edit: '修改分包机构信息',\n        create: '新增分包机构信息'\n      },\n      total: 0,\n      judgeVisible: false,\n      judgeDialogStatus: 'create',\n      judgeForm: {\n        organId: '',\n        judgeOrganName: '',\n        judgeOrganLinker: '',\n        judgeOrganLinkerPhone: '',\n        email: '',\n        legalPerson: '',\n        bankName: '',\n        bankNumber: '',\n        remark: ''\n      },\n      judgeRules: {\n        judgeOrganName: [{ required: true, message: '请录入机构名称', trigger: 'blur' }],\n        judgeOrganLinker: [{ required: true, message: '请录入机构联系人', trigger: 'blur' }],\n        judgeOrganLinkerPhone: [{ required: true, message: '请录入联系方式', trigger: 'blur' }],\n        email: [{ required: true, message: '请录入邮箱地址', trigger: 'blur' }],\n        legalPerson: [{ required: true, message: '请录入法人', trigger: 'blur' }],\n        bankName: [{ required: true, message: '请录入开户行', trigger: 'blur' }],\n        bankNumber: [{ required: true, message: '请录入银行账号', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.handleSearch()\n  },\n  methods: {\n    handleSearch() {\n      judgeServer.getMachanListForPage(this.searchForm).then(res => {\n        if (res.code === 200) {\n          this.mechanData = res.result.records\n          this.total = res.result.total\n        }\n      })\n    },\n    handleCreate() {\n      this.clearForm()\n      this.judgeDialogStatus = 'create'\n      this.judgeVisible = true\n    },\n    handleUpdate(row) {\n      this.clearForm()\n      this.judgeDialogStatus = 'edit'\n      this.judgeForm = Object.assign({}, row)\n      this.judgeVisible = true\n    },\n    confirmDialog() {\n      this.$refs.judgeForm.validate(valid => {\n        if (valid) {\n          if (this.judgeDialogStatus === 'create') {\n            judgeServer.addJudgeOrgan(this.judgeForm).then(request => {\n              this.$notify({\n                title: '成功',\n                message: request.message,\n                type: 'success'\n              })\n              this.judgeVisible = false\n              this.handleSearch()\n              this.$refs.judgeForm.resetFields()\n            }).catch(() => {})\n          } else {\n            judgeServer.updateJudgeOrgan(this.judgeForm).then(request => {\n              this.$notify({\n                title: '成功',\n                message: request.message,\n                type: 'success'\n              })\n              this.judgeVisible = false\n              this.handleSearch()\n              this.$refs.judgeForm.resetFields()\n            }).catch(() => {})\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    handleDelete(id) {\n      this.$confirm('是否确定删除?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        judgeServer.delById(id).then(result => {\n          if (result.code === 200) {\n            this.$notify({\n              title: '成功',\n              message: result.message,\n              type: 'success'\n            })\n            this.handleSearch()\n          } else {\n            this.$notify({\n              title: '失败',\n              message: result.message,\n              type: 'error'\n            })\n          }\n        })\n      }).catch(() => {})\n    },\n    clearForm() {\n      this.judgeForm = {\n        organId: '',\n        judgeOrganName: '',\n        judgeOrganLinker: '',\n        judgeOrganLinkerPhone: '',\n        email: '',\n        legalPerson: '',\n        bankName: '',\n        bankNumber: '',\n        remark: ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" type=\"text/scss\">\n  .search_div {\n    >div {\n      &:nth-child(1){\n        margin-right: 10px;\n      }\n      display: inline-block;\n    }\n  }\n\n  .search_input {\n    width: 200px;\n    margin-bottom: 5px;\n  }\n  .search-right {\n    text-align: right;\n    padding-right: 25px;\n  }\n  .item {\n    font-size: 16px;\n  }\n  ::v-deep .el-card .el-card__header {\n    padding: 5px 20px;\n    background: #F3F2F2;\n  }\n</style>\n"]}]}