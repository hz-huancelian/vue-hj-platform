{"remainingRequest":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\vue-hj-platform\\src\\views\\order\\approve\\approveList.vue?vue&type=template&id=406114de&scoped=true&","dependencies":[{"path":"F:\\webstormProjects\\vue-hj-platform\\src\\views\\order\\approve\\approveList.vue","mtime":1651895228000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form :model=\"searchForm\" :inline=\"true\">\n    <el-row>\n      <el-col :span=\"20\">\n        <el-form-item label=\"项目名称:\">\n          <el-input v-model=\"searchForm.projectName\" style=\"width:180px\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"报价单号:\">\n          <el-input v-model=\"searchForm.id\" style=\"width:180px\" placeholder=\"报价单号\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"4\" class=\"search-right\">\n        <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n  </el-form>\n  <div>\n    <el-table\n      border\n      stripe\n      :data=\"orderData\"\n      highlight-current-row\n      :header-cell-style=\"{background:'#ECF3FC'}\"\n      style=\"width: 100%\"\n    >\n      <template slot=\"empty\">\n        <div class=\"table_empty\">\n          <div class=\"empty_tips\">\n            <span>\n              暂无审核信息\n            </span>\n          </div>\n        </div>\n      </template>\n      <el-table-column type=\"index\" width=\"55\" label=\"序号\" fixed=\"left\" align=\"center\" />\n      <el-table-column prop=\"projectName\" label=\"项目名称\" fixed=\"left\" min-width=\"120px\" align=\"center\" />\n      <el-table-column prop=\"id\" label=\"报价单号\" width=\"180px\" align=\"center\" />\n      <el-table-column prop=\"checkType\" label=\"检测类型\" width=\"90px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.checkType === '0'?\"委托检测\":\"样品送检\" }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"certificationType\" label=\"认证类型\" width=\"90px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.certificationType === '1'?\"CMA\":\"CNAS\" }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"consignorName\" label=\"客户名称\" min-width=\"120px\" align=\"center\" />\n      <el-table-column prop=\"finishDate\" label=\"完成时间\" width=\"120\" align=\"center\" />\n      <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <el-tag effect=\"dark\" :type=\"row.status | statusQualityFilter\">\n            {{ ACCOUNT_STATUS[row.status] }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"checkTaskCount\" label=\"任务数\" align=\"center\" />\n\n      <!-- <el-table-column prop=\"checkCircle\" label=\"周期\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ CHECK_STATUS[row.checkCircle] }}\n        </template>\n      </el-table-column> -->\n      <el-table-column prop=\"draftAmount\" label=\"费用总计\" align=\"center\" />\n      <el-table-column prop=\"createUserId\" label=\"报价人\" align=\"center\" />\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\" align=\"center\" />\n\n      <el-table-column fixed=\"right\" align=\"center\" label=\"操作\" width=\"130\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"handleDetail(scope.row)\"> 查看</el-button>\n          <div v-if=\"scope.row.status==='1'\" class=\"erc-divider-vertical\" />\n          <el-button v-if=\"scope.row.status==='1'\" type=\"text\" @click=\"handleApprove(scope.row)\"> 审核</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <el-dialog :title=\"'报价单(' +orderDetailForm.offerId+ ')'\" :visible.sync=\"detailVisible\" top=\"5vh\" width=\"70%\">\n    <el-form label-position=\"right\" label-width=\"135px\">\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"客户名称:\">{{ orderDetailForm.offerBaseVo.consignorName || '' }}</el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"联系人:\">{{ orderDetailForm.offerBaseVo.consignorLinker || '' }}</el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"联系电话:\">{{ orderDetailForm.offerBaseVo.consignorLinkerPhone || '' }}</el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"客户要求完成时间:\">{{ orderDetailForm.offerBaseVo.finishDate|Time2Format }}</el-form-item>\n        </el-col>\n        <el-col :span=\"16\">\n          <el-form-item label=\"备注:\">{{ orderDetailForm.offerBaseVo.remark || '' }}</el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div v-for=\"(item, index) in orderDetailPlans\" :key=\"index\">\n      <el-divider>计划{{ index+1 }}因子列表</el-divider>\n      <div class=\"table-responsive\">\n        <table class=\"table table-bordered table-hover\" cellspacing=\"1\" cellpadding=\"0\">\n          <thead>\n            <tr>\n              <th rowspan=\"2\">序号</th>\n              <th rowspan=\"2\">检测类别</th>\n              <th colspan=\"3\">检测项目</th>\n              <th rowspan=\"2\">频次(次/天)</th>\n              <th rowspan=\"2\">天数</th>\n              <th rowspan=\"2\">监测频次</th>\n              <th rowspan=\"2\">执行次数</th>\n              <th rowspan=\"2\">总数</th>\n              <th rowspan=\"2\">检测单价(元)</th>\n              <th rowspan=\"2\">检测费(元)</th>\n            </tr>\n            <tr>\n              <th>序号</th>\n              <th>检测位置</th>\n              <th>因子</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(sitem, sindex) in item.factorTdos\" :key=\"sindex\">\n              <template v-if=\"sitem.frIndex==0\">\n                <td :rowspan=\"sitem.detailLength\">{{ sitem.id }}</td>\n                <td :rowspan=\"sitem.detailLength\">{{ sitem.secName }}</td>\n              </template>\n              <td>{{ sitem.sid }}</td>\n              <td>{{ sitem.factorPoint }}</td>\n              <td>{{ sitem.factorName }}{{ sitem.meanName&&sitem.meanName.length > 0?'('+ sitem.meanName +')':'' }}</td>\n              <td>{{ sitem.frequency }}</td>\n              <td>{{ sitem.dayCount }}</td>\n              <template v-if=\"sindex==0\">\n                <td :rowspan=\"item.oldPlanFactors.length\">{{ item.checkFreq }}</td>\n                <td :rowspan=\"item.oldPlanFactors.length\">{{ item.execTimes }}</td>\n              </template>\n              <td>{{ Number(sitem.frequency * sitem.dayCount * item.execTimes ).toFixed(0) }}</td>\n              <td>{{ sitem.costPerTime }}</td>\n              <td>{{ parseFloat(sitem.costPerTime*sitem.frequency * sitem.dayCount * item.execTimes).toFixed(2) }}</td>\n\n            </tr>\n            <tr>\n              <td colspan=\"11\">检测费合计</td>\n              <td>{{ parseFloat(item.checkFee*item.execTimes).toFixed(2) }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div class=\"table-responsive\">\n      <table class=\"table table-bordered table-hover\" cellspacing=\"1\" cellpadding=\"0  \">\n        <tbody>\n          <tr><td colspan=\"2\" style=\"width: 80%\">检测费合计</td><td>{{ orderDetailForm.costVo.checkAmount|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">报告编制费</td><td>{{ orderDetailForm.costVo.reportAmount|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">报告加急费</td><td>{{ (orderDetailForm.costVo.expediteAmount)|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">采样费</td><td>{{ (orderDetailForm.costVo.laborAmount)|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">差旅费</td><td>{{ (orderDetailForm.costVo.tripAmount)|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">税额</td><td>{{ orderDetailForm.costVo.taxAmount|MoneyFormat }}</td></tr>\n          <template v-if=\"orderDetailForm.selfCostVos\">\n            <tr v-for=\"(item, index) in orderDetailForm.selfCostVos\" :key=\"index\">\n              <td colspan=\"2\" style=\"width: 80%\">{{ item.selfName }}</td>\n              <td>{{ item.amount|MoneyFormat }}</td>\n            </tr>\n          </template>\n          <tr><td colspan=\"2\" style=\"width: 80%\">总计</td><td>{{ orderDetailForm.costVo.sysAmount|MoneyFormat }}</td></tr>\n          <tr><td colspan=\"2\" style=\"width: 80%\">优惠价</td><td>{{ orderDetailForm.costVo.draftAmount|MoneyFormat }}</td></tr>\n          <tr><td style=\"width: 20%\">大写：</td><td colspan=\"2\" style=\"width: 80%\">{{ orderDetailForm.costVo.draftAmount|Money2Chinese }}</td></tr>\n        </tbody>\n      </table>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"报价单审核\" :visible.sync=\"approveVisible\" center>\n    <div style=\"width: 400px;margin:0 auto\">\n      <el-form :model=\"approveForm\" label-width=\"100px\">\n        <el-form-item label=\"审核结果:\">\n          <el-radio-group v-model=\"approveForm.isPass\">\n            <el-radio label=\"0\">通过</el-radio>\n            <el-radio label=\"1\">驳回</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item v-if=\"approveForm.isPass==='1'\" label=\"审核意见:\">\n          <el-input v-model=\"approveForm.remark\" type=\"textarea\" :rows=\"3\" maxlength=\"50\" placeholder=\"审核意见\" />\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"approveVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}