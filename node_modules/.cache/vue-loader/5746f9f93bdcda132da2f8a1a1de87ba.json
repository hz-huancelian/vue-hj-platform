{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\equipment\\index.vue?vue&type=template&id=8c20dd32&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\equipment\\index.vue","mtime":1652771312000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form :model=\"searchForm\" :inline=\"true\">\n    <el-row>\n      <el-col :span=\"18\">\n        <el-form-item label=\"设备编号:\">\n          <el-input v-model=\"searchForm.equipmentNumber\" style=\"width:165px\" placeholder=\"设备编号\" />\n        </el-form-item>\n        <el-form-item label=\"设备名称:\">\n          <el-input v-model=\"searchForm.equipmentName\" style=\"width:165px\" placeholder=\"设备名称\" />\n        </el-form-item>\n        <el-form-item label=\"设备类别:\">\n          <el-select v-model=\"searchForm.equipmentFirstType\" clearable style=\"width:160px\" filterable placeholder=\"设备类别\" @change=\"getSearchSecdInfo\">\n            <el-option\n              v-for=\"item in devTypeArray\"\n              :key=\"item.dictKey\"\n              :label=\"item.dictVal\"\n              :value=\"item.dictKey\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item v-if=\"searchForm.equipmentFirstType != '100404'\" label=\"检测类别:\">\n          <el-select v-model=\"searchForm.equipmentSecondType\" clearable style=\"width:160px\" filterable placeholder=\"检测类别\">\n            <el-option\n              v-for=\"item in secOtherArray\"\n              :key=\"item.dictKey\"\n              :label=\"item.dictVal\"\n              :value=\"item.dictKey\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\"> 查询</el-button>\n          <!-- <el-button type=\"primary\" @click=\"handleDownload\"> 导出</el-button> -->\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"6\" class=\"search-right\">\n        <el-button type=\"text\" size=\"small\" icon=\"el-icon-plus\" @click=\"handleAdd\">新增</el-button>\n        <el-button type=\"text\" size=\"small\" icon=\"el-icon-upload2\" @click=\"handleUpload\">批量导入</el-button>\n        <el-button type=\"text\" size=\"small\" icon=\"el-icon-download\" @click=\"handleDownload\">导出</el-button>\n        <el-button type=\"text\" size=\"small\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n  </el-form>\n  <el-table\n    stripe\n    border\n    :data=\"devData\"\n    highlight-current-row\n    :header-cell-style=\"{background:'#ECF3FC'}\"\n    style=\"width: 100%\"\n  >\n    <template slot=\"empty\">\n      <div class=\"table_empty\">\n        <div class=\"empty_tips\">\n          <span>\n            暂无数据\n          </span>\n        </div>\n      </div>\n    </template>\n    <el-table-column type=\"index\" width=\"55\" label=\"序号\" align=\"center\" />\n    <el-table-column prop=\"equipmentNumber\" label=\"设备编号\" align=\"center\" />\n    <el-table-column prop=\"equipmentName\" label=\"设备名称\" align=\"center\" />\n    <el-table-column prop=\"equipmentFirstTypeVal\" label=\"设备类别\" align=\"center\" />\n    <el-table-column prop=\"equipmentSecondTypeVal\" label=\"检测类别\" align=\"center\" />\n    <el-table-column prop=\"equipmentBrand\" label=\"设备品牌\" align=\"center\" />\n    <el-table-column prop=\"equipmentModel\" label=\"设备型号\" align=\"center\" />\n    <el-table-column prop=\"checkDate\" label=\"上次检定日期\" align=\"center\" />\n    <el-table-column prop=\"checkCircle\" label=\"检定周期\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        {{ CHECK_STATUS[row.checkCircle] }}\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" />\n\n    <el-table-column fixed=\"right\" align=\"center\" label=\"操作\">\n      <template slot-scope=\"scope\">\n        <el-button type=\"text\" @click=\"handleUpdate(scope.row)\"> 编辑</el-button>\n        <div class=\"erc-divider-vertical\" />\n        <el-button type=\"text\" @click=\"handleDelete(scope.row.id)\"> 删除</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <el-dialog :title=\"titleMap[devDialogStatus]\" :visible.sync=\"devDialogVisible\" width=\"65%\" center :close-on-click-modal=\"false\">\n    <el-form ref=\"devForm\" :model=\"devForm\" :rules=\"devRules\" label-width=\"120px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"equipmentNumber\" label=\"设备编号:\">\n            <el-input v-model=\"devForm.equipmentNumber\" placeholder=\"设备编号\" maxlength=\"25\" style=\"width: 80%;\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"equipmentName\">\n            <span slot=\"label\">\n              设备名称\n              <el-popover\n                placement=\"top-start\"\n                title=\"\"\n                width=\"300\"\n                trigger=\"hover\"\n                content=\"检测机构内部对该设备的命名：如气相色谱仪、液相色谱仪、便携式PH仪\"\n              >\n                <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n              </el-popover>\n              :\n            </span>\n            <el-input v-model=\"devForm.equipmentName\" placeholder=\"设备名称不能为空\" style=\"width: 80%;\" maxlength=\"25\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"equipmentFirstType\" label=\"设备类别:\">\n            <el-select v-model=\"devForm.equipmentFirstType\" placeholder=\"设备类别不能为空\" style=\"width: 80%;\" @change=\"getSecdEquipment\">\n              <el-option\n                v-for=\"item in devTypeArray\"\n                :key=\"item.dictKey\"\n                :label=\"item.dictVal\"\n                :value=\"item.dictKey\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item v-if=\"devForm.equipmentFirstType !== '100404'\" prop=\"equipmentSecondType\" label=\"检测类别:\">\n            <el-select v-model=\"devForm.equipmentSecondType\" placeholder=\"检测类别不能为空\" style=\"width: 80%;\">\n              <el-option\n                v-for=\"item in secOtherArray\"\n                :key=\"item.dictKey\"\n                :label=\"item.dictVal\"\n                :value=\"item.dictKey\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"equipmentBrand\" label=\"设备品牌:\">\n            <el-input v-model=\"devForm.equipmentBrand\" placeholder=\"设备品牌\" style=\"width: 80%;\" maxlength=\"20\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"equipmentModel\" label=\"设备型号:\">\n            <el-input v-model=\"devForm.equipmentModel\" placeholder=\"设备型号\" style=\"width: 80%;\" maxlength=\"10\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"checkDate\" label=\"上次检定日期:\">\n            <el-date-picker\n              v-model=\"devForm.checkDate\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd\"\n              placeholder=\"上次检定日期\"\n              style=\"width: 80%\"\n            />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item prop=\"checkCircle\" label=\"检定周期:\">\n            <el-select v-model=\"devForm.checkCircle\" clearable style=\"width:80%;\" filterable placeholder=\"检定周期\">\n              <el-option\n                v-for=\"item in Object.keys(CHECK_STATUS)\"\n                :key=\"item\"\n                :label=\"CHECK_STATUS[item]\"\n                :value=\"item\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">\n          <el-form-item prop=\"remark\" label=\"备注:\">\n            <el-input v-model=\"devForm.remark\" type=\"textarea\" :rows=\"3\" placeholder=\"备注\" style=\"width: 92%;\" maxlength=\"50\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"devDialogVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n    </div>\n  </el-dialog>\n\n  <!-- <el-dialog title=\"文件上传\" :visible.sync=\"uploadVisible\" center>\n    <el-form>\n      <el-form-item>\n        <el-upload\n          class=\"upload-demo\"\n          action=\"/api/dataImport/uploadEquipent\"\n          :on-change=\"customUploadChange\"\n          :file-list=\"excelFileList\"\n          accept=\".xlsx,.xls\"\n          :limit=\"1\"\n          style=\"width: 300px;\"\n        >\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n          <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red;\">您只能上传.xlsx,.xls格式的文件</div>\n        </el-upload>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"uploadVisible=false\">关闭</el-button>\n    </div>\n  </el-dialog> -->\n\n  <el-dialog title=\"批量导入设备\" :visible.sync=\"uploadVisible\" append-to-body width=\"53%\">\n    <div class=\"block\">\n      <el-timeline>\n        <el-timeline-item size=\"large\">\n          <span slot=\"dot\" class=\"time-dot\">\n            1\n          </span>\n          <el-row>\n            <el-col :span=\"24\">\n              下载模板，批量填写设备信息\n            </el-col>\n          </el-row>\n          <el-row style=\"padding-top:10px;\">\n            <el-col :span=\"24\">\n              <el-button size=\"mini\" type=\"primary\" @click=\"handleDownloadTep()\">模板下载</el-button>\n            </el-col>\n          </el-row>\n        </el-timeline-item>\n        <el-timeline-item size=\"large\">\n          <span slot=\"dot\" class=\"time-dot\">\n            2\n          </span>\n          <el-row>\n            <el-col :span=\"24\">\n              上传填写好的设备信息表格\n            </el-col>\n          </el-row>\n          <el-row style=\"padding-top:10px;\">\n            <el-col :span=\"24\">\n              <el-upload\n                class=\"upload-demo\"\n                action=\"/api/dataImport/uploadEquipent\"\n                :on-change=\"customUploadChange\"\n                :file-list=\"excelFileList\"\n                accept=\".xlsx,.xls\"\n                :limit=\"1\"\n                style=\"width: 300px;\"\n              >\n                <el-button size=\"mini\" type=\"primary\">点击上传</el-button>\n                <!-- <div class=\"el-upload__text\"><em>点击上传</em></div> -->\n                <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red;\">您只能上传.xlsx,.xls格式的文件</div>\n              </el-upload>\n            </el-col>\n          </el-row>\n        </el-timeline-item>\n      </el-timeline>\n      <el-row>\n        <el-col :span=\"24\" style=\"\">\n          <span style=\"color:red; font-size: 13px\">备注：批量导入设备功能，只会将上传的设备信息列表内的设备新增到系统内，不对原有设备信息做任何替换或修改。\n\n          </span>\n        </el-col>\n      </el-row>\n    </div>\n  </el-dialog>\n\n</div>\n",null]}