{"remainingRequest":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\vue-hj-platform\\src\\views\\system\\user\\index.vue?vue&type=template&id=1930a3c4&scoped=true&","dependencies":[{"path":"F:\\webstormProjects\\vue-hj-platform\\src\\views\\system\\user\\index.vue","mtime":1651301394000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-row :gutter=\"20\">\n    <!--部门数据-->\n    <el-col :span=\"4\" :xs=\"24\">\n      <div class=\"head-container\">\n        <el-input\n          v-model=\"deptName\"\n          placeholder=\"请输入部门名称\"\n          clearable\n          size=\"small\"\n          prefix-icon=\"el-icon-search\"\n          style=\"margin-bottom: 20px;\"\n        />\n      </div>\n      <div class=\"head-container\">\n        <el-tree\n          ref=\"tree\"\n          :data=\"deptOptions\"\n          :props=\"defaultProps\"\n          :expand-on-click-node=\"false\"\n          :filter-node-method=\"filterNode\"\n          default-expand-all\n          @node-click=\"handleNodeClick\"\n        />\n      </div>\n    </el-col>\n    <!--用户数据-->\n    <el-col :span=\"20\" :xs=\"24\">\n      <el-row>\n        <el-col :span=\"18\">\n\n          <el-form v-show=\"showSearch\" ref=\"queryForm\" :model=\"queryParams\" :inline=\"true\">\n            <el-form-item label=\"员工姓名\" prop=\"empName\">\n              <el-input\n                v-model=\"queryParams.empName\"\n                placeholder=\"请输入\"\n                clearable\n                style=\"width: 120px\"\n                @keyup.enter.native=\"handleQuery\"\n              />\n            </el-form-item>\n            <el-form-item label=\"手机号码\" prop=\"phonenumber\">\n              <el-input\n                v-model=\"queryParams.phonenumber\"\n                placeholder=\"请输入\"\n                clearable\n                style=\"width: 120px\"\n                @keyup.enter.native=\"handleQuery\"\n              />\n            </el-form-item>\n            <el-form-item label=\"状态\" prop=\"status\">\n              <el-select\n                v-model=\"queryParams.status\"\n                placeholder=\"状态\"\n                clearable\n                style=\"width: 100px\"\n              >\n                <el-option\n                  v-for=\"dict in statusOptions\"\n                  :key=\"dict.dictValue\"\n                  :label=\"dict.dictLabel\"\n                  :value=\"dict.dictValue\"\n                />\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" icon=\"el-icon-search\" size=\"small\" @click=\"handleQuery\">搜索</el-button>\n              <el-button icon=\"el-icon-refresh\" size=\"small\" @click=\"resetQuery\">重置</el-button>\n            </el-form-item>\n          </el-form>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-plus\" @click=\"handleAdd\">新增</el-button>\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-upload2\" @click=\"handleUpload\">批量导入</el-button>\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-download\" @click=\"handleDownload\">导出</el-button>\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-refresh\" @click=\"handleQuery\">刷新</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n            plain\n            icon=\"el-icon-plus\"\n            size=\"small\"\n            @click=\"handleAdd\"\n          >新增</el-button>\n          <el-button\n            type=\"primary\"\n            plain\n            icon=\"el-icon-download\"\n            size=\"small\"\n            @click=\"handleDownload\"\n          >导出</el-button>\n        </el-col>\n        <right-toolbar :show-search.sync=\"showSearch\" :columns=\"columns\" @queryTable=\"getList\" />\n      </el-row> -->\n\n      <el-table v-loading=\"loading\" :data=\"userList\" @selection-change=\"handleSelectionChange\">\n        <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"center\" />\n        <el-table-column label=\"员工工号\" align=\"center\" prop=\"empCode\" :show-overflow-tooltip=\"true\" />\n        <el-table-column label=\"员工姓名\" align=\"center\" prop=\"empName\" :show-overflow-tooltip=\"true\" />\n        <el-table-column label=\"登录账号\" align=\"center\" width=\"100px\" prop=\"username\" :show-overflow-tooltip=\"true\" />\n        <el-table-column label=\"部门\" align=\"center\" prop=\"deptName\" :show-overflow-tooltip=\"true\" />\n        <el-table-column label=\"岗位\" align=\"center\" prop=\"postNames\" :show-overflow-tooltip=\"true\" />\n        <el-table-column label=\"角色\" align=\"center\" prop=\"roleNames\" :show-overflow-tooltip=\"true\" />\n        <el-table-column label=\"手机号码\" align=\"center\" prop=\"phonenumber\" width=\"120\" />\n        <el-table-column label=\"状态\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"scope.row.status==='0'?'success':'danger'\">{{ scope.row.status==='0'?'正常':'停用' }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column v-if=\"columns[6].visible\" label=\"创建日期\" align=\"center\" prop=\"createTime\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ parseTime(scope.row.createTime, '{y}-{m}-{d}') }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"操作\"\n          align=\"center\"\n          width=\"160\"\n          class-name=\"small-padding fixed-width\"\n        >\n          <template v-if=\"scope.row.deptId !== '-1'\" slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"text\"\n              icon=\"el-icon-edit\"\n              @click=\"handleUpdate(scope.row)\"\n            >修改</el-button>\n            <!-- <el-button\n              size=\"mini\"\n              type=\"text\"\n              icon=\"el-icon-key\"\n              @click=\"handleResetPwd(scope.row)\"\n            >重置密码</el-button> -->\n            <el-button\n              v-if=\"scope.row.status==='0'\"\n              size=\"mini\"\n              type=\"text\"\n              icon=\"el-icon-delete\"\n              @click=\"handleDelete(scope.row)\"\n            >注销</el-button>\n            <el-button\n              v-if=\"scope.row.status==='1'\"\n              size=\"mini\"\n              type=\"text\"\n              icon=\"el-icon-success\"\n              @click=\"handleOnline(scope.row)\"\n            >启用</el-button>\n            <el-dropdown size=\"mini\" @command=\"(command) => handleCommand(command, scope.row)\">\n              <span class=\"el-dropdown-link\" style=\"font-size:12px;\">\n                <i class=\"el-icon-d-arrow-right el-icon--right\" />更多\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item\n                  command=\"handleResetPwd\"\n                  icon=\"el-icon-key\"\n                >重置密码</el-dropdown-item>\n                <!-- <el-dropdown-item\n                  command=\"handleAuthRole\"\n                  icon=\"el-icon-circle-check\"\n                >分配角色</el-dropdown-item> -->\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.pageNumber\"\n        :limit.sync=\"queryParams.pageSize\"\n        @pagination=\"getList\"\n      />\n    </el-col>\n  </el-row>\n\n  <!-- 添加或修改参数配置对话框 -->\n  <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"720px\" append-to-body :close-on-click-modal=\"false\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"员工工号\" prop=\"empCode\">\n            <el-input v-model=\"form.empCode\" placeholder=\"请输入员工工号\" maxlength=\"30\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"员工姓名\" prop=\"empName\">\n            <el-input v-model=\"form.empName\" placeholder=\"请输入姓名\" maxlength=\"30\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"归属部门\" prop=\"deptId\">\n            <treeselect v-model=\"form.deptId\" :options=\"deptOptions\" :show-count=\"true\" placeholder=\"请选择归属部门\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"手机号码\" prop=\"phonenumber\">\n            <el-input v-model=\"form.phonenumber\" placeholder=\"请输入手机号码\" maxlength=\"11\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"个人邮箱\" prop=\"email\">\n            <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\" maxlength=\"50\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"性别\">\n            <el-select v-model=\"form.sex\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"dict in sexOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <!-- <el-col :span=\"12\">\n          <el-form-item label=\"状态\">\n            <el-radio-group v-model=\"form.status\">\n              <el-radio\n                v-for=\"dict in statusOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictValue\"\n              >{{ dict.dictLabel }}</el-radio>\n            </el-radio-group>\n          </el-form-item>\n        </el-col> -->\n      </el-row>\n\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item>\n            <span slot=\"label\">\n              岗位\n              <el-popover\n                placement=\"top-start\"\n                title=\"\"\n                width=\"400\"\n                trigger=\"hover\"\n                content=\"岗位是员工在公司里的内部职称，一个员工对应一个岗位，岗位名称可以任意命名，员工岗位与权限没有任何关联。\"\n              >\n                <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n              </el-popover>\n            </span>\n            <el-select v-model=\"postId\" placeholder=\"请选择\" @change=\"getPostInfo\">\n              <el-option\n                v-for=\"item in postOptions\"\n                :key=\"item.postId\"\n                :label=\"item.postName\"\n                :value=\"item.postId\"\n                :disabled=\"item.status == 1\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item>\n            <span slot=\"label\">\n              角色\n              <el-popover\n                placement=\"top-start\"\n                title=\"\"\n                width=\"300\"\n                trigger=\"hover\"\n                content=\"角色是平台内设定的统一固定称谓，一个员工可以对应多个角色，\n                也就是说可以同时拥有多个角色的权限，以解决某些员工身兼数职的问题。\n                角色名称是系统默认固定的，但是角色的数据权限和菜单权限管理员可以进行更改，\n                请根据需要谨慎更改。平台后期可能新增角色，但不会对现有角色进行修改，\n                若点击恢复默认权限，则会恢复到平台给予当前角色的默认权限。\"\n              >\n                <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n              </el-popover>\n            </span>\n            <el-select v-model=\"form.roleIds\" multiple placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in roleOptions\"\n                :key=\"item.roleId\"\n                :label=\"item.roleName\"\n                :value=\"item.roleId\"\n                :disabled=\"item.status == 1\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item prop=\"isAppLogin\">\n            <span slot=\"label\">\n              小程序\n              <el-popover\n                placement=\"top-start\"\n                title=\"\"\n                width=\"300\"\n                trigger=\"hover\"\n                content=\"允许采样组长/采样员通过手机端进行现场采样录样操作，如果员工的角色含有采样组长或采样员，建议打开允许按钮\"\n              >\n                <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n              </el-popover>\n            </span>\n            <el-switch\n              v-model=\"form.isAppLogin\"\n              active-text=\"允许\"\n              inactive-text=\"不允许\"\n              active-value=\"1\"\n              inactive-value=\"0\"\n              @change=\"switchChange\"\n            />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item v-if=\"form.isAppLogin==1\" label=\"小程序角色\" prop=\"appRoles\">\n            <el-select v-model=\"form.appRoles\" multiple clearable>\n              <el-option\n                v-for=\"item in dataAppOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"24\">\n          <el-form-item label=\"备注\">\n            <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"批量导入员工\" :visible.sync=\"uploadVisible\" append-to-body>\n    <div class=\"block\">\n      <el-timeline>\n        <el-timeline-item size=\"large\">\n          <span slot=\"dot\" class=\"time-dot\">\n            1\n          </span>\n          <el-row>\n            <el-col :span=\"24\">\n              下载模板，批量填写员工信息\n            </el-col>\n          </el-row>\n          <el-row style=\"padding-top:10px;\">\n            <el-col :span=\"24\">\n              <el-button size=\"mini\" type=\"primary\" @click=\"downloadTem()\">模板下载</el-button>\n            </el-col>\n          </el-row>\n        </el-timeline-item>\n        <el-timeline-item size=\"large\">\n          <span slot=\"dot\" class=\"time-dot\">\n            2\n          </span>\n          <el-row>\n            <el-col :span=\"24\">\n              上传填写好的员工信息表格\n            </el-col>\n          </el-row>\n          <el-row style=\"padding-top:10px;\">\n            <el-col :span=\"24\">\n              <el-upload\n                class=\"upload-demo\"\n                action=\"/api/dataImport/uploadEmployee\"\n                :on-change=\"uploadChange\"\n                :file-list=\"excelFileList\"\n                accept=\".xlsx,.xls\"\n                :limit=\"1\"\n                style=\"width: 300px;\"\n              >\n                <el-button size=\"mini\" type=\"primary\">点击上传</el-button>\n                <!-- <div class=\"el-upload__text\"><em>点击上传</em></div> -->\n                <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red;\">您只能上传.xlsx,.xls格式的文件</div>\n              </el-upload>\n            </el-col>\n          </el-row>\n        </el-timeline-item>\n      </el-timeline>\n      <el-row>\n        <el-col :span=\"24\" style=\"\">\n          <span style=\"color:red; font-size: 13px\">备注：批量导入员工功能，只会将上传的员工信息列表内的员工新增到系统内，不对原有员工信息做任何替换或修改</span>\n        </el-col>\n      </el-row>\n    </div>\n  </el-dialog>\n</div>\n",null]}