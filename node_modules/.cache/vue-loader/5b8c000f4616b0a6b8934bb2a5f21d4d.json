{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderOutSource.vue?vue&type=style&index=0&id=0987da7b&scoped=true&lang=scss&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderOutSource.vue","mtime":1653271567000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search_div {\n  >div {\n    &:nth-child(1){\n      margin-right: 10px;\n    }\n    display: inline-block;\n  }\n}\n\n.search_input {\n  width: 200px;\n  margin-bottom: 5px;\n}\n.search-right {\n  text-align: right;\n  padding-right: 25px;\n}\n.item {\n  font-size: 16px;\n}\n::v-deep .el-card .el-card__header {\n  padding: 5px 20px;\n  background: #D3D3D3;\n}\n.block-flex {\n  position: relative;\n  display: flex;\n  &>div{\n    border: 1px solid #B7B7B7;\n    width: 100px;\n    margin: 0;\n    line-height: 30px;\n    text-align: center;\n  }\n  &>div:first-child {\n    background: #B7B7B7;\n  }\n}\n.card-left {\n  width: 100%;\n  min-height: 200px;\n  max-height: 400px;\n}\n.card-right {\n  width: 100%;\n  min-height: 200px;\n  max-height: 400px;\n}\n.el-card {\n  overflow: auto;\n}\n.el-dropdown-link {\n  cursor: pointer;\n  color: #409EFF;\n}\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n/deep/.el-table__header-wrapper  .el-checkbox{\n  display:none\n}\n.info-table-new {\n  font-size: 14px;\n  width: 100%;\n  text-align: center;\n  margin-top: 10px;\n  border-top: 1px solid #ececec;\n  border-left: 1px solid #ececec;\n  line-height: 35px;\n  td {\n    border-bottom: 1px solid #ececec;\n    border-right: 1px solid #ececec;\n    width: 25%;\n    height: 35px;\n    // &:nth-child(2n + 1) {\n    //   width: 25%;\n    //   background: #f5f5f5;\n    // }\n  }\n}\n",{"version":3,"sources":["orderOutSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderOutSource.vue","sourceRoot":"src/views/task","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"searchForm\" :inline=\"true\">\n      <el-row>\n        <el-col :span=\"20\">\n          <el-form-item label=\"报价单号:\">\n            <el-input v-model=\"searchForm.offerId\" style=\"width:165px\" placeholder=\"报价单号\" />\n          </el-form-item>\n          <el-form-item label=\"项目名称:\">\n            <el-input v-model=\"searchForm.projectName\" style=\"width:165px\" placeholder=\"项目名称\" />\n          </el-form-item>\n          <el-form-item label=\"分包状态:\">\n            <el-select v-model=\"searchForm.status\" placeholder=\"分包状态\">\n              <el-option label=\"全部\" value=\"\" />\n              <el-option label=\"未处理\" value=\"0\" />\n              <el-option label=\"已处理\" value=\"1\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"4\" class=\"search-right\">\n          <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div>\n      <el-table\n        stripe\n        border\n        :data=\"orderData\"\n        highlight-current-row\n        :header-cell-style=\"{background:'#ECF3FC'}\"\n        style=\"width: 100%\"\n      >\n        <template slot=\"empty\">\n          <div class=\"table_empty\">\n            <div class=\"empty_tips\">\n              <span>\n                暂无分包信息\n              </span>\n            </div>\n          </div>\n        </template>\n        <el-table-column type=\"index\" width=\"55\" label=\"序号\" fixed=\"left\" align=\"center\" />\n        <el-table-column prop=\"projectName\" label=\"项目名称\" fixed=\"left\" min-width=\"120px\" align=\"center\" />\n        <el-table-column prop=\"offerId\" label=\"报价单号\" width=\"180px\" align=\"center\" />\n        <el-table-column prop=\"checkType\" label=\"检测类型\" width=\"90px\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.checkType === '0'?\"委托检测\":\"样品送检\" }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"consignorName\" label=\"客户名称\" min-width=\"120px\" align=\"center\" />\n        <el-table-column prop=\"finishDate\" label=\"完成时间\" width=\"120\" align=\"center\" />\n        <el-table-column prop=\"createUserId\" label=\"报价人\" align=\"center\" />\n        <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            <el-tag effect=\"dark\" :type=\"row.status | statusQualityFilter\">\n              {{ ACCOUNT_STATUS[row.status] }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\" align=\"center\" />\n\n        <el-table-column fixed=\"right\" align=\"center\" label=\"操作\" width=\"130\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"handleDetail(scope.row)\"> 查看</el-button>\n            <div v-if=\"scope.row.status === '0'\" class=\"erc-divider-vertical\" />\n            <el-button v-if=\"scope.row.status === '0'\" type=\"text\" @click=\"handleApprove(scope.row)\"> 分包判定</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div style=\"float: right\">\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"searchForm.pageNumber\"\n        :limit.sync=\"searchForm.pageSize\"\n        @pagination=\"handleSearch\"\n      />\n    </div>\n\n    <el-dialog :title=\"currentRow.projectName+ '-详情'\" :visible.sync=\"detailVisible\" top=\"5vh\" width=\"85%\">\n      <el-form label-width=\"110px\">\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"委托单位:\">{{ currentRow.consignorName }}</el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"完成时间:\">{{ currentRow.finishDate }}</el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"报价人:\">{{ currentRow.createUserId }}</el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"备注:\">{{ currentRow.remark?currentRow.remark:'-' }}</el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <el-card v-if=\"showJudgeArray && showJudgeArray.length > 0\" shadow=\"never\">\n        <el-card v-for=\"(item,index) in showJudgeArray\" :key=\"index\" style=\"margin-top:5px\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>{{ item.organName==='-1'?'自处理':item.organName }}<i class=\"el-input__icon\" /></span>\n          </div>\n          <el-table\n            :data=\"item.factorVos\"\n            :header-cell-style=\"{background:'#ECF3FC'}\"\n            max-height=\"400px\"\n          >\n            <el-table-column type=\"index\" width=\"55\" label=\"序号\" align=\"center\" />\n            <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n            <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n            <el-table-column prop=\"standardNo\" label=\"标准号\" min-width=\"110px\" align=\"center\" />\n            <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n            <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n            <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n            <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n            <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-card>\n      </el-card>\n    </el-dialog>\n\n    <el-dialog :title=\"currentRow.projectName + '-调度'\" :visible.sync=\"approveVisible\" center fullscreen>\n      <el-form>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"委托单位:\">{{ currentRow.consignorName }}</el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"完成时间:\">{{ currentRow.finishDate }}</el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"报价人:\">{{ currentRow.createUserId }}</el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"备注:\">{{ currentRow.remark?currentRow.remark:'-' }}</el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <el-card shadow=\"never\">\n        <div slot=\"header\" class=\"clearfix\">\n          <el-row :gutter=\"3\">\n            <el-col :span=\"6\">\n              <span>检测因子<i class=\"el-input__icon\" /></span>\n            </el-col>\n            <el-col :span=\"8\" style=\"text-align:right;padding-top:13px;\">\n              <span style=\"color:red;\">若直接点击确认，则默认不分包，全部由本机构自行检测</span>\n            </el-col>\n            <el-col :span=\"7\">\n              <el-select\n                v-model=\"judgeId\"\n                placeholder=\"机构选择\"\n                style=\"float: right; margin:4px 2px;\"\n              >\n                <el-option\n                  v-for=\"item in judgeArray\"\n                  :key=\"item.id\"\n                  :label=\"item.judgeOrganName\"\n                  :value=\"item.id\"\n                />\n              </el-select>\n            </el-col>\n            <el-col :span=\"3\">\n              <el-button style=\"float: left; margin:4px 2px;\" type=\"primary\" plain @click=\"addJudge\">确定分包</el-button>\n            </el-col>\n          </el-row>\n\n        </div>\n        <el-row style=\"height:45px;\">\n          <el-col :span=\"4\">\n            <el-input v-model=\"ableFactor\" placeholder=\"请录入因子\" />\n          </el-col>\n          <el-col :span=\"16\" style=\"text-align:center;font-size: 16px;padding-top:10px;color:#1890FF\">有能力</el-col>\n          <el-col :span=\"4\" style=\"text-align:center;font-size: 16px;color:#1890FF\" />\n        </el-row>\n        <el-row style=\"margin-top: 10px\">\n\n          <el-table\n            :data=\"ableFactorDt\"\n            :header-cell-style=\"{background:'#ECF3FC'}\"\n            max-height=\"400px\"\n            border\n            @selection-change=\"handleSelectionChange\"\n          >\n            <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n            <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n            <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n            <el-table-column prop=\"standardNo\" label=\"标准号\" min-width=\"100px\" align=\"center\" />\n            <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n            <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n            <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n            <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n            <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-row>\n        <el-divider />\n        <el-row style=\"height:45px;padding-top:8px;\">\n          <el-col :span=\"4\" style=\"text-align:center;font-size: 16px;color:#1890FF\">\n            <el-input v-model=\"unAbleFactor\" placeholder=\"请录入因子\" />\n          </el-col>\n          <el-col :span=\"16\" style=\"text-align:center;font-size: 16px;padding-top:10px;color:#1890FF\">无能力</el-col>\n          <el-col :span=\"4\" style=\"text-align:center;font-size: 16px;color:#1890FF\" />\n        </el-row>\n        <el-row style=\"margin-top: 10px\">\n          <el-table\n            :data=\"unAbleFactorDt\"\n            :header-cell-style=\"{background:'#ECF3FC'}\"\n            max-height=\"400px\"\n            border\n            @selection-change=\"handleSelectionEnableChange\"\n          >\n            <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n            <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n            <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n            <el-table-column prop=\"standardNo\" label=\"标准号\" min-width=\"100px\" align=\"center\" />\n            <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n            <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n            <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n            <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n            <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-row>\n      </el-card>\n      <el-card v-if=\"outFactorData && outFactorData.length > 0\" shadow=\"never\">\n        <el-card v-for=\"(item,index) in outFactorData\" :key=\"index\" style=\"margin-top:3px\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>分包机构:{{ item.judgeName }}<i class=\"el-input__icon\" /></span>\n            <el-button style=\"float: right; margin:4px 2px;\" type=\"primary\" plain size=\"mini\" @click=\"delJudge(item,index)\">删除</el-button>\n          </div>\n          <el-table\n            :data=\"item.facotrs\"\n            :header-cell-style=\"{background:'#ECF3FC'}\"\n            max-height=\"400px\"\n          >\n            <el-table-column type=\"index\" width=\"55\" label=\"序号\" align=\"center\" />\n            <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n            <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n            <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n            <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n            <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n            <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n            <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n              <template slot-scope=\"{row}\">\n                {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n              </template>\n            </el-table-column>\n\n          </el-table>\n\n        </el-card>\n      </el-card>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"approveVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport * as orderServer from '@/api/offer'\nimport * as appvoerServer from '@/api/approve'\nimport { findValidList } from '@/api/dict'\nimport Pagination from '@/components/Pagination' // Secondary package based on el-pagination\nconst ACCOUNT_STATUS = {\n  '0': '待处理',\n  '1': '已处理'\n}\nconst CHECK_STATUS = {\n  '0': '单次',\n  '1': '周',\n  '2': '月',\n  '3': '季度',\n  '4': '半年',\n  '5': '年'\n}\nexport default {\n  components: { Pagination },\n  filters: {\n    statusQualityFilter(status) {\n      const statusMap = {\n        '0': '',\n        '1': 'success'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      ACCOUNT_STATUS,\n      CHECK_STATUS,\n      orderData: [],\n      searchForm: {\n        offerId: '',\n        projectName: '',\n        status: '0',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      approveVisible: false,\n      approveForm: {\n        result: '0',\n        remark: ''\n      },\n      orderDetailForm: {\n        offerId: '',\n        offerBaseVo: {\n          consignorName: '',\n          consignorLinker: '',\n          consignorLinkerPhone: '',\n          createUserName: '',\n          finishDate: '',\n          remark: '',\n          checkCircle: '',\n          checkTaskCount: ''\n        },\n        factorTdos: [],\n        costVo: {},\n        oncePrice: '',\n        selfCostVos: []\n      },\n      detailVisible: false,\n      factorData: [],\n      enableFactorData: [], // 无能力\n      ableFactorData: [], // 有能力\n      outFactorData: [],\n      multipleSelection: [],\n      multipleEnableSelection: [],\n      judgeId: '',\n      judgeArray: [],\n      showJudgeArray: [],\n      currentRow: {},\n      ableFactor: '',\n      unAbleFactor: ''\n    }\n  },\n  computed: {\n    ableFactorDt() {\n      const search = this.ableFactor.trim()\n      if (search) {\n        return this.ableFactorData.filter(i => i.factorName.indexOf(search) > -1)\n      }\n      return this.ableFactorData\n    },\n    unAbleFactorDt() {\n      const search = this.unAbleFactor.trim()\n      if (search) {\n        return this.enableFactorData.filter(i => i.factorName.indexOf(search) > -1)\n      }\n      return this.enableFactorData\n    }\n  },\n  created() {\n    this.getOutSourceCom()\n    this.handleSearch()\n  },\n  methods: {\n    handleSearch() {\n      appvoerServer.findOfferJudgeByCondition(this.searchForm).then(res => {\n        if (res.code === 200) {\n          this.orderData = res.result.records\n          this.total = res.result.total\n        }\n      })\n    },\n    getOutSourceCom() {\n      findValidList().then(res => {\n        this.judgeArray = res.result\n      })\n    },\n    handleDetail(row) {\n      this.currentRow = Object.assign({}, row)\n      // 获取数据\n      orderServer.findJudgeOfferFactorQryVoByOfferId(row.offerId).then(res => {\n        this.showJudgeArray = res.result\n        this.detailVisible = true\n      })\n    },\n    handleApprove(row) {\n      this.currentRow = Object.assign({}, row)\n      this.enableFactorData = []\n      this.ableFactorData = []\n      this.outFactorData = []\n      this.judgeId = ''\n      orderServer.getOrderOutSourceInfos(row.offerId).then(res => {\n        if (res.code === 200 && res.result) {\n          this.factorData = res.result || []\n          res.result.forEach(i => {\n            if (i.extAssistFlg === '1') {\n              this.enableFactorData.push(i)\n            } else {\n              this.ableFactorData.push(i)\n            }\n          })\n\n          this.approveVisible = true\n        }\n      })\n    },\n    addJudge() {\n      if (this.ableFactorData.length - this.multipleSelection.length <= 0) {\n        this.$message.error('有能力检测因子项不能全部分包')\n        return\n      }\n      if (this.judgeId && (this.multipleSelection || this.multipleEnableSelection)) {\n        const evel = this.outFactorData.find(i => i.judgeId === this.judgeId)\n        const jevel = this.judgeArray.find(i => i.id === this.judgeId)\n        let factorInfos = this.multipleSelection\n        factorInfos = factorInfos.concat(this.multipleEnableSelection)\n        if (!evel) {\n          this.outFactorData.push({\n            judgeId: this.judgeId,\n            judgeName: jevel.judgeOrganName,\n            facotrs: factorInfos\n          })\n        } else {\n          evel.facotrs = evel.facotrs.concat(factorInfos)\n        }\n        // 处理成功移除 选中的记录\n        this.multipleSelection.forEach(i => {\n          var index = this.ableFactorData.indexOf(i)\n          if (index !== -1) {\n            this.ableFactorData.splice(index, 1)\n          }\n        })\n        this.multipleEnableSelection.forEach(i => {\n          var index = this.enableFactorData.indexOf(i)\n          if (index !== -1) {\n            this.enableFactorData.splice(index, 1)\n          }\n        })\n        this.multipleSelection = []\n        this.multipleEnableSelection = []\n      } else {\n        this.$message.warning('请先选择分包机构,且因子不能为空')\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    handleSelectionEnableChange(val) {\n      this.multipleEnableSelection = val\n    },\n    delJudge(item, index) {\n      if (item.facotrs) {\n        const local = [...item.facotrs]\n        this.outFactorData.splice(index, 1)\n        debugger\n        local.forEach(i => {\n          if (i.extAssistFlg === '1') {\n            this.enableFactorData.push(i)\n          } else {\n            this.ableFactorData.push(i)\n          }\n        })\n      }\n    },\n    confirmDialog() {\n      if (this.enableFactorData.length > 0) {\n        this.$message.error('无能力检测因子需要全部分包')\n        return\n      }\n      var tdoList = this.ableFactorData.map(i => {\n        return {\n          planFactorId: i.planFactorId,\n          organId: ''\n        }\n      })\n      this.outFactorData.forEach(i => {\n        if (i.facotrs) {\n          i.facotrs.forEach(j => {\n            tdoList.push({\n              planFactorId: j.planFactorId,\n              organId: i.judgeId\n            })\n          })\n        }\n      })\n\n      this.$confirm('确定提交分包信息?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const data = {\n          offerId: this.currentRow.offerId,\n          itemTdoList: tdoList\n        }\n        appvoerServer.offerJudge(data).then(result => {\n          if (result.code === 200) {\n            this.$notify({\n              title: '成功',\n              message: result.message,\n              type: 'success'\n            })\n            this.handleSearch()\n            this.approveVisible = false\n          } else {\n            this.$notify({\n              title: '失败',\n              message: result.message,\n              type: 'error'\n            })\n          }\n        })\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" type=\"text/scss\">\n  .search_div {\n    >div {\n      &:nth-child(1){\n        margin-right: 10px;\n      }\n      display: inline-block;\n    }\n  }\n\n  .search_input {\n    width: 200px;\n    margin-bottom: 5px;\n  }\n  .search-right {\n    text-align: right;\n    padding-right: 25px;\n  }\n  .item {\n    font-size: 16px;\n  }\n  ::v-deep .el-card .el-card__header {\n    padding: 5px 20px;\n    background: #D3D3D3;\n  }\n  .block-flex {\n    position: relative;\n    display: flex;\n    &>div{\n      border: 1px solid #B7B7B7;\n      width: 100px;\n      margin: 0;\n      line-height: 30px;\n      text-align: center;\n    }\n    &>div:first-child {\n      background: #B7B7B7;\n    }\n  }\n  .card-left {\n    width: 100%;\n    min-height: 200px;\n    max-height: 400px;\n  }\n  .card-right {\n    width: 100%;\n    min-height: 200px;\n    max-height: 400px;\n  }\n  .el-card {\n    overflow: auto;\n  }\n  .el-dropdown-link {\n    cursor: pointer;\n    color: #409EFF;\n  }\n  .el-icon-arrow-down {\n    font-size: 12px;\n  }\n  /deep/.el-table__header-wrapper  .el-checkbox{\n    display:none\n  }\n  .info-table-new {\n    font-size: 14px;\n    width: 100%;\n    text-align: center;\n    margin-top: 10px;\n    border-top: 1px solid #ececec;\n    border-left: 1px solid #ececec;\n    line-height: 35px;\n    td {\n      border-bottom: 1px solid #ececec;\n      border-right: 1px solid #ececec;\n      width: 25%;\n      height: 35px;\n      // &:nth-child(2n + 1) {\n      //   width: 25%;\n      //   background: #f5f5f5;\n      // }\n    }\n  }\n</style>\n\n<style scoped>\n\ntable {\n    background-color: transparent\n}\n\ncaption {\n    padding-top: 8px;\n    padding-bottom: 8px;\n    color: #777;\n    text-align: left\n}\n\nth {\n    text-align: left\n}\n\n.table {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 20px\n}\n\n.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th {\n    padding: 8px;\n    line-height: 1.42857143;\n    vertical-align: middle;\n    border-top: 1px solid #ddd\n}\n\n.table>thead>tr>th {\n    vertical-align: bottom;\n    border-bottom: 2px solid #ddd\n}\n\n.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th {\n    border-left: 1px solid #F1F2F4\n}\n\n.table>tbody+tbody {\n    border-top: 2px solid #ddd\n}\n\n.table .table {\n    background-color: #fff\n}\n\n.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th {\n    padding: 5px\n}\n\n.table-bordered {\n    border: 1px solid #ddd\n}\n\n.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th {\n    border: 1px solid #ddd\n}\n\n.table-bordered>thead>tr>td,.table-bordered>thead>tr>th {\n    border-bottom-width: 2px\n}\n\n.table-striped>tbody>tr:nth-of-type(odd) {\n    background-color: #f9f9f9\n}\n\n.table-hover>tbody>tr:hover {\n    background-color: #f5f5f5\n}\n\ntable col[class*=col-] {\n    position: static;\n    display: table-column;\n    float: none\n}\n\ntable td[class*=col-],table th[class*=col-] {\n    position: static;\n    display: table-cell;\n    float: none\n}\n\n.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active {\n    background-color: #f5f5f5\n}\n\n.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover {\n    background-color: #e8e8e8\n}\n\n.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success {\n    background-color: #dff0d8\n}\n\n.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover {\n    background-color: #d0e9c6\n}\n\n.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info {\n    background-color: #d9edf7\n}\n\n.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover {\n    background-color: #c4e3f3\n}\n\n.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning {\n    background-color: #fcf8e3\n}\n\n.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover {\n    background-color: #faf2cc\n}\n\n.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger {\n    background-color: #f2dede\n}\n\n.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover {\n    background-color: #ebcccc\n}\n\n.table-responsive {\n  min-height: 3.01%;\n  overflow-x: auto;\n}\n\n.table-bordered, .table-bordered > tbody > tr > td, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > td, .table-bordered > tfoot > tr > th, .table-bordered > thead > tr > td, .table-bordered > thead > tr > th {\n    border: 1px solid #e9ecef;\n    text-align: center;\n}\n\n.table-bordered, td, th {\n    border-radius: 0 !important;\n}\n\n.table-bordered > tbody > tr:last-child > td {\n    border-bottom: 1px solid #e9ecef;\n}\n\n.bootstrap-table .fixed-table-container .fixed-table-header {\n    overflow: hidden;\n    background: rgba(0, 0, 0, .05);\n}\n\n.fixed-table-header .table > thead > tr {\n    background: none !important;\n}\n\n.table > thead > tr {\n    color: #636363;\n    font-weight: 400;\n    background: rgba(0, 0, 0, .05);\n    /*   background: repeat-x #fafafa;\n  background-image: -webkit-linear-gradient(top,#F8F8F8 0,#fafafa 100%);\n  background-image: -o-linear-gradient(top,#F8F8F8 0,#fafafa 100%);\n  background-image: linear-gradient(to bottom,#F8F8F8 0,#fafafa 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff8f8f8', endColorstr='#ffececec', GradientType=0); */\n}\n\n.table > thead > tr > th {\n    border-color: #e9ecef;\n    font-weight: 700;\n    border-right-color: transparent;\n}\n\n.table > thead > tr > th .ace-icon:first-child {\n    margin-right: 2px;\n}\n\n.table > thead > tr > th:first-child {\n    border-left-color: #F1F1F1;\n}\n\n.table > thead > tr > th:last-child {\n    border-right-color: #F1F1F1;\n}\n\n.table.table-bordered > thead > tr > th {\n    vertical-align: middle;\n}\n\ntd.center, th.center {\n    text-align: center;\n}\n\ntd .lbl, th .lbl {\n    margin-bottom: 0;\n}\n\ntd .lbl:only-child, th .lbl:only-child {\n    vertical-align: top;\n}\n\n.table-header {\n    background-color: #307ECC;\n    color: #FFF;\n    font-size: 14px;\n    line-height: 38px;\n    padding-left: 12px;\n    margin-bottom: 1px;\n}\n\n.table-header .close {\n    margin-right: 8px;\n    margin-top: 0;\n    opacity: .45;\n    filter: alpha(opacity=45);\n}\n\n.table-header .close:hover {\n    opacity: .75;\n    filter: alpha(opacity=75);\n}\n\nth.detail-col {\n    width: 48px;\n    text-align: center;\n}\n\ntr.detail-row {\n    display: none;\n}\n\ntr.detail-row.open {\n    display: block;\n    display: table-row;\n}\n\ntr.detail-row > td {\n    background-color: #f1f6f8;\n    border-top: 3px solid #d1e1ea !important;\n}\n\n.table-detail {\n    background-color: #fff;\n    border: 1px solid #dcebf7;\n    width: 100%;\n    padding: 12px;\n}\n\n.table-detail td > .profile-user-info {\n    width: 100%;\n}\n\n</style>\n"]}]}