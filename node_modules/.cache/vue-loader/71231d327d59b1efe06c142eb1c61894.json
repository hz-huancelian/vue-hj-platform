{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderOutSource.vue?vue&type=template&id=0987da7b&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderOutSource.vue","mtime":1653271567000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form :model=\"searchForm\" :inline=\"true\">\n    <el-row>\n      <el-col :span=\"20\">\n        <el-form-item label=\"报价单号:\">\n          <el-input v-model=\"searchForm.offerId\" style=\"width:165px\" placeholder=\"报价单号\" />\n        </el-form-item>\n        <el-form-item label=\"项目名称:\">\n          <el-input v-model=\"searchForm.projectName\" style=\"width:165px\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"分包状态:\">\n          <el-select v-model=\"searchForm.status\" placeholder=\"分包状态\">\n            <el-option label=\"全部\" value=\"\" />\n            <el-option label=\"未处理\" value=\"0\" />\n            <el-option label=\"已处理\" value=\"1\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"4\" class=\"search-right\">\n        <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n  </el-form>\n  <div>\n    <el-table\n      stripe\n      border\n      :data=\"orderData\"\n      highlight-current-row\n      :header-cell-style=\"{background:'#ECF3FC'}\"\n      style=\"width: 100%\"\n    >\n      <template slot=\"empty\">\n        <div class=\"table_empty\">\n          <div class=\"empty_tips\">\n            <span>\n              暂无分包信息\n            </span>\n          </div>\n        </div>\n      </template>\n      <el-table-column type=\"index\" width=\"55\" label=\"序号\" fixed=\"left\" align=\"center\" />\n      <el-table-column prop=\"projectName\" label=\"项目名称\" fixed=\"left\" min-width=\"120px\" align=\"center\" />\n      <el-table-column prop=\"offerId\" label=\"报价单号\" width=\"180px\" align=\"center\" />\n      <el-table-column prop=\"checkType\" label=\"检测类型\" width=\"90px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.checkType === '0'?\"委托检测\":\"样品送检\" }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"consignorName\" label=\"客户名称\" min-width=\"120px\" align=\"center\" />\n      <el-table-column prop=\"finishDate\" label=\"完成时间\" width=\"120\" align=\"center\" />\n      <el-table-column prop=\"createUserId\" label=\"报价人\" align=\"center\" />\n      <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <el-tag effect=\"dark\" :type=\"row.status | statusQualityFilter\">\n            {{ ACCOUNT_STATUS[row.status] }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\" align=\"center\" />\n\n      <el-table-column fixed=\"right\" align=\"center\" label=\"操作\" width=\"130\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"handleDetail(scope.row)\"> 查看</el-button>\n          <div v-if=\"scope.row.status === '0'\" class=\"erc-divider-vertical\" />\n          <el-button v-if=\"scope.row.status === '0'\" type=\"text\" @click=\"handleApprove(scope.row)\"> 分包判定</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <el-dialog :title=\"currentRow.projectName+ '-详情'\" :visible.sync=\"detailVisible\" top=\"5vh\" width=\"85%\">\n    <el-form label-width=\"110px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"委托单位:\">{{ currentRow.consignorName }}</el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"完成时间:\">{{ currentRow.finishDate }}</el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"报价人:\">{{ currentRow.createUserId }}</el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"备注:\">{{ currentRow.remark?currentRow.remark:'-' }}</el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-card v-if=\"showJudgeArray && showJudgeArray.length > 0\" shadow=\"never\">\n      <el-card v-for=\"(item,index) in showJudgeArray\" :key=\"index\" style=\"margin-top:5px\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{ item.organName==='-1'?'自处理':item.organName }}<i class=\"el-input__icon\" /></span>\n        </div>\n        <el-table\n          :data=\"item.factorVos\"\n          :header-cell-style=\"{background:'#ECF3FC'}\"\n          max-height=\"400px\"\n        >\n          <el-table-column type=\"index\" width=\"55\" label=\"序号\" align=\"center\" />\n          <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n          <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n          <el-table-column prop=\"standardNo\" label=\"标准号\" min-width=\"110px\" align=\"center\" />\n          <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n          <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n          <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n          <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n          <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-card>\n    </el-card>\n  </el-dialog>\n\n  <el-dialog :title=\"currentRow.projectName + '-调度'\" :visible.sync=\"approveVisible\" center fullscreen>\n    <el-form>\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"委托单位:\">{{ currentRow.consignorName }}</el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"完成时间:\">{{ currentRow.finishDate }}</el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"报价人:\">{{ currentRow.createUserId }}</el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"备注:\">{{ currentRow.remark?currentRow.remark:'-' }}</el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-card shadow=\"never\">\n      <div slot=\"header\" class=\"clearfix\">\n        <el-row :gutter=\"3\">\n          <el-col :span=\"6\">\n            <span>检测因子<i class=\"el-input__icon\" /></span>\n          </el-col>\n          <el-col :span=\"8\" style=\"text-align:right;padding-top:13px;\">\n            <span style=\"color:red;\">若直接点击确认，则默认不分包，全部由本机构自行检测</span>\n          </el-col>\n          <el-col :span=\"7\">\n            <el-select\n              v-model=\"judgeId\"\n              placeholder=\"机构选择\"\n              style=\"float: right; margin:4px 2px;\"\n            >\n              <el-option\n                v-for=\"item in judgeArray\"\n                :key=\"item.id\"\n                :label=\"item.judgeOrganName\"\n                :value=\"item.id\"\n              />\n            </el-select>\n          </el-col>\n          <el-col :span=\"3\">\n            <el-button style=\"float: left; margin:4px 2px;\" type=\"primary\" plain @click=\"addJudge\">确定分包</el-button>\n          </el-col>\n        </el-row>\n\n      </div>\n      <el-row style=\"height:45px;\">\n        <el-col :span=\"4\">\n          <el-input v-model=\"ableFactor\" placeholder=\"请录入因子\" />\n        </el-col>\n        <el-col :span=\"16\" style=\"text-align:center;font-size: 16px;padding-top:10px;color:#1890FF\">有能力</el-col>\n        <el-col :span=\"4\" style=\"text-align:center;font-size: 16px;color:#1890FF\" />\n      </el-row>\n      <el-row style=\"margin-top: 10px\">\n\n        <el-table\n          :data=\"ableFactorDt\"\n          :header-cell-style=\"{background:'#ECF3FC'}\"\n          max-height=\"400px\"\n          border\n          @selection-change=\"handleSelectionChange\"\n        >\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n          <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n          <el-table-column prop=\"standardNo\" label=\"标准号\" min-width=\"100px\" align=\"center\" />\n          <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n          <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n          <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n          <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n          <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-row>\n      <el-divider />\n      <el-row style=\"height:45px;padding-top:8px;\">\n        <el-col :span=\"4\" style=\"text-align:center;font-size: 16px;color:#1890FF\">\n          <el-input v-model=\"unAbleFactor\" placeholder=\"请录入因子\" />\n        </el-col>\n        <el-col :span=\"16\" style=\"text-align:center;font-size: 16px;padding-top:10px;color:#1890FF\">无能力</el-col>\n        <el-col :span=\"4\" style=\"text-align:center;font-size: 16px;color:#1890FF\" />\n      </el-row>\n      <el-row style=\"margin-top: 10px\">\n        <el-table\n          :data=\"unAbleFactorDt\"\n          :header-cell-style=\"{background:'#ECF3FC'}\"\n          max-height=\"400px\"\n          border\n          @selection-change=\"handleSelectionEnableChange\"\n        >\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n          <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n          <el-table-column prop=\"standardNo\" label=\"标准号\" min-width=\"100px\" align=\"center\" />\n          <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n          <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n          <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n          <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n          <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-row>\n    </el-card>\n    <el-card v-if=\"outFactorData && outFactorData.length > 0\" shadow=\"never\">\n      <el-card v-for=\"(item,index) in outFactorData\" :key=\"index\" style=\"margin-top:3px\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>分包机构:{{ item.judgeName }}<i class=\"el-input__icon\" /></span>\n          <el-button style=\"float: right; margin:4px 2px;\" type=\"primary\" plain size=\"mini\" @click=\"delJudge(item,index)\">删除</el-button>\n        </div>\n        <el-table\n          :data=\"item.facotrs\"\n          :header-cell-style=\"{background:'#ECF3FC'}\"\n          max-height=\"400px\"\n        >\n          <el-table-column type=\"index\" width=\"55\" label=\"序号\" align=\"center\" />\n          <el-table-column prop=\"secdClassName\" label=\"类别\" align=\"center\" />\n          <el-table-column prop=\"factorName\" label=\"因子\" align=\"center\" />\n          <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n          <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n          <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n          <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n          <el-table-column prop=\"totalCost\" label=\"检测费用\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ parseFloat(row.costPerTime * row.dayCount * row.dayCount).toFixed(2) }}\n            </template>\n          </el-table-column>\n\n        </el-table>\n\n      </el-card>\n    </el-card>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"approveVisible=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmDialog\">确认</el-button>\n    </div>\n  </el-dialog>\n\n</div>\n",null]}