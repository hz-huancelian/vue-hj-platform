{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\dashboard\\manager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\dashboard\\manager\\index.vue","mtime":1652774812000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PanelGroup from '../components/PanelGroup'\nimport LineChart from '../components/LineChart'\nimport TaskCard from '../components/TaskCard'\nimport TaskRegion from '../components/TaskRegion'\nimport SamllBoxChart from '../components/SamllBoxChart.vue'\n\nimport * as statisServer from '@/api/statistics'\n\n// 采集样品数据 - 根据一级归类\nconst lineChartData = {\n  title: '全部合同统计',\n  xNameData: ['水', '气', '土壤、底泥', '噪音', '固废', '污泥和生活垃圾'],\n  contactNum: [100, 120, 161, 134, 105, 160, 165],\n  contactMoney: [1, 200, 130, 154, 95, 30, 115]\n}\n// 任务完成数 - 公司整体- 只有一个\n\n// 任务完成数 - 公司整体- 只有一个\nconst perChartData = {\n  yNameData: ['业务部', '调度部', '采样部', '分析部', '样品部', '报告部'],\n  factorData: [15, 2, 12, 4, 22, 13]\n}\n\nconst pieChartData = [\n  {\n    'value': 80,\n    'name': '待签发'\n  },\n  {\n    'value': 20,\n    'name': '已签发'\n  }\n]\n\nconst demo = {\n  xNameData: ['报告总数', '报告签发'],\n  xValData: [100, 50]\n}\nconst demo_1 = {\n  xNameData: ['入职人员数', '离职员工数'],\n  xValData: [34, 150]\n}\n\nexport default {\n  components: {\n    PanelGroup,\n    LineChart,\n    TaskCard,\n    TaskRegion,\n    SamllBoxChart\n  },\n  data() {\n    return {\n      lineChartData: {},\n      pieChartData: {},\n      perChartData: [],\n      taskForm: {\n        total_num: 0, // 采样任务百分比 （完成/总数量）\n        total_name: '总任务',\n        completed_num: 0,\n        completed_name: '正在进行',\n        incompleted_num: 0,\n        incompleted_name: '已完成'\n      },\n      boxChartData: demo,\n      boxChartData_1: demo_1,\n      taskRadio: '0',\n      taskRegionRadio: '0',\n      regionData: [],\n      reportRadio: '0',\n      reportData: {},\n      staffRadio: '1',\n      staffData: {}\n    }\n  },\n  created() {\n    // this.findTasks()\n    // this.findRegionTask()\n    this.findContactList()\n    // this.findReportList()\n    this.findStaffTurnover()\n  },\n  methods: {\n    // 头部合同信息\n    findTasks() {\n      statisServer.findCompleteTask({ type: this.taskRadio }).then(res => {\n        if (res.code === 200) {\n          const taskForm = res.result.find(i => i.name === '报告编制任务')\n          this.taskForm.total_num = taskForm.totalCnt\n          this.taskForm.completed_num = Number(taskForm.totalCnt - taskForm.completeCnt).toFixed(0)\n          this.taskForm.incompleted_num = taskForm.completeCnt\n        }\n      })\n    },\n    findRegionTask() {\n      // 获取区域分布信息\n      statisServer.findTaskCity({ type: this.taskRegionRadio }).then(res => {\n        if (res.code === 200) {\n          this.regionData = res.result.map(i => {\n            return {\n              name: i.city,\n              value: i.taskNum\n            }\n          }) || []\n        }\n      })\n    },\n    findContactList() {\n      statisServer.findValidContractsForPass11Month().then(res => {\n        if (res.code === 200) {\n          this.lineChartData = res.result || []\n        }\n      })\n    },\n    findReportList() {\n      statisServer.findIssueReport({ type: this.reportRadio }).then(res => {\n        if (res.code === 200) {\n          this.reportData = res.result || {}\n        }\n      })\n    },\n    findStaffTurnover() {\n      statisServer.findStaffTurnover({ type: this.staffRadio }).then(res => {\n        if (res.code === 200) {\n          this.staffData = res.result || {}\n        }\n      })\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard/manager","sourcesContent":["<template>\n  <div class=\"dashboard-editor-container\">\n    <panel-group />\n\n    <el-row :gutter=\"20\" style=\"margin-bottom:32px;\">\n      <el-col :span=\"12\">\n        <el-card class=\"box-card-component\" shadow=\"never\" style=\"height: 330px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <el-row>\n              <el-col :span=\"20\">\n                <span>\n                  任务数\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"450\"\n                    trigger=\"hover\"\n                  >\n                    <p>总任务：当月/年首日至当前时间调度负责人所分配的任务数总计；</p>\n                    <p>正在进行：当前处于已调度至报告签发前状态的任务数总计；</p>\n                    <p>已完成：当月/年首日至当前时间完成报告签发的任务数总计。</p>\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n                </span>\n              </el-col>\n              <el-col :span=\"4\">\n                <el-radio-group v-model=\"taskRadio\" size=\"mini\" @change=\"findTasks\">\n                  <el-radio-button label=\"0\">月</el-radio-button>\n                  <el-radio-button label=\"1\">年</el-radio-button>\n                </el-radio-group>\n              </el-col>\n            </el-row>\n          </div>\n          <task-card :form=\"taskForm\" />\n        </el-card>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-card class=\"box-card-component\" shadow=\"never\" style=\"height: 330px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <el-row>\n              <el-col :span=\"20\">\n                <span>\n                  任务区域统计\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"450\"\n                    trigger=\"hover\"\n                  >\n                    <p>当月/年首日至当前时间的任务所在区域统计，以任务调度分配的地址（统计到市）为统计维度</p>\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n\n                </span>\n              </el-col>\n              <el-col :span=\"4\">\n                <el-radio-group v-model=\"taskRegionRadio\" size=\"mini\" @change=\"findRegionTask\">\n                  <el-radio-button label=\"0\">月</el-radio-button>\n                  <el-radio-button label=\"1\">年</el-radio-button>\n                </el-radio-group>\n              </el-col>\n            </el-row></div>\n          <task-region :pie-datas=\"regionData\" />\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-row style=\"background:#fff;padding:16px 16px 0;margin-bottom:32px;\">\n      <el-card class=\"box-card-component\" shadow=\"never\" style=\"height: 420px;\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>\n            全部合同统计\n            <el-popover\n              placement=\"top-start\"\n              title=\"\"\n              width=\"450\"\n              content=\"公司在过去12个月（含本月）里，签订的合同总数和合同总额统计\"\n              trigger=\"hover\"\n            >\n              <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n            </el-popover>\n          </span>\n        </div>\n        <line-chart :chart-data=\"lineChartData\" />\n      </el-card>\n\n    </el-row>\n\n    <el-row :gutter=\"20\" style=\"margin-bottom:32px;\">\n      <el-col :span=\"12\">\n        <el-card class=\"box-card-component\" shadow=\"never\" style=\"height: 330px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <el-row>\n              <el-col :span=\"20\">\n                <span>\n                  报告数\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"450\"\n                    trigger=\"hover\"\n                  >\n                    <p>报告总数：当月/年首日至当前时间所生成的报告总数（多次生成报告只计1次）；</p>\n                    <p>报告签发数：当月/年首日至当前时间所签发的报告总数（包含历史未签发但在统计时间内签发的报告）。</p>\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n                </span>\n              </el-col>\n              <el-col :span=\"4\">\n                <el-radio-group v-model=\"reportRadio\" size=\"mini\" @change=\"findReportList\">\n                  <el-radio-button label=\"0\">月</el-radio-button>\n                  <el-radio-button label=\"1\">年</el-radio-button>\n                </el-radio-group>\n              </el-col>\n            </el-row>\n          </div>\n          <samll-box-chart :chart-form=\"reportData\" box-name=\"report\" />\n        </el-card>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-card class=\"box-card-component\" shadow=\"never\" style=\"height: 330px;\">\n          <div slot=\"header\" class=\"clearfix\">\n            <el-row>\n              <el-col :span=\"20\">\n                <span>\n                  人员流动情况\n                  <el-popover\n                    placement=\"top-start\"\n                    title=\"\"\n                    width=\"450\"\n                    trigger=\"hover\"\n                  >\n                    <p>入职员工数：当月/年首日至当前时间平台新增员工人数统计；</p>\n                    <p>离职员工数：当月/年首日至当前时间平台注销员工人数统计。</p>\n                    <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                  </el-popover>\n                </span>\n              </el-col>\n              <el-col :span=\"4\">\n                <el-radio-group v-model=\"staffRadio\" size=\"mini\" @change=\"findStaffTurnover\">\n                  <el-radio-button label=\"0\">月</el-radio-button>\n                  <el-radio-button label=\"1\">年</el-radio-button>\n                </el-radio-group>\n              </el-col>\n            </el-row>\n\n          </div>\n          <samll-box-chart :chart-form=\"staffData\" box-name=\"people\" />\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport PanelGroup from '../components/PanelGroup'\nimport LineChart from '../components/LineChart'\nimport TaskCard from '../components/TaskCard'\nimport TaskRegion from '../components/TaskRegion'\nimport SamllBoxChart from '../components/SamllBoxChart.vue'\n\nimport * as statisServer from '@/api/statistics'\n\n// 采集样品数据 - 根据一级归类\nconst lineChartData = {\n  title: '全部合同统计',\n  xNameData: ['水', '气', '土壤、底泥', '噪音', '固废', '污泥和生活垃圾'],\n  contactNum: [100, 120, 161, 134, 105, 160, 165],\n  contactMoney: [1, 200, 130, 154, 95, 30, 115]\n}\n// 任务完成数 - 公司整体- 只有一个\n\n// 任务完成数 - 公司整体- 只有一个\nconst perChartData = {\n  yNameData: ['业务部', '调度部', '采样部', '分析部', '样品部', '报告部'],\n  factorData: [15, 2, 12, 4, 22, 13]\n}\n\nconst pieChartData = [\n  {\n    'value': 80,\n    'name': '待签发'\n  },\n  {\n    'value': 20,\n    'name': '已签发'\n  }\n]\n\nconst demo = {\n  xNameData: ['报告总数', '报告签发'],\n  xValData: [100, 50]\n}\nconst demo_1 = {\n  xNameData: ['入职人员数', '离职员工数'],\n  xValData: [34, 150]\n}\n\nexport default {\n  components: {\n    PanelGroup,\n    LineChart,\n    TaskCard,\n    TaskRegion,\n    SamllBoxChart\n  },\n  data() {\n    return {\n      lineChartData: {},\n      pieChartData: {},\n      perChartData: [],\n      taskForm: {\n        total_num: 0, // 采样任务百分比 （完成/总数量）\n        total_name: '总任务',\n        completed_num: 0,\n        completed_name: '正在进行',\n        incompleted_num: 0,\n        incompleted_name: '已完成'\n      },\n      boxChartData: demo,\n      boxChartData_1: demo_1,\n      taskRadio: '0',\n      taskRegionRadio: '0',\n      regionData: [],\n      reportRadio: '0',\n      reportData: {},\n      staffRadio: '1',\n      staffData: {}\n    }\n  },\n  created() {\n    // this.findTasks()\n    // this.findRegionTask()\n    this.findContactList()\n    // this.findReportList()\n    this.findStaffTurnover()\n  },\n  methods: {\n    // 头部合同信息\n    findTasks() {\n      statisServer.findCompleteTask({ type: this.taskRadio }).then(res => {\n        if (res.code === 200) {\n          const taskForm = res.result.find(i => i.name === '报告编制任务')\n          this.taskForm.total_num = taskForm.totalCnt\n          this.taskForm.completed_num = Number(taskForm.totalCnt - taskForm.completeCnt).toFixed(0)\n          this.taskForm.incompleted_num = taskForm.completeCnt\n        }\n      })\n    },\n    findRegionTask() {\n      // 获取区域分布信息\n      statisServer.findTaskCity({ type: this.taskRegionRadio }).then(res => {\n        if (res.code === 200) {\n          this.regionData = res.result.map(i => {\n            return {\n              name: i.city,\n              value: i.taskNum\n            }\n          }) || []\n        }\n      })\n    },\n    findContactList() {\n      statisServer.findValidContractsForPass11Month().then(res => {\n        if (res.code === 200) {\n          this.lineChartData = res.result || []\n        }\n      })\n    },\n    findReportList() {\n      statisServer.findIssueReport({ type: this.reportRadio }).then(res => {\n        if (res.code === 200) {\n          this.reportData = res.result || {}\n        }\n      })\n    },\n    findStaffTurnover() {\n      statisServer.findStaffTurnover({ type: this.staffRadio }).then(res => {\n        if (res.code === 200) {\n          this.staffData = res.result || {}\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .clearfix {\n    line-height: 50px;\n    padding-left: 15px;\n  }\n\n.dashboard-editor-container {\n  padding: 32px;\n  background-color: rgb(240, 242, 245);\n  position: relative;\n\n  .box-card-component {\n    .box-card-header {\n      position: relative;\n      img {\n        width: 100%;\n        height: 100%;\n        transition: all 0.2s linear;\n        &:hover {\n          transform: scale(1.1, 1.1);\n          filter: contrast(130%);\n        }\n      }\n    }\n    .mallki-text {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    font-size: 20px;\n    font-weight: bold;\n  }\n  .panThumb {\n    z-index: 100;\n    height: 70px!important;\n    width: 70px!important;\n    position: absolute!important;\n    top: -45px;\n    left: 0px;\n    border: 5px solid #ffffff;\n    background-color: #fff;\n    margin: auto;\n    box-shadow: none!important;\n    ::v-deep .pan-info {\n      box-shadow: none!important;\n    }\n  }\n  .progress-item {\n    margin-bottom: 35px;\n    font-size: 14px;\n  }\n  @media only screen and (max-width: 1510px){\n    .mallki-text{\n      display: none;\n    }\n  }\n  }\n  .github-corner {\n    position: absolute;\n    top: 0px;\n    border: 0;\n    right: 0;\n  }\n\n  .chart-wrapper {\n    background: #fff;\n    padding: 0;\n    margin-bottom: 32px;\n  }\n  .chart-wrapper-bot {\n    background: #fff;\n    padding: 0;\n    margin-bottom: 32px;\n  }\n}\n\n@media (max-width:1024px) {\n  .chart-wrapper {\n    padding: 8px;\n  }\n}\n</style>\n"]}]}