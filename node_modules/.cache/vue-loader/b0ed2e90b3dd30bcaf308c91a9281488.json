{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\laboratory\\components\\hisLaborList.vue?vue&type=template&id=00617c93&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\laboratory\\components\\hisLaborList.vue","mtime":1653473990000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-continer\">\n  <el-form :model=\"searchForm\" :inline=\"true\">\n    <el-row>\n      <el-col :span=\"20\">\n        <el-form-item>\n          <el-input v-model=\"searchForm.sampleNo\" style=\"width:165px\" placeholder=\"样品编号\" />\n        </el-form-item>\n        <el-form-item>\n          <el-input v-model=\"searchForm.factorName\" style=\"width:165px\" placeholder=\"因子名称\" />\n        </el-form-item>\n        <el-form-item>\n          <el-select\n            v-model=\"searchForm.checkStatus\"\n            clearable\n            filterable\n            style=\"width:165px\"\n            placeholder=\"检测状态\"\n          >\n            <el-option label=\"已录入\" value=\"3\" />\n            <el-option label=\"待审核\" value=\"4\" />\n            <el-option label=\"审核通过\" value=\"5\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n          <el-button type=\"primary\" class=\"iconfont icon-fanhui\" @click=\"goBack\"> 返回</el-button>\n\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"4\" class=\"search-right\">\n        <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n      </el-col>\n    </el-row>\n  </el-form>\n  <el-table\n    :data=\"checkData\"\n    stripe\n    border\n    highlight-current-row\n    :header-cell-style=\"{background:'#ECF3FC'}\"\n    style=\"width: 100%\"\n  >\n    <template slot=\"empty\">\n      <div class=\"table_empty\">\n        <div class=\"empty_tips\">\n          <span>\n            暂无信息\n          </span>\n        </div>\n      </div>\n    </template>\n    <el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\" />\n    <el-table-column prop=\"factorName\" label=\"检测因子\" width=\"130px\" align=\"center\" />\n    <el-table-column prop=\"sampleNo\" label=\"样品编号\" width=\"160px\" align=\"center\" />\n    <el-table-column prop=\"factorPoint\" label=\"采样点位\" width=\"110px\" align=\"center\" />\n    <el-table-column prop=\"dayAndCount\" label=\"频次(次/天)\" width=\"120px\" align=\"center\" />\n    <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"220px\" align=\"center\" />\n    <el-table-column prop=\"checkRes\" label=\"检测结果\" min-width=\"150px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <template v-if=\"row.checkRes && row.checkRes.length >0\">\n          {{ row.masterRes }}<template v-if=\"row.exponRes!==''&&row.exponRes!==0\">×10<sup>{{ row.exponRes }}</sup></template>\n          {{ row.unitName && row.unitName!=='无量纲'?' ' + row.unitName:'' }}\n        </template>\n        <template v-else />\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"assignUser\" label=\"分析员\" align=\"center\" />\n    <el-table-column prop=\"collectTime\" label=\"采样时间\" width=\"160\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <template v-if=\"row.collectTime || row.collectDate\">\n          {{ row.collectTime && row.collectTime!=''?((row.collectDate?(row.collectDate + ' '):'')+row.collectTime):row.collectDate }}\n        </template>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"storeTime\" label=\"入库时间\" width=\"160\" align=\"center\" />\n    <!-- <el-table-column prop=\"endDate\" label=\"任务截止时间\" width=\"120px\" align=\"center\" /> -->\n    <el-table-column prop=\"dataEntryStep\" label=\"样品归类\" width=\"120\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <el-tag :type=\"row.sampleType ==='1'?'danger':''\">\n          {{ row.sampleType ==='1'?\"样品分包\":\"样品自检\" }}\n        </el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"checkStatus\" label=\"检测状态\" width=\"120px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <el-tag :type=\"row.checkStatus|statusQualityFilter\">\n          {{ CHECK_STATUS[row.checkStatus] }}\n        </el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"dataEntryStep\" label=\"数据操作\" width=\"120\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <el-tag :type=\"row.dataEntryStep ==='1'?'danger':''\">\n          {{ row.dataEntryStep ==='1'?\"采样录入\":\"检测录入\" }}\n        </el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\" fixed=\"right\" width=\"240px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <el-button type=\"text\" @click=\"handleDetail(row)\">查看</el-button>\n        <div class=\"erc-divider-vertical\" />\n        <el-button type=\"text\" @click=\"handleLocalDetail(row)\">采样记录</el-button>\n        <div v-if=\"row.assignUserId === userId && (row.checkStatus==='2' || row.checkStatus==='3' || row.checkStatus==='6')\" class=\"erc-divider-vertical\" />\n        <el-button v-if=\"row.assignUserId === userId && (row.checkStatus==='2' ||row.checkStatus==='3' ||row.checkStatus==='6')\" type=\"text\" @click=\"handleSetResult(row)\">结果编辑</el-button>\n        <div v-if=\"row.assignUserId === userId && row.checkStatus==='3'\" class=\"erc-divider-vertical\" />\n        <el-button v-if=\"row.assignUserId === userId && row.checkStatus==='3' \" type=\"text\" @click=\"handleApprove(row.checkFactorId)\">提交审核</el-button>\n\n      </template>\n    </el-table-column>\n  </el-table>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <el-dialog title=\"样品详情\" :visible.sync=\"detailVisible\" width=\"70%\" center top=\"5vh\">\n    <div style=\"width: 700px;margin:0 auto;\">\n      <el-form label-width=\"100px\" label-position=\"left\">\n        <el-form-item label=\"样品编号:\">{{ sampleForm.sampleNo }}</el-form-item>\n        <el-form-item label=\"检测因子:\">{{ sampleForm.factorName }}</el-form-item>\n        <el-form-item label=\"检测标准:\">{{ sampleForm.standardName }}</el-form-item>\n        <el-form-item label=\"因子备注:\">{{ sampleForm.factorRemark }}</el-form-item>\n        <el-form-item label=\"检测备注:\">{{ sampleForm.remark }}</el-form-item>\n        <el-form-item label=\"检测结果:\">\n          <template v-if=\"sampleForm.factorSubsetVos && sampleForm.factorSubsetVos.length >0\">\n            <el-table\n              :data=\"sampleForm.factorSubsetVos\"\n              border\n              style=\"width:100%;\"\n              :header-cell-style=\"{background:'#ECF3FC'}\"\n            >\n              <el-table-column prop=\"factorName\" label=\"套餐因子\" align=\"center\" />\n              <el-table-column prop=\"name\" label=\"检测结果\" align=\"center\">\n                <template slot-scope=\"{row}\">\n                  {{ row.factorInfo&&row.factorInfo.v1?row.factorInfo.v1:0 }}\n                  <template v-if=\"row.factorInfo&&row.factorInfo.v2!==''&&row.factorInfo.v2!==0\">\n                    ×10<sup>{{ row.factorInfo.v2?Number(row.factorInfo.v2):0 }}</sup>\n                  </template>\n                  {{ row.unitName && row.unitName!=='无量纲'?' ' + row.unitName:'' }}\n                </template>\n              </el-table-column>\n            </el-table>\n          </template>\n          <template v-else-if=\"sampleForm.checkRes && sampleForm.checkRes.length > 0\">\n            {{ sampleForm.factorInfo&&sampleForm.factorInfo.v1?sampleForm.factorInfo.v1:0 }}\n            <template v-if=\"sampleForm.factorInfo&&sampleForm.factorInfo.v2!==''&&sampleForm.factorInfo.v2!==0\">\n              ×10<sup>{{ sampleForm.factorInfo.v2?Number(sampleForm.factorInfo.v2):0 }}</sup>\n            </template>\n            {{ sampleForm.unitName && sampleForm.unitName!=='无量纲'?' ' + sampleForm.unitName:'' }}\n          </template>\n          <template v-else>暂无检测结果</template>\n        </el-form-item>\n      </el-form>\n\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"detailVisible = false\">关 闭</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog :title=\"currentSample + '-详情'\" :visible.sync=\"sampleVisible\" width=\"85%\" center top=\"5vh\">\n    <el-form :model=\"sampleDetailForm\" label-width=\"180px\" label-position=\"right\">\n      <el-card style=\"margin-top: 5px;padding-bottom: 20px;\">\n        <div slot=\"header\" class=\"clearfix\">\n          <div style=\"width: 3px;margin:auto 3px; height: 20px;background-color:steelblue;\" />\n          <span>基础信息</span>\n        </div>\n        <el-col :span=\"16\" style=\"height:32px;\">\n          <el-form-item label-width=\"100\" label=\"检测因子:\">\n            <span class=\"showTile\">{{ sampleDetailForm.factorName }}</span>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\" style=\"height:32px;\">\n          <el-form-item label-width=\"100\" label=\"点位:\">\n            <span class=\"showTile\">{{ sampleDetailForm.factorPoint }}</span>\n          </el-form-item>\n        </el-col>\n        <!--动态二级类别信息-->\n      </el-card>\n      <el-card v-for=\"item in sampleSecInfo\" :key=\"item.groupKey\" style=\"margin-top: 5px;padding-bottom: 20px;\">\n        <div v-if=\"item.groupName && item.groupName != ''\" slot=\"header\" class=\"clearfix\">\n          <div style=\"width: 3px;margin:auto 3px; height: 20px;background-color:steelblue;\" />\n          <span>{{ item.groupName }}</span>\n        </div>\n        <el-col v-for=\"(sitem,index) in item.params\" :key=\"index\" :span=\"8\" style=\"height:32px;\">\n          <el-form-item label-width=\"100\">\n            <span slot=\"label\">{{ sitem.name }}:</span>\n            <span class=\"showTile\">{{ sitem.value?sitem.value.toString():'' }}</span>\n          </el-form-item>\n        </el-col>\n      </el-card>\n\n      <el-card v-if=\"sampleDataInfo && sampleDataInfo.length > 0\" style=\"margin-top: 5px\">\n        <div slot=\"header\" class=\"clearfix\">\n          <div style=\"width: 3px;margin:auto 3px; height: 20px;background-color:steelblue;\" />\n          <span>现场检测因子信息</span>\n        </div>\n        <el-table :data=\"sampleDataInfo\" stripe>\n          <el-table-column prop=\"factorName\" label=\"检测因子项目\" />\n          <el-table-column label=\"因子结果集\">\n            <template slot-scope=\"{row}\">\n              <template v-if=\"row.measuredForm\">\n                {{ '第一值: ' +row.measuredForm.firstVal + ' 第二值: ' + row.measuredForm.secondVal + \" 均值: \" + row.measuredForm.avgVal }}\n              </template>\n              <template v-else>\n                {{ row.factorData?row.factorData:'' }}\n              </template>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"checkEquipment\" label=\"检测设备\">\n            <template slot-scope=\"{row}\">\n              {{ row.checkEquipment&&row.checkEquipment.length>0?row.checkEquipment.replaceAll('^_^',' '):'' }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"theoreticalVal\" label=\"理论值\" />\n          <el-table-column prop=\"groundConditions\" label=\"测定值\" />\n        </el-table>\n      </el-card>\n\n      <el-card style=\"margin-top: 5px\">\n        <div slot=\"header\" class=\"clearfix\">\n          <div style=\"width: 3px;margin:auto 3px; height: 20px;background-color:steelblue;\" />\n          <span>现场信息</span>\n        </div>\n        <el-col :span=\"12\">\n          <el-form-item label-width=\"100\" label=\"采样地址:\">\n            <span class=\"showTile\">{{ sampleDetailForm.sampleDataVo.collectLocation }}</span>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label-width=\"100\" label=\"采样日期:\">\n            <span class=\"showTile\">{{ sampleDetailForm.sampleDataVo.collectDate }}</span>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item label-width=\"100\" label=\"现场图片:\">\n            <div v-if=\"sampleImageList && sampleImageList.length > 0\" class=\"demo-image__lazy\">\n              <el-image v-for=\"(url, index) in sampleImageList\" :key=\"index\" :src=\"url\" :preview-src-list=\"sampleImageList\" style=\"width: 100px; height: 100px;margin-left: 10px;\" />\n            </div>\n          </el-form-item>\n        </el-col>\n      </el-card>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"sampleVisible=false\">关 闭</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog title=\"样品结果录入\" :visible.sync=\"testResultVisible\" width=\"70%\" center top=\"5vh\">\n    <div style=\"width: 700px;margin:0 auto;\">\n      <el-form label-width=\"100px\" label-position=\"left\">\n        <el-form-item label=\"样品编号:\">{{ testResultForm.sampleNo }}</el-form-item>\n        <el-form-item label=\"检测因子:\">{{ testResultForm.factorName }}</el-form-item>\n        <el-form-item label=\"检测标准:\">{{ testResultForm.standardName }}</el-form-item>\n        <el-form-item>\n          <span slot=\"label\">\n            备注信息\n            <el-popover\n              placement=\"top-start\"\n              title=\"\"\n              width=\"300\"\n              trigger=\"hover\"\n              content=\"新建报价单时业务员录入的针对检测因子的备注信息\"\n            >\n              <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n            </el-popover>\n            :\n          </span>\n          {{ testResultForm.factorRemark }}\n        </el-form-item>\n        <el-form-item label=\"检测结果:\">\n          <el-row v-for=\"(item, index) in subFactorData\" :key=\"index\">\n            <el-col :span=\"4\" style=\"text-align: right;padding-bottom: 5px;\">\n              {{ item.name }}:\n            </el-col>\n            <el-col :span=\"9\" style=\"margin-left:10px;padding-bottom: 5px;\">\n              <el-input v-model=\"item.masterRes\" type=\"Number\" controls-position=\"right\" :min=\"0\" placeholder=\"结果值\">\n                <template slot=\"append\">E</template>\n              </el-input>\n            </el-col>\n            <el-col :span=\"9\" style=\"margin-left:10px;padding-bottom: 5px;\">\n              <el-input v-model=\"item.subRes\" type=\"Number\" controls-position=\"right\" :min=\"0\" placeholder=\"幂数\">\n                <template v-if=\"item.unitName\" slot=\"append\">{{ item.unitName }}</template>\n              </el-input>\n            </el-col>\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"24\" style=\"height:24px;font-size:14px;\">\n              <span style=\"color:red\">例:3.45E2=3.45×10²  ;  234E0=234 ; 1.62E-3=1.62×10⁻³</span>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\" style=\"height:24px;font-size:14px;\">\n              <span style=\"color:red\">无子因子的：输入0代表未检出</span>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\" style=\"height:24px;font-size:14px;\">\n              <span style=\"color:red\">有子因子的：输入0代表未检出，不填代表未检查此项</span>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item>\n          <span slot=\"label\">\n            备注\n            <el-popover\n              placement=\"top-start\"\n              title=\"\"\n              width=\"300\"\n              trigger=\"hover\"\n              content=\"分析员录入结果时录入的备注信息，可流转到实验室负责人和报告部门\"\n            >\n              <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n            </el-popover>\n            :\n          </span>\n          <el-input v-model=\"testResultForm.remark\" type=\"textarea\" maxlength=\"50\" show-word-limit placeholder=\"备注信息\" :rows=\"3\" />\n        </el-form-item>\n        <el-form-item label=\"检测设备:\">\n          <el-row>\n            <el-col :span=\"8\">\n              <el-select v-model=\"equipmentType\" placeholder=\"设备分类\" style=\"width: 170px;\" @change=\"handleChangeEqu\">\n                <el-option\n                  v-for=\"(item,index) in level\"\n                  :key=\"index\"\n                  :label=\"item.name\"\n                  :value=\"item.name\"\n                />\n              </el-select>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-select v-model=\"equipmentClass\" clearable placeholder=\"请选择设备型号\" style=\"width: 170px;\" @change=\"handleChangeEquType\">\n                <el-option\n                  v-for=\"(item,index) in levelTwo\"\n                  :key=\"index\"\n                  :label=\"item.name\"\n                  :value=\"item.name\"\n                />\n              </el-select>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-select v-model=\"equipmentId\" clearable placeholder=\"请选择设备编号\" style=\"width: 170px;\">\n                <el-option\n                  v-for=\"item in levelThree\"\n                  :key=\"item.id\"\n                  :label=\"item.equipmentNumber\"\n                  :value=\"item.id\"\n                />\n              </el-select>\n\n            </el-col>\n          </el-row>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"testResultVisible = false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirmChecks\">保存</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}