{"remainingRequest":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderReportTask.vue?vue&type=template&id=46bf6a52&scoped=true&","dependencies":[{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\src\\views\\task\\orderReportTask.vue","mtime":1653355517000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjectsJiu\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <el-row>\n    <el-col :span=\"20\">\n      <el-form :model=\"searchForm\" inline>\n        <el-form-item label=\"合同编号:\">\n          <el-input v-model=\"searchForm.contCode\" style=\"width:180px\" placeholder=\"合同编号\" />\n        </el-form-item>\n        <el-form-item label=\"项目名称:\">\n          <el-input v-model=\"searchForm.projectName\" style=\"width:180px\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"iconfont icon-chaxun1\" @click=\"handleSearch\"> 查询</el-button>\n        </el-form-item>\n      </el-form>\n    </el-col>\n    <el-col :span=\"4\" class=\"search-right\">\n      <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleSearch\">刷新</el-button>\n    </el-col>\n  </el-row>\n\n  <el-table\n    :data=\"taskData\"\n    stripe\n    border\n    highlight-current-row\n    :header-cell-style=\"{background:'#ECF3FC'}\"\n  >\n    <template slot=\"empty\">\n      <div class=\"table_empty\">\n        <div class=\"empty_tips\">\n          <span>\n            暂无任务信息\n          </span>\n        </div>\n      </div>\n    </template>\n    <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n    <el-table-column prop=\"contCode\" label=\"合同编号\" width=\"185px\" align=\"center\" />\n    <el-table-column prop=\"projectName\" label=\"项目名称\" min-width=\"120px\" align=\"center\" />\n    <el-table-column prop=\"consignorName\" label=\"委托单位\" align=\"center\" />\n    <el-table-column prop=\"latestScheduleDate\" label=\"上次调度日期\" align=\"center\" />\n    <el-table-column prop=\"finishProgress\" label=\"计划调度完成进度\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        {{ row.scheduledPlanNum }}/{{ row.planNum }}\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\" align=\"center\" width=\"160px\">\n      <template slot-scope=\"{row}\">\n        <el-button type=\"text\" @click=\"handleDetail(row)\"> 查看任务</el-button>\n        <div class=\"erc-divider-vertical\" />\n        <el-button v-if=\"row.scheduleFlag==='0'\" type=\"text\" @click=\"handleScheduler(row)\"> 调度新增</el-button>\n        <el-button v-if=\"row.scheduleFlag==='1'\" type=\"text\" @click=\"handleUpdateScheduler(row)\"> 调度编辑</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n  <div style=\"float: right\">\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"searchForm.pageNumber\"\n      :limit.sync=\"searchForm.pageSize\"\n      @pagination=\"handleSearch\"\n    />\n  </div>\n\n  <!-- <el-dialog :title=\"taskTitle + ' 任务详情'\" :visible.sync=\"taskVisible\" center width=\"70%\">\n    <el-row>\n      <el-col :span=\"12\">\n        <span>合同编号: {{ taskForm.contCode }}</span>\n      </el-col>\n      <el-col :span=\"12\">\n        <span>报价单号: {{ taskForm.offerId }}</span>\n      </el-col>\n    </el-row>\n    <table class=\"info-table-new\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n      <tr>\n        <td style=\"background: #f5f5f5;\">项目名称:</td>\n        <td>{{ taskForm.projectName }}</td>\n        <td style=\"background: #f5f5f5;\">委托单位:</td>\n        <td>{{ taskForm.consignorName }}</td>\n      </tr>\n      <tr>\n        <td style=\"background: #f5f5f5;\">委托联系人:</td>\n        <td>{{ taskForm.consignorLinker }} </td>\n        <td style=\"background: #f5f5f5;\">委托联系人方式:</td>\n        <td>{{ taskForm.consignorLinkerPhone }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"4\" style=\"text-align: left;padding-left:15px;\">\n          检测内容:\n        </td>\n      </tr>\n      <tr>\n        <td colspan=\"4\" style=\"text-align: left;padding-left:15px;\">\n          <el-row v-for=\"(item, index) in factorData\" :key=\"index\">\n            <el-col :span=\"24\" style=\"font-weight: bolder\">{{ item.secdClassName + ':' }}</el-col>\n            <el-col v-for=\"el in item.factList\" :key=\"el.id\" :span=\"24\">\n              {{ el.factorPoint + '（'+ el.dayCount +'*'+ el.frequency+'）: ' }}{{ el.showFactName }} <span v-if=\"el.fbFlag==='1'\" style=\"color: red;\"> (分包)</span>\n            </el-col>\n          </el-row>\n        </td>\n      </tr>\n    </table>\n\n  </el-dialog> -->\n\n  <el-dialog title=\"任务分配\" :visible.sync=\"taskSedVisible\" width=\"80%\" center top=\"5vh\">\n    <el-form ref=\"offerDisForm\" :model=\"offerDisForm\" :rules=\"OfferDisRules\" label-width=\"130px\">\n      <el-card shadow=\"never\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span slot=\"label\">\n            任务基础信息<i class=\"el-input__icon \" />\n          </span>\n        </div>\n        <el-row :gutter=\"10\">\n          <el-col :span=\"8\">\n            <el-form-item label=\"合同编号:\">\n              <el-input v-model=\"currentRow.contCode\" disabled />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"16\">\n            <el-form-item label=\"项目名称:\">\n              <el-input v-model=\"currentRow.projectName\" disabled />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"10\">\n          <el-col :span=\"8\">\n            <el-form-item label=\"委托单位:\">\n              <el-input v-model=\"offerDisForm.consignorName\" disabled />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"consignorLinker\" label=\"委托联系人:\">\n              <el-input v-model=\"offerDisForm.consignorLinker\" placeholder=\"委托联系人\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"consignorLinkerPhone\" label=\"委托联系人电话:\">\n              <el-input v-model=\"offerDisForm.consignorLinkerPhone\" placeholder=\"委托联系人电话\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"10\">\n          <el-col :span=\"8\">\n            <el-form-item prop=\"inspectionName\" label=\"受检单位:\">\n              <el-input v-model=\"offerDisForm.inspectionName\" placeholder=\"受检单位\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"inspectionLinker\" label=\"受检联系人:\">\n              <el-input v-model=\"offerDisForm.inspectionLinker\" placeholder=\"受检联系人\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"inspectionLinkerPhone\" label=\"受检联系人电话:\">\n              <el-input v-model=\"offerDisForm.inspectionLinkerPhone\" placeholder=\"受检联系人电话\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"14\">\n            <el-form-item prop=\"projectAddress\" label=\"项目地址:\">\n              <div style=\"width: 100%;\">\n\n                <el-select v-model=\"offerDisForm.province\" placeholder=\"请选择省\" style=\"width: 33%;\" @change=\"getSubRegionByRegionCode('cityArray',$event)\">\n                  <el-option\n                    v-for=\"item in provinceArray\"\n                    :key=\"item.regionCode\"\n                    :label=\"item.regionName\"\n                    :value=\"item.regionCode\"\n                  />\n                </el-select>\n                <el-select v-model=\"offerDisForm.city\" placeholder=\"请选择市\" style=\"width: 33%;\" @change=\"getSubRegionByRegionCode('areaArray',$event)\">\n                  <el-option\n                    v-for=\"item in cityArray\"\n                    :key=\"item.regionCode\"\n                    :label=\"item.regionName\"\n                    :value=\"item.regionCode\"\n                  />\n                </el-select>\n                <el-select v-model=\"offerDisForm.county\" style=\"width: 33%;\" placeholder=\"请选择区\">\n                  <el-option\n                    v-for=\"item in areaArray\"\n                    :key=\"item.regionCode\"\n                    :label=\"item.regionName\"\n                    :value=\"item.regionCode\"\n                  />\n                </el-select>\n              </div>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"10\">\n            <el-input v-model=\"offerDisForm.projectAddress\" placeholder=\"请录入详细地址\" style=\"width: 100%;\" />\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"10\">\n          <el-col :span=\"8\">\n            <el-form-item prop=\"startDate\">\n              <span slot=\"label\">\n                开始日期\n                <el-popover\n                  placement=\"top-start\"\n                  title=\"\"\n                  width=\"300\"\n                  trigger=\"hover\"\n                  content=\"以预估的采样开始日期计，系统不做强制日期限制，仅做任务进度提示\"\n                >\n                  <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                </el-popover>\n                :\n              </span>\n              <el-date-picker\n                v-model=\"offerDisForm.startDate\"\n                type=\"date\"\n                value-format=\"yyyy-MM-dd\"\n                placeholder=\"开始日期\"\n                style=\"width: 100%;\"\n              />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"endDate\">\n              <span slot=\"label\">\n                结束日期\n                <el-popover\n                  placement=\"top-start\"\n                  title=\"\"\n                  width=\"300\"\n                  trigger=\"hover\"\n                  content=\"以预估的检测报告签发日期计，系统不做强制日期限制，仅做任务进度提示\"\n                >\n                  <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                </el-popover>\n                :\n              </span>\n              <el-date-picker\n                v-model=\"offerDisForm.endDate\"\n                type=\"date\"\n                value-format=\"yyyy-MM-dd\"\n                placeholder=\"结束日期\"\n                style=\"width: 100%;\"\n              />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"checkGoal\">\n              <span slot=\"label\">\n                检测目的\n                <el-popover\n                  placement=\"top-start\"\n                  title=\"\"\n                  width=\"300\"\n                  trigger=\"hover\"\n                  content=\"检测目的的内容会在最终的检测报告中展示\"\n                >\n                  <svg-icon slot=\"reference\" icon-class=\"help\" style=\"font-size:16px\" />\n                </el-popover>\n                :\n              </span>\n              <el-input v-model=\"offerDisForm.checkGoal\" placeholder=\"检测目的\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"备注:\">\n              <el-input v-model=\"offerDisForm.jobRemark\" placeholder=\"备注\" style=\"width: 100%;\" />\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-card>\n      <el-card title=\"\" shadow=\"never\" style=\"margin-top:10px\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span slot=\"label\">\n            选择待调度计划<i class=\"el-input__icon \" />\n          </span>\n        </div>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"planTaskData\"\n          stripe\n          highlight-current-row\n          :header-cell-style=\"{background:'#ECF3FC'}\"\n          border\n          @selection-change=\"handleSelectionChange\"\n        >\n          <el-table-column type=\"selection\" width=\"50\" :selectable=\"checkSelectable\" align=\"center\" />\n          <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n          <el-table-column prop=\"planName\" label=\"计划名称\" align=\"center\" />\n          <el-table-column prop=\"checkFreq\" label=\"监测频次\" align=\"center\" />\n          <el-table-column prop=\"checkFactorCnt\" label=\"检测因子数\" align=\"center\" />\n          <el-table-column label=\"调度进度\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ row.scheduledTimes }}/{{ row.scheduleTimes }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"lastScheduleDate\" label=\"上次调度日期\" align=\"center\" />\n          <el-table-column label=\"计划调度完成进度\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              {{ row.finishTimes }}/{{ row.scheduleTimes }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"{row}\">\n              <el-button type=\"text\" @click=\"checkPlanDetail(row)\">查看</el-button>\n            </template>\n          </el-table-column>\n\n        </el-table>\n      </el-card>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button style=\"width: 90px;\" @click=\"taskSedVisible=false\">取消</el-button>\n      <el-button type=\"primary\" style=\"width: 90px;\" :disabled=\"multipleSelection.length === 0\" @click=\"handlePreStep\">下一步</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog append-to-body title=\"检测因子\" :visible.sync=\"planFactorVisible\" width=\"70%\">\n    <el-table :data=\"planFactorDetails\" border stripe height=\"450\">\n      <el-table-column type=\"index\" width=\"50\" align=\"center\" />\n      <el-table-column prop=\"secdClassName\" label=\"检测类别\" width=\"100px\" align=\"center\" />\n      <el-table-column prop=\"factorName\" label=\"检测因子\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.factorName }}{{ row.meanName&&row.meanName.length > 0?'('+ row.meanName +')':'' }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"standardName\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n      <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n      <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n      <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n      <el-table-column label=\"次数\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ Number(row.dayCount * row.frequency) }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"是否分包\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          {{ row.fbFlag==='1'?\"Y\":\"N\" }}\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-dialog>\n\n  <el-dialog :visible.sync=\"taskFacotyVisible\" center append-to-body fullscreen>\n    <el-card shadow=\"never\">\n\n      <div slot=\"header\" class=\"clearfix\">\n        <span>任务检测因子<i class=\"el-input__icon\" /></span>\n        <el-button style=\"float: right; margin:4px 2px;\" type=\"primary\" plain size=\"mini\" @click=\"addFactor\">添加因子</el-button>\n      </div>\n      <el-table :data=\"offerDisForm.factorTdos\" border stripe>\n        <el-table-column type=\"index\" width=\"50\" align=\"center\" />\n        <el-table-column prop=\"secdClassName\" label=\"检测类别\" width=\"100px\" align=\"center\" />\n        <el-table-column prop=\"factorName\" label=\"检测因子\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.factorName }}{{ row.meanName&&row.meanName.length > 0?'('+ row.meanName +')':'' }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"standardNo\" label=\"检测标准\" min-width=\"130px\" align=\"center\" />\n        <el-table-column prop=\"factorPoint\" label=\"检测位置\" align=\"center\" />\n        <el-table-column prop=\"frequency\" label=\"频次(次/天)\" align=\"center\" />\n        <el-table-column prop=\"dayCount\" label=\"天数\" align=\"center\" />\n        <el-table-column label=\"次数\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ Number(row.dayCount * row.frequency) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否分包\" align=\"center\">\n          <template slot-scope=\"{row}\">\n            {{ row.fbFlag==='1'?\"Y\":\"N\" }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"factorRemark\" label=\"因子备注\" :show-overflow-tooltip=\"true\" align=\"center\" />\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"{$index}\">\n            <el-button type=\"text\" @click=\"delFactor($index)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"warning\" style=\"width: 90px;\" @click=\"handleNavStep\">上一步</el-button>\n      <el-button type=\"\" style=\"width: 90px;\" @click=\"taskFacotyVisible = false\">取 消</el-button>\n      <el-button type=\"info\" style=\"width: 90px;\" @click=\"handlePlanSave\">保 存</el-button>\n      <el-button type=\"primary\" style=\"width: 90px;\" @click=\"handlePlanConfirm\">确 认</el-button>\n    </div>\n  </el-dialog>\n\n  <el-dialog :visible.sync=\"factorVisible\" append-to-body width=\"85%\" :close-on-click-modal=\"false\" top=\"5vh\">\n    <factor-chose-list :clear-type=\"cleanAttr\" @handleCancel=\"getTabStatus\" @handleConfim=\"getResultForAdd\" />\n    <!-- <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"factorVisible=false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"confirmChoseFactor\">确 认</el-button>\n    </div> -->\n  </el-dialog>\n\n</div>\n",null]}