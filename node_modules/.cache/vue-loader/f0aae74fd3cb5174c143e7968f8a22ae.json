{"remainingRequest":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\webstormProjects\\vue-hj-platform\\src\\views\\system\\compone.vue?vue&type=style&index=0&id=5bcb9b9e&scoped=true&lang=css&","dependencies":[{"path":"F:\\webstormProjects\\vue-hj-platform\\src\\views\\system\\compone.vue","mtime":1637214064000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\webstormProjects\\vue-hj-platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep .el-card .el-card__header {\n  padding: 15px 20px;\n  background: #F3F2F2;\n}\n",{"version":3,"sources":["compone.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA","file":"compone.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card header=\"机构信息维护\" shadow=\"never\" style=\"min-height:600px\">\n      <div style=\"width: 98%;margin:0 auto\">\n        <el-form ref=\"contractForm\" :model=\"contractForm\" :rules=\"contractRules\" label-width=\"110px\">\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"organName\" label=\"机构名称:\">\n                <el-input v-model=\"contractForm.organName\" :disabled=\"isEdit\" maxlength=\"20\" style=\"width: 350pxpx\" placeholder=\"请录入机构名称\" />\n              </el-form-item>\n            </el-col>\n            <!-- <el-col :span=\"12\">\n              <el-form-item prop=\"contControlId\" label=\"文档控制编号\">\n                <el-input v-model=\"contractForm.contControlId\" style=\"width: 350pxpx\" maxlength=\"20\" placeholder=\"请录入文档控制编号\" />\n              </el-form-item>\n            </el-col> -->\n            <el-col :span=\"12\">\n              <el-form-item prop=\"jurPerson\" label=\"法定代表人:\">\n                <el-input v-model=\"contractForm.jurPerson\" style=\"width: 350pxpx\" maxlength=\"10\" placeholder=\"请录入法人\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"address\" label=\"通讯地址:\">\n                <el-input v-model=\"contractForm.address\" style=\"width: 350pxpx\" maxlength=\"35\" placeholder=\"请录入通讯地址\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"postCode\" label=\"邮政编码:\">\n                <el-input v-model=\"contractForm.postCode\" style=\"width: 350pxpx\" maxlength=\"6\" placeholder=\"请录入邮编\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"agentPerson\" label=\"委托代理人:\">\n                <el-input v-model=\"contractForm.agentPerson\" style=\"width: 350pxpx\" maxlength=\"12\" placeholder=\"请录入委托代理人\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"telFax\" label=\"电话/传真:\">\n                <el-input v-model=\"contractForm.telFax\" style=\"width: 350pxpx\" maxlength=\"15\" placeholder=\"请录入电话/传真\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"bankName\" label=\"开户行:\">\n                <el-input v-model=\"contractForm.bankName\" style=\"width: 350pxpx\" maxlength=\"30\" placeholder=\"请录入开户行\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"bankNo\" label=\"银行账号:\">\n                <el-input v-model=\"contractForm.bankNo\" style=\"width: 350pxpx\" maxlength=\"30\" placeholder=\"请录入银行卡号\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"taxNumber\" label=\"企业税号:\">\n                <el-input v-model=\"contractForm.taxNumber\" style=\"width: 350pxpx\" maxlength=\"20\" placeholder=\"请录入税号\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"24\" style=\"text-align:center;\">\n              <el-button type=\"primary\" @click=\"confirm\"> 保 存 </el-button>\n            </el-col>\n          </el-row>\n        </el-form>\n      </div>\n    </el-card>\n\n  </div>\n</template>\n\n<script>\nimport * as ownerServer from '@/api/ownerContract'\nexport default {\n  data() {\n    return {\n      contractForm: {\n        id: '',\n        organName: '',\n        contControlId: 'HT001',\n        address: '',\n        postCode: '',\n        jurPerson: '',\n        agentPerson: '',\n        telFax: '',\n        bankName: '',\n        bankNo: '',\n        taxNumber: ''\n      },\n      isEdit: false,\n      contractRules: {\n        organName: [{ required: true, message: '请录入机构名称', trigger: 'blur' }],\n        address: [{ required: true, message: '请录入机构地址', trigger: 'blur' }],\n        postCode: [{ required: true, message: '请录入邮政编号', trigger: 'blur' }],\n        jurPerson: [{ required: true, message: '请录入法人', trigger: 'blur' }],\n        agentPerson: [{ required: true, message: '请录入委托代理人', trigger: 'blur' }],\n        telFax: [{ required: true, message: '请录入电话/传真', trigger: 'blur' }],\n        bankName: [{ required: true, message: '请录入开户行', trigger: 'blur' }],\n        bankNo: [{ required: true, message: '请录入银行卡号', trigger: 'blur' }],\n        taxNumber: [{ required: true, message: '请录入企业税号', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.getOwnInfo()\n  },\n  methods: {\n    getOwnInfo() {\n      if (this.$store.getters.organId) {\n        ownerServer.findByOrganId(this.$store.getters.organId).then(res => {\n          if (res.code === 200 && res.result) {\n            this.contractForm = res.result\n            this.isEdit = true\n          }\n        })\n      }\n    },\n    confirm() {\n      this.$refs.contractForm.validate(valid => {\n        if (valid) {\n          this.contractForm.contControlId = 'HT001'\n          if (!this.isEdit) {\n            ownerServer.addOwnerContBase(this.contractForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n                this.getOwnInfo()\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          } else {\n            ownerServer.modifyOwnerContBaseById(this.contractForm).then(result => {\n              if (result.code === 200) {\n                this.$notify({\n                  title: '成功',\n                  message: result.message,\n                  type: 'success'\n                })\n              } else {\n                this.$notify({\n                  title: '失败',\n                  message: result.message,\n                  type: 'error'\n                })\n              }\n            })\n          }\n        } else {\n          this.$message.error('请录入完整信息')\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n  ::v-deep .el-card .el-card__header {\n    padding: 15px 20px;\n    background: #F3F2F2;\n  }\n</style>\n"]}]}